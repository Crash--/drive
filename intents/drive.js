/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"intents": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// script path function
/******/ 	function jsonpScriptSrc(chunkId) {
/******/ 		return __webpack_require__.p + "" + ({}[chunkId]||chunkId) + "/drive.js"
/******/ 	}
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// The chunk loading function for additional chunks
/******/ 	// Since all referenced chunks are already included
/******/ 	// in this file, this function is empty here.
/******/ 	__webpack_require__.e = function requireEnsure() {
/******/ 		return Promise.resolve();
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push([0,"vendors"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "+m2E":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MoveModal", function() { return MoveModal; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("fvjX");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("buk/");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("Z7XG");
/* harmony import */ var cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("67rm");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("4kcP");
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("OjRq");
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("OTOu");
/* harmony import */ var sharing_hoc_withSharingState__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("xYmX");
/* harmony import */ var drive_web_modules_move_Header__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("6WMq");
/* harmony import */ var drive_web_modules_move_Explorer__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("rR5K");
/* harmony import */ var drive_web_modules_move_FileList__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("w2zn");
/* harmony import */ var drive_web_modules_move_Loader__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("1HFg");
/* harmony import */ var drive_web_modules_move_LoadMore__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("XetN");
/* harmony import */ var drive_web_modules_move_Footer__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("NQEN");
/* harmony import */ var drive_web_modules_move_Topbar__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__("tLSP");





























var MoveModal =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(MoveModal, _React$Component);

  function MoveModal(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, MoveModal);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(MoveModal).call(this, props));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "navigateTo", function (folder) {
      _this.setState({
        folderId: folder.id
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "registerCancelable", function (promise) {
      if (!_this.promises) _this.promises = [];
      var cancelableP = Object(cozy_client__WEBPACK_IMPORTED_MODULE_14__["cancelable"])(promise);

      _this.promises.push(cancelableP);

      return cancelableP;
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "unregisterCancelables", function () {
      _this.promises.forEach(function (p) {
        return p.cancel();
      });

      _this.promises = [];
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "moveEntries",
    /*#__PURE__*/
    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
      var _this$props, client, entries, onClose, sharingState, t, sharedPaths, folderId, trashedFiles, response, targetName;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _this$props = _this.props, client = _this$props.client, entries = _this$props.entries, onClose = _this$props.onClose, sharingState = _this$props.sharingState, t = _this$props.t;
              sharedPaths = sharingState.sharedPaths;
              folderId = _this.state.folderId;
              _context2.prev = 3;

              _this.setState({
                isMoveInProgress: true
              });

              trashedFiles = [];
              _context2.next = 8;
              return Promise.all(entries.map(
              /*#__PURE__*/
              function () {
                var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
                /*#__PURE__*/
                _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(entry) {
                  var targetPath, force, moveResponse;
                  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
                    while (1) {
                      switch (_context.prev = _context.next) {
                        case 0:
                          _context.next = 2;
                          return _this.registerCancelable(models__WEBPACK_IMPORTED_MODULE_19__["CozyFile"].getFullpath(folderId, entry.name));

                        case 2:
                          targetPath = _context.sent;
                          force = !sharedPaths.includes(targetPath);
                          _context.next = 6;
                          return _this.registerCancelable(models__WEBPACK_IMPORTED_MODULE_19__["CozyFile"].move(entry._id, {
                            folderId: folderId
                          }, force));

                        case 6:
                          moveResponse = _context.sent;

                          if (moveResponse.deleted) {
                            trashedFiles.push(moveResponse.deleted);
                          }

                        case 8:
                        case "end":
                          return _context.stop();
                      }
                    }
                  }, _callee);
                }));

                return function (_x) {
                  return _ref2.apply(this, arguments);
                };
              }()));

            case 8:
              _context2.next = 10;
              return _this.registerCancelable(client.query(client.get('io.cozy.files', folderId)));

            case 10:
              response = _context2.sent;
              targetName = response.data.name;
              cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_16__["default"].info('Move.success', {
                subject: entries.length === 1 ? entries[0].name : '',
                target: targetName,
                smart_count: entries.length,
                buttonText: t('Move.cancel'),
                buttonAction: function buttonAction() {
                  return _this.cancelMove(entries, trashedFiles);
                }
              });

              _this.trackEvent(entries.length);

              _context2.next = 20;
              break;

            case 16:
              _context2.prev = 16;
              _context2.t0 = _context2["catch"](3);
              lib_logger__WEBPACK_IMPORTED_MODULE_20__["default"].warn(_context2.t0);
              cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_16__["default"].error('Move.error', {
                smart_count: entries.length
              });

            case 20:
              _context2.prev = 20;

              _this.setState({
                isMoveInProgress: false
              });

              onClose({
                cancelSelection: true
              });
              return _context2.finish(20);

            case 24:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2, null, [[3, 16, 20, 24]]);
    })));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "cancelMove",
    /*#__PURE__*/
    function () {
      var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(entries, trashedFiles) {
        var client, fileCollection, restoreErrorsCount;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                client = _this.props.client;
                _context3.prev = 1;
                _context3.next = 4;
                return Promise.all(entries.map(function (entry) {
                  return _this.registerCancelable(models__WEBPACK_IMPORTED_MODULE_19__["CozyFile"].move(entry._id, {
                    folderId: entry.dir_id
                  }));
                }));

              case 4:
                fileCollection = client.collection(models__WEBPACK_IMPORTED_MODULE_19__["CozyFile"].doctype);
                restoreErrorsCount = 0;
                _context3.next = 8;
                return Promise.all(trashedFiles.map(function (id) {
                  try {
                    _this.registerCancelable(fileCollection.restore(id));
                  } catch (_unused) {
                    restoreErrorsCount++;
                  }
                }));

              case 8:
                if (restoreErrorsCount) {
                  cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_16__["default"].info('Move.cancelledWithRestoreErrors', {
                    subject: entries.length === 1 ? entries[0].name : '',
                    smart_count: entries.length,
                    restoreErrorsCount: restoreErrorsCount
                  });
                } else {
                  cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_16__["default"].info('Move.cancelled', {
                    subject: entries.length === 1 ? entries[0].name : '',
                    smart_count: entries.length
                  });
                }

                _context3.next = 15;
                break;

              case 11:
                _context3.prev = 11;
                _context3.t0 = _context3["catch"](1);
                lib_logger__WEBPACK_IMPORTED_MODULE_20__["default"].warn(_context3.t0);
                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_16__["default"].error('Move.cancelled_error', {
                  smart_count: entries.length
                });

              case 15:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, null, [[1, 11]]);
      }));

      return function (_x2, _x3) {
        return _ref3.apply(this, arguments);
      };
    }());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "contentQuery", function (client) {
      return client.find('io.cozy.files').where({
        dir_id: _this.state.folderId,
        _id: {
          $ne: drive_constants_config__WEBPACK_IMPORTED_MODULE_15__["TRASH_DIR_ID"]
        }
      }).indexFields(['dir_id', 'type', 'name']).sortBy([{
        dir_id: 'asc'
      }, {
        type: 'asc'
      }, {
        name: 'asc'
      }]);
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "breadcrumbQuery", function (client) {
      return client.get('io.cozy.files', _this.state.folderId);
    });

    _this.promises = [];
    var displayedFolder = props.displayedFolder;
    _this.state = {
      folderId: displayedFolder ? displayedFolder._id : drive_constants_config__WEBPACK_IMPORTED_MODULE_15__["ROOT_DIR_ID"],
      isMoveInProgress: false
    };
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(MoveModal, [{
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.unregisterCancelables();
    }
  }, {
    key: "trackEvent",
    value: function trackEvent(eventValue) {
      var tracker = Object(cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_18__["getTracker"])();

      if (tracker) {
        tracker.push(['trackEvent', 'Drive', 'move', 'moveTo', eventValue]);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props2 = this.props,
          onClose = _this$props2.onClose,
          entries = _this$props2.entries,
          t = _this$props2.t;
      var _this$state = this.state,
          folderId = _this$state.folderId,
          isMoveInProgress = _this$state.isMoveInProgress;
      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_12__["Modal"], {
        size: 'xlarge',
        closable: false,
        overflowHidden: true,
        mobileFullscreen: true,
        into: "body",
        "aria-label": t('Move.modalTitle'),
        className: 'u-mih-100'
      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_Header__WEBPACK_IMPORTED_MODULE_22__["default"], {
        entries: entries,
        onClose: onClose
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_14__["Query"], {
        query: this.breadcrumbQuery,
        key: "breadcrumb-".concat(folderId)
      }, function (_ref4) {
        var data = _ref4.data,
            fetchStatus = _ref4.fetchStatus;
        return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_Topbar__WEBPACK_IMPORTED_MODULE_28__["default"], {
          navigateTo: _this2.navigateTo,
          currentDir: data,
          fetchStatus: fetchStatus
        });
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_14__["Query"], {
        query: this.contentQuery,
        key: "content-".concat(folderId)
      }, function (_ref5) {
        var data = _ref5.data,
            fetchStatus = _ref5.fetchStatus,
            hasMore = _ref5.hasMore,
            fetchMore = _ref5.fetchMore;
        return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_Explorer__WEBPACK_IMPORTED_MODULE_23__["default"], null, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_Loader__WEBPACK_IMPORTED_MODULE_25__["default"], {
          fetchStatus: fetchStatus,
          hasNoData: data.length === 0
        }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_FileList__WEBPACK_IMPORTED_MODULE_24__["default"], {
          files: data,
          targets: entries,
          navigateTo: _this2.navigateTo
        }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_LoadMore__WEBPACK_IMPORTED_MODULE_26__["default"], {
          hasMore: hasMore,
          fetchMore: fetchMore
        }))));
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_Footer__WEBPACK_IMPORTED_MODULE_27__["default"], {
        onConfirm: this.moveEntries,
        onClose: onClose,
        targets: entries,
        currentDirId: folderId,
        isMoving: isMoveInProgress
      }));
    }
  }]);

  return MoveModal;
}(react__WEBPACK_IMPORTED_MODULE_9___default.a.Component);
MoveModal.propTypes = {
  client: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired,
  displayedFolder: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired,
  entries: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.array,
  t: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  // in case of move conflicts, shared files are not overridden
  sharingState: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    displayedFolder: state.view.displayedFolder
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_11__["compose"])(Object(react_redux__WEBPACK_IMPORTED_MODULE_17__["connect"])(mapStateToProps), Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_13__["translate"])(), cozy_client__WEBPACK_IMPORTED_MODULE_14__["withClient"], sharing_hoc_withSharingState__WEBPACK_IMPORTED_MODULE_21__["default"])(MoveModal));

/***/ }),

/***/ "/FPF":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharingDetailsModal", function() { return SharingDetailsModal; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _share_styl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("jrFr");
/* harmony import */ var _share_styl__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_share_styl__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _components_Recipient__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("MzcY");
/* harmony import */ var _components_WhoHasAccess__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("GFJL");
/* harmony import */ var cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("cLsY");
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("OjRq");













var SharingDetailsModal =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(SharingDetailsModal, _Component);

  function SharingDetailsModal() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, SharingDetailsModal);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(SharingDetailsModal).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(SharingDetailsModal, [{
    key: "render",
    value: function render() {
      var _this$context = this.context,
          t = _this$context.t,
          f = _this$context.f;
      var _this$props = this.props,
          onClose = _this$props.onClose,
          sharingType = _this$props.sharingType,
          owner = _this$props.owner,
          recipients = _this$props.recipients,
          document = _this$props.document,
          _this$props$documentT = _this$props.documentType,
          documentType = _this$props$documentT === void 0 ? 'Document' : _this$props$documentT,
          onRevoke = _this$props.onRevoke;
      return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_11__["default"], {
        title: t("".concat(documentType, ".share.details.title")),
        secondaryAction: onClose,
        className: _share_styl__WEBPACK_IMPORTED_MODULE_6___default.a['share-modal'],
        into: "body",
        size: "small",
        mobileFullscreen: true
      }, react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_11__["ModalContent"], {
        className: _share_styl__WEBPACK_IMPORTED_MODULE_6___default.a['share-modal-content']
      }, react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
        className: _share_styl__WEBPACK_IMPORTED_MODULE_6___default.a['share-details']
      }, react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_Recipient__WEBPACK_IMPORTED_MODULE_9__["UserAvatar"], {
        name: t("".concat(documentType, ".share.sharedBy"), {
          name: models__WEBPACK_IMPORTED_MODULE_12__["Contact"].getDisplayName(owner)
        }),
        url: owner.instance
      }), react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
        className: _share_styl__WEBPACK_IMPORTED_MODULE_6___default.a['share-details-created']
      }, t("".concat(documentType, ".share.details.createdAt"), {
        date: f(document.created_at || null, 'Do MMMM YYYY')
      })), react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
        className: _share_styl__WEBPACK_IMPORTED_MODULE_6___default.a['share-details-perm']
      }, t("".concat(documentType, ".share.details.").concat(sharingType === 'one-way' ? 'ro' : 'rw'))), react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
        className: _share_styl__WEBPACK_IMPORTED_MODULE_6___default.a['share-details-perm-desc']
      }, t("".concat(documentType, ".share.details.desc.").concat(sharingType === 'one-way' ? 'ro' : 'rw')))), react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("hr", {
        className: _share_styl__WEBPACK_IMPORTED_MODULE_6___default.a['divider']
      }), react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_WhoHasAccess__WEBPACK_IMPORTED_MODULE_10__["default"], {
        title: t('Share.recipients.accessCount', {
          count: recipients.length
        }),
        recipients: recipients,
        document: document,
        documentType: documentType,
        onRevoke: onRevoke
      })));
    }
  }]);

  return SharingDetailsModal;
}(react__WEBPACK_IMPORTED_MODULE_8__["Component"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(SharingDetailsModal, "contextTypes", {
  t: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,
  f: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object.isRequired
});

/***/ }),

/***/ "/GQe":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTranslateFunction", function() { return getTranslateFunction; });
/* harmony import */ var _cozy_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q3u0");
/* harmony import */ var cozy_ui_react_I18n_translation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QCzH");

 // used when translating things outside of components, eg. native UIs

var getTranslateFunction = function getTranslateFunction() {
  if (cozy_ui_react_I18n_translation__WEBPACK_IMPORTED_MODULE_1__["_polyglot"] === undefined) {
    var lang = Object(_cozy_helper__WEBPACK_IMPORTED_MODULE_0__["getLang"])();

    var dictRequire = function dictRequire(lang) {
      return __webpack_require__("tqYW")("./".concat(lang));
    };

    Object(cozy_ui_react_I18n_translation__WEBPACK_IMPORTED_MODULE_1__["initTranslation"])(lang, dictRequire);
  }

  return cozy_ui_react_I18n_translation__WEBPACK_IMPORTED_MODULE_1__["_polyglot"].t.bind(cozy_ui_react_I18n_translation__WEBPACK_IMPORTED_MODULE_1__["_polyglot"]);
};

/***/ }),

/***/ "/OCp":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"oops":"oops--O8MK8"};

/***/ }),

/***/ "/TmC":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var sharing_propTypes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("G9pQ");
/* harmony import */ var sharing_components_ShareAutosuggest__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("fyrk");
/* harmony import */ var sharing_share_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("jrFr");
/* harmony import */ var sharing_share_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(sharing_share_styl__WEBPACK_IMPORTED_MODULE_12__);














var ShareRecipientsInput =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(ShareRecipientsInput, _Component);

  function ShareRecipientsInput() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, ShareRecipientsInput);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(ShareRecipientsInput)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "state", {
      loading: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "onFocus", function () {
      var _this$props = _this.props,
          contacts = _this$props.contacts,
          groups = _this$props.groups;

      if (contacts.hasMore || contacts.fetchStatus === 'loading' || groups.hasMore || groups.fetchStatus === 'loading') {
        _this.setState({
          loading: true
        });
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "getContactsAndGroups", function () {
      // we need contacts to be loaded to be able to add all group members to recipients
      var _this$props2 = _this.props,
          contacts = _this$props2.contacts,
          groups = _this$props2.groups;

      if (contacts.hasMore || contacts.fetchStatus === 'loading') {
        return contacts.data;
      } else {
        return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(contacts.data), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(groups.data));
      }
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ShareRecipientsInput, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      var _this$props3 = this.props,
          contacts = _this$props3.contacts,
          groups = _this$props3.groups;

      if (this.state.loading && !contacts.hasMore && contacts.fetchStatus === 'loaded' && !groups.hasMore && groups.fetchStatus === 'loaded') {
        this.setState({
          loading: false
        });
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props4 = this.props,
          label = _this$props4.label,
          onPick = _this$props4.onPick,
          onRemove = _this$props4.onRemove,
          placeholder = _this$props4.placeholder,
          recipients = _this$props4.recipients;
      var loading = this.state.loading;
      return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("label", {
        className: sharing_share_styl__WEBPACK_IMPORTED_MODULE_12___default.a['coz-form-label'],
        htmlFor: "email"
      }, label), react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(sharing_components_ShareAutosuggest__WEBPACK_IMPORTED_MODULE_11__["default"], {
        loading: loading,
        contactsAndGroups: this.getContactsAndGroups(),
        recipients: recipients,
        onFocus: this.onFocus,
        onPick: onPick,
        onRemove: onRemove,
        placeholder: placeholder
      }));
    }
  }]);

  return ShareRecipientsInput;
}(react__WEBPACK_IMPORTED_MODULE_8__["Component"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(ShareRecipientsInput, "contextTypes", {
  client: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object.isRequired
});

ShareRecipientsInput.propTypes = {
  label: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,
  contacts: sharing_propTypes__WEBPACK_IMPORTED_MODULE_10__["contactsResponseType"].isRequired,
  groups: sharing_propTypes__WEBPACK_IMPORTED_MODULE_10__["groupsResponseType"].isRequired,
  recipients: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.array,
  onPick: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,
  onRemove: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,
  placeholder: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string
};
ShareRecipientsInput.defaultProps = {
  label: 'To:',
  recipients: []
};
/* harmony default export */ __webpack_exports__["default"] = (ShareRecipientsInput);

/***/ }),

/***/ "/WUI":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Le8U");
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_doctypes__WEBPACK_IMPORTED_MODULE_5__);







var Contact =
/*#__PURE__*/
function (_DoctypeContact) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(Contact, _DoctypeContact);

  function Contact() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Contact);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(Contact).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Contact, null, [{
    key: "getInitials",
    value: function getInitials(contactOrRecipient) {
      var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

      if (Contact.isContact(contactOrRecipient)) {
        return cozy_doctypes__WEBPACK_IMPORTED_MODULE_5__["Contact"].getInitials(contactOrRecipient);
      } else {
        var s = contactOrRecipient.public_name || contactOrRecipient.name || contactOrRecipient.email;
        return s && s[0].toUpperCase() || defaultValue;
      }
    }
  }, {
    key: "getDisplayName",
    value: function getDisplayName(contact) {
      var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

      if (Contact.isContact(contact)) {
        return cozy_doctypes__WEBPACK_IMPORTED_MODULE_5__["Contact"].getDisplayName(contact);
      } else {
        return contact.public_name || contact.name || contact.email || defaultValue;
      }
    }
  }]);

  return Contact;
}(cozy_doctypes__WEBPACK_IMPORTED_MODULE_5__["Contact"]);

/* harmony default export */ __webpack_exports__["default"] = (Contact);

/***/ }),

/***/ "/aYq":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("Z7XG");
/* harmony import */ var drive_web_modules_layout_Topbar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("J3YJ");
/* harmony import */ var drive_web_modules_filelist_FileList__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("x76H");
/* harmony import */ var drive_web_modules_navigation_Breadcrumb__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("XQ74");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("/MKj");
/* harmony import */ var _withReduxStore__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("Hwxy");
/* harmony import */ var _AddFolderButton__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("qshS");
/* harmony import */ var _OriginHint__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("Ik8/");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("yEaX");
/* harmony import */ var _picker_styl__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("u0tP");
/* harmony import */ var _picker_styl__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_picker_styl__WEBPACK_IMPORTED_MODULE_21__);























var Picker =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(Picker, _Component);

  function Picker() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, Picker);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Picker)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "state", {
      path: []
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "updateBreadcrumb", function (folder) {
      _this.setState(function (state) {
        var indexInPath = state.path.indexOf(folder);
        var newPath = indexInPath >= 0 ? state.path.slice(0, indexInPath + 1) : [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(state.path), [folder]);
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
          path: newPath
        });
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "navigateTo", function (folder) {
      _this.props.fetchFolder(folder.id);

      _this.updateBreadcrumb(folder);
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "goBack", function () {
      var path = _this.state.path;

      _this.navigateTo(path[path.length - 2]);
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "cancelIntent", function () {
      _this.props.service.cancel();
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "terminateIntent", function () {
      _this.props.service.terminate({
        id: _this.props.openedFolderId
      });
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(Picker, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var root = document.getElementById('main');
      var data = root.dataset;
      this.headerIcon = data.cozyIconPath;
      this.navigateTo({
        id: drive_constants_config__WEBPACK_IMPORTED_MODULE_12__["ROOT_DIR_ID"],
        name: 'Drive'
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          files = _this$props.files,
          service = _this$props.service,
          isMobile = _this$props.breakpoints.isMobile;
      var path = this.state.path;
      var t = this.context.t;

      var _service$getData = service.getData(),
          hint = _service$getData.hint,
          icon = _service$getData.icon;

      var showBackButton = path.length > 1 && isMobile;
      var folders = files.filter(function (file) {
        return file.type === 'directory';
      });
      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        className: _picker_styl__WEBPACK_IMPORTED_MODULE_21___default.a['wrapper']
      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_11__["IntentHeader"], {
        appName: "Drive",
        appEditor: "Cozy",
        appIcon: this.headerIcon
      }), hint && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_OriginHint__WEBPACK_IMPORTED_MODULE_19__["default"], {
        title: hint,
        icon: icon
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_layout_Topbar__WEBPACK_IMPORTED_MODULE_13__["default"], {
        hideOnMobile: false
      }, showBackButton && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_navigation_Breadcrumb__WEBPACK_IMPORTED_MODULE_15__["PreviousButton"], {
        onClick: this.goBack
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_navigation_Breadcrumb__WEBPACK_IMPORTED_MODULE_15__["Breadcrumb"], {
        path: this.state.path,
        onBreadcrumbClick: this.navigateTo,
        opening: false,
        className: _picker_styl__WEBPACK_IMPORTED_MODULE_21___default.a['breadcrumb']
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        className: _picker_styl__WEBPACK_IMPORTED_MODULE_21___default.a['toolbar'],
        role: "toolbar"
      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_AddFolderButton__WEBPACK_IMPORTED_MODULE_18__["default"], null))), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_filelist_FileList__WEBPACK_IMPORTED_MODULE_14__["default"], {
        withSelectionCheckbox: false,
        canSort: false,
        fileActions: [],
        files: folders,
        selectionModeActive: false,
        actionMenuActive: false,
        onFolderOpen: function onFolderOpen(id) {
          return _this2.navigateTo(files.find(function (f) {
            return f.id === id;
          }));
        }
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        className: _picker_styl__WEBPACK_IMPORTED_MODULE_21___default.a['button-area']
      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_11__["Button"], {
        theme: "secondary",
        onClick: this.cancelIntent
      }, t('intents.picker.cancel')), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_11__["Button"], {
        onClick: this.terminateIntent
      }, t('intents.picker.select'))));
    }
  }]);

  return Picker;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Picker, "contextTypes", {
  t: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired
});

var mapStateToProps = function mapStateToProps(state) {
  return {
    openedFolderId: Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_20__["getOpenedFolderId"])(state),
    files: Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_20__["getVisibleFiles"])(state)
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    fetchFolder: function fetchFolder(folderId) {
      return dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_20__["openFolder"])(folderId));
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(_withReduxStore__WEBPACK_IMPORTED_MODULE_17__["default"])(Object(react_redux__WEBPACK_IMPORTED_MODULE_16__["connect"])(mapStateToProps, mapDispatchToProps)(Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_11__["withBreakpoints"])()(Picker))));

/***/ }),

/***/ "/beP":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNavigating", function() { return isNavigating; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFilesWithLinks", function() { return getFilesWithLinks; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getVisibleFiles", function() { return getVisibleFiles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSort", function() { return getSort; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCurrentFilesIndex", function() { return getCurrentFilesIndex; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFileById", function() { return getFileById; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ensureFileHavePath", function() { return ensureFileHavePath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFilePath", function() { return getFilePath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDisplayedFilePath", function() { return getDisplayedFilePath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOpenedFolderId", function() { return getOpenedFolderId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFolderIdFromRoute", function() { return getFolderIdFromRoute; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFolderUrl", function() { return getFolderUrl; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("fvjX");
/* harmony import */ var lodash_pull__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("hzCD");
/* harmony import */ var lodash_pull__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_pull__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("QwUF");
/* harmony import */ var drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("jJwP");
/* harmony import */ var drive_web_modules_drive_SharingsContainer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("IkgV");
/* harmony import */ var drive_web_modules_drive_rename__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("JZSQ");
/* harmony import */ var drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("ommj");
/* harmony import */ var drive_constants_config_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("Z7XG");











var hasDisplayedSomething = function hasDisplayedSomething() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case _actions__WEBPACK_IMPORTED_MODULE_4__["OPEN_FOLDER_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_RECENT_SUCCESS"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["OPEN_FOLDER_FROM_TRASH_SUCCESS"]:
      return true;

    default:
      return state;
  }
};

var isOpening = function isOpening() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case _actions__WEBPACK_IMPORTED_MODULE_4__["OPEN_FOLDER"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_RECENT"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_SHARINGS"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["OPEN_FOLDER_FROM_TRASH"]:
      return true;

    case _actions__WEBPACK_IMPORTED_MODULE_4__["OPEN_FOLDER_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_RECENT_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_SHARINGS_SUCCESS"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["OPEN_FOLDER_FROM_TRASH_SUCCESS"]:
      return false;

    default:
      return state;
  }
};

var isNavigating = function isNavigating(_ref) {
  var view = _ref.view;
  return view.hasDisplayedSomething && view.isOpening;
};
/*
  It seems that we have a distinction between
  `displayedFolder` which is set after a success (generaly async)
  and
  `openedFolderId` which is set just after the dispatch of OPEN_FOLDER
  without waiting for any success / faillure

  Also `openedFilderId` is just the uuid of the folder.
  `displayedFolder` is a io.cozy.file object
*/
// reducer for the currently displayed folder properties

var displayedFolder = function displayedFolder() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case _actions__WEBPACK_IMPORTED_MODULE_4__["OPEN_FOLDER_SUCCESS"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["OPEN_FOLDER_FROM_TRASH_SUCCESS"]:
    case drive_web_modules_drive_SharingsContainer__WEBPACK_IMPORTED_MODULE_6__["OPEN_FOLDER_FROM_SHARINGS_SUCCESS"]:
      return action.folder;

    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_RECENT_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_SHARINGS_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_SHARINGS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_RECENT"]:
      return null;

    default:
      return state;
  }
};
/*
  CurrentView is not async. It is called at the beginning
  of a new action.

  `View` is related to our navigation. We currently have 4 views :
    - Drive / Folder
    - Sharings
    - Recent
    - Trash
*/


var TRASH_VIEW = 'trash';
var FOLDER_VIEW = 'folder';
var RECENT_VIEW = 'recent';
var SHARINGS_VIEW = 'sharings';

var currentView = function currentView() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case _actions__WEBPACK_IMPORTED_MODULE_4__["OPEN_FOLDER"]:
      if (action.folderId === drive_constants_config_js__WEBPACK_IMPORTED_MODULE_9__["TRASH_DIR_ID"]) {
        return TRASH_VIEW;
      }

      return FOLDER_VIEW;

    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_RECENT"]:
      return RECENT_VIEW;

    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_SHARINGS"]:
      return SHARINGS_VIEW;

    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["OPEN_FOLDER_FROM_TRASH"]:
      return TRASH_VIEW;

    case drive_web_modules_drive_SharingsContainer__WEBPACK_IMPORTED_MODULE_6__["OPEN_FOLDER_FROM_SHARINGS"]:
      return SHARINGS_VIEW;

    default:
      return state;
  }
};

var openedFolderId = function openedFolderId() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case _actions__WEBPACK_IMPORTED_MODULE_4__["OPEN_FOLDER"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["OPEN_FOLDER_FROM_TRASH"]:
    case drive_web_modules_drive_SharingsContainer__WEBPACK_IMPORTED_MODULE_6__["OPEN_FOLDER_FROM_SHARINGS"]:
      return action.folderId;

    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_RECENT"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_SHARINGS"]:
      return null;

    default:
      return state;
  }
};

var fileCount = function fileCount() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case _actions__WEBPACK_IMPORTED_MODULE_4__["OPEN_FOLDER_SUCCESS"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["OPEN_FOLDER_FROM_TRASH_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_RECENT_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_SHARINGS_SUCCESS"]:
    case drive_web_modules_drive_SharingsContainer__WEBPACK_IMPORTED_MODULE_6__["OPEN_FOLDER_FROM_SHARINGS_SUCCESS"]:
      return action.fileCount;

    case _actions__WEBPACK_IMPORTED_MODULE_4__["CREATE_FOLDER_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["ADD_FILE"]:
      return state + 1;

    case _actions__WEBPACK_IMPORTED_MODULE_4__["DELETE_FILE"]:
      return state - 1;

    case _actions__WEBPACK_IMPORTED_MODULE_4__["TRASH_FILES_SUCCESS"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["DESTROY_FILES_SUCCESS"]:
      return state - action.ids.length;
    // This looks counter-intuitive to decrement the file count here,
    // but we're in the trash, so when we restore files from the trash,
    // the file count of the trash decrements

    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["RESTORE_FILES_SUCCESS"]:
      return state - action.ids.length;

    default:
      return state;
  }
};

var sort = function sort() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case _actions__WEBPACK_IMPORTED_MODULE_4__["SORT_FOLDER"]:
      return {
        attribute: action.sortAttribute,
        order: action.sortOrder
      };

    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_RECENT_SUCCESS"]:
      return {
        attribute: 'updated_at',
        order: 'desc'
      };

    case _actions__WEBPACK_IMPORTED_MODULE_4__["OPEN_FOLDER_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_SHARINGS_SUCCESS"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["OPEN_FOLDER_FROM_TRASH_SUCCESS"]:
    case drive_web_modules_drive_SharingsContainer__WEBPACK_IMPORTED_MODULE_6__["OPEN_FOLDER_FROM_SHARINGS_SUCCESS"]:
      return null;

    default:
      return state;
  }
};

var updateItem = function updateItem(file, files) {
  var existingFile = files.find(function (f) {
    return f.id === file.id;
  });
  var index = files.indexOf(existingFile);
  var toRemove = index >= 0 ? 1 : 0;
  var filesCopy = files.slice();
  filesCopy.splice(index, toRemove, file);
  return filesCopy;
};

var getCompareFn = function getCompareFn() {
  var currentSort = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var sort = currentSort || {
    attribute: 'name',
    order: 'asc'
  };

  if (sort.attribute === 'updated_at') {
    return function (a, b) {
      var ta = new Date(a.updated_at).getTime();
      var tb = new Date(b.updated_at).getTime();
      return sort.order === 'desc' ? ta > tb ? -1 : 1 : ta > tb ? 1 : -1;
    };
  } // We always return the compare fn for name by default, so
  // that adding new sorting fields will not break this function (it
  // will need to be updated though)


  return function (a, b) {
    if (a.type !== b.type) {
      return Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_8__["isDirectory"])(a) ? -1 : 1;
    }

    return sort.order === 'desc' ? b.name.localeCompare(a.name) : a.name.localeCompare(b.name);
  };
};

var insertItem = function insertItem(file, array, currentItemCount) {
  var currentSort = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
  if (array.find(function (f) {
    return f.id === file.id;
  })) return array;
  var index = indexFor(file, array, getCompareFn(currentSort)); // if we only have partially fetched the file list and the new item
  // position is in the unfetched part of the list, we don't add the item
  // to the list

  if (index === array.length - 1 && array.length < currentItemCount) {
    return array;
  }

  return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(array.slice(0, index + 1)), [file], _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(array.slice(index + 1)));
};

var indexFor = function indexFor(file, array, compareFn) {
  var start = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
  var end = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : array.length;
  if (array.length === 0) return -1;
  var pivot = parseInt(start + (end - start) / 2, 10);
  var c = compareFn(file, array[pivot]);
  if (end - start <= 1) return c === -1 ? pivot - 1 : pivot;

  switch (c) {
    case -1:
      return indexFor(file, array, compareFn, start, pivot);

    case 0:
      return pivot;

    case 1:
      return indexFor(file, array, compareFn, pivot, end);
  }
}; // reducer for the full file list of the currently displayed folder


var files = function files() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
    shared: [],
    recent: [],
    trashed: [],
    folder: []
  };
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case drive_web_modules_drive_SharingsContainer__WEBPACK_IMPORTED_MODULE_6__["OPEN_FOLDER_FROM_SHARINGS_SUCCESS"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        shared: action.files
      });

    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["OPEN_FOLDER_FROM_TRASH_SUCCESS"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        trashed: action.files
      });

    case _actions__WEBPACK_IMPORTED_MODULE_4__["OPEN_FOLDER_SUCCESS"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        folder: action.files
      });

    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_RECENT_SUCCESS"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        recent: action.files
      });

    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_SHARINGS_SUCCESS"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        shared: action.files
      });

    case _actions__WEBPACK_IMPORTED_MODULE_4__["SORT_FOLDER_SUCCESS"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        folder: action.files
      });

    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_MORE_FILES_SUCCESS"]:
      {
        var clone = state.folder.slice(0);
        action.files.forEach(function (f, i) {
          clone[action.skip + i] = f;
        });
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
          folder: clone
        });
      }

    case drive_web_modules_drive_rename__WEBPACK_IMPORTED_MODULE_7__["RENAME_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["UPDATE_FILE"]:
      {
        var newStateFile = updateItem(action.file, state.folder);
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
          folder: newStateFile
        });
      }

    case _actions__WEBPACK_IMPORTED_MODULE_4__["ADD_FILE"]:
      {
        var newFolderState = insertItem(action.file, state.folder, action.currentFileCount, action.currentSort);
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
          folder: newFolderState
        });
      }

    case _actions__WEBPACK_IMPORTED_MODULE_4__["CREATE_FOLDER_SUCCESS"]:
      {
        var _newFolderState = insertItem(action.folder, state.folder, action.currentFileCount, action.currentSort);

        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
          folder: _newFolderState
        });
      }

    case _actions__WEBPACK_IMPORTED_MODULE_4__["TRASH_FILES_SUCCESS"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["RESTORE_FILES_SUCCESS"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["DESTROY_FILES_SUCCESS"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        trashed: state.trashed.filter(function (f) {
          return action.ids.indexOf(f.id) === -1;
        })
      });

    case _actions__WEBPACK_IMPORTED_MODULE_4__["DELETE_FILE"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        folder: state.folder.filter(function (f) {
          return action.file.id !== f.id;
        })
      });

    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["EMPTY_TRASH_SUCCESS"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        trashed: []
      });

    default:
      return state;
  }
};

var fetchStatus = function fetchStatus() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'pending';
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    // there's a trick here : we set the fetchStatus to 'pending'
    // on initial state so that the loading spinner is only showed
    // when the app is launched or when the user use the back button
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["EMPTY_TRASH"]: // we temporarily display the spinner when working in the trashed

    case _actions__WEBPACK_IMPORTED_MODULE_4__["SORT_FOLDER"]:
      return 'pending';

    case _actions__WEBPACK_IMPORTED_MODULE_4__["OPEN_FOLDER_SUCCESS"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["OPEN_FOLDER_FROM_TRASH_SUCCESS"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["OPEN_FOLDER_FROM_TRASH_FAILURE"]:
    case drive_web_modules_drive_SharingsContainer__WEBPACK_IMPORTED_MODULE_6__["OPEN_FOLDER_FROM_SHARINGS_SUCCESS"]:
    case drive_web_modules_drive_SharingsContainer__WEBPACK_IMPORTED_MODULE_6__["OPEN_FOLDER_FROM_SHARINGS_FAILURE"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["SORT_FOLDER_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_RECENT_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_SHARINGS_SUCCESS"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["EMPTY_TRASH_SUCCESS"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["EMPTY_TRASH_FAILURE"]:
      return 'loaded';

    case _actions__WEBPACK_IMPORTED_MODULE_4__["OPEN_FOLDER_FAILURE"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["SORT_FOLDER_FAILURE"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_RECENT_FAILURE"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_SHARINGS_FAILURE"]:
      return 'failed';

    default:
      return state;
  }
};

var lastFetch = function lastFetch() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case _actions__WEBPACK_IMPORTED_MODULE_4__["OPEN_FOLDER_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["OPEN_FOLDER_FAILURE"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["OPEN_FOLDER_FROM_TRASH_SUCCESS"]:
    case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["OPEN_FOLDER_FROM_TRASH_FAILURE"]:
    case drive_web_modules_drive_SharingsContainer__WEBPACK_IMPORTED_MODULE_6__["OPEN_FOLDER_FROM_SHARINGS_SUCCESS"]:
    case drive_web_modules_drive_SharingsContainer__WEBPACK_IMPORTED_MODULE_6__["OPEN_FOLDER_FROM_SHARINGS_FAILURE"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["SORT_FOLDER_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["SORT_FOLDER_FAILURE"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_RECENT_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_RECENT_FAILURE"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_SHARINGS_SUCCESS"]:
    case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_SHARINGS_FAILURE"]:
      return Date.now();

    default:
      return state;
  }
};

var deduplicateCreateDeleteActions = function deduplicateCreateDeleteActions(originalReducer) {
  var created = [];
  var deleted = [];

  var deduplicateCreateAction = function deduplicateCreateAction(state, action) {
    var doc = action.file || action.folder;
    if (created.includes(doc.id)) return state;else {
      created.push(doc.id);
      lodash_pull__WEBPACK_IMPORTED_MODULE_3___default()(deleted, doc.id);
      return originalReducer(state, action);
    }
  };

  var deduplicateDeleteAction = function deduplicateDeleteAction(state, action) {
    var actionIds = action.ids || [action.file.id];
    var toRemove = actionIds.filter(function (id) {
      return !deleted.includes(id);
    });
    if (toRemove.length === 0) return state;else {
      deleted.push.apply(deleted, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(toRemove));
      lodash_pull__WEBPACK_IMPORTED_MODULE_3___default.a.apply(void 0, [created].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(toRemove)));
      action.ids = toRemove;
      return originalReducer(state, action);
    }
  };

  var clearInternalCache = function clearInternalCache(state, action) {
    created.length = 0;
    deleted.length = 0;
    return originalReducer(state, action);
  };

  return function (state, action) {
    switch (action.type) {
      case _actions__WEBPACK_IMPORTED_MODULE_4__["CREATE_FOLDER_SUCCESS"]:
      case _actions__WEBPACK_IMPORTED_MODULE_4__["ADD_FILE"]:
        return deduplicateCreateAction(state, action);

      case _actions__WEBPACK_IMPORTED_MODULE_4__["DELETE_FILE"]:
      case _actions__WEBPACK_IMPORTED_MODULE_4__["TRASH_FILES_SUCCESS"]:
      case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["DESTROY_FILES_SUCCESS"]:
      case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["RESTORE_FILES_SUCCESS"]:
        return deduplicateDeleteAction(state, action);

      case _actions__WEBPACK_IMPORTED_MODULE_4__["OPEN_FOLDER_SUCCESS"]:
      case drive_web_modules_trash_actions__WEBPACK_IMPORTED_MODULE_5__["OPEN_FOLDER_FROM_TRASH_SUCCESS"]:
      case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_RECENT_SUCCESS"]:
      case _actions__WEBPACK_IMPORTED_MODULE_4__["FETCH_SHARINGS_SUCCESS"]:
        return clearInternalCache(state, action);

      default:
        return originalReducer(state, action);
    }
  };
};

var thumbnailSize = function thumbnailSize() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case _actions__WEBPACK_IMPORTED_MODULE_4__["TOGGLE_THUMBNAIL_SIZE"]:
      return !state;

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_2__["combineReducers"])({
  hasDisplayedSomething: hasDisplayedSomething,
  isOpening: isOpening,
  displayedFolder: displayedFolder,
  openedFolderId: openedFolderId,
  fileCount: deduplicateCreateDeleteActions(fileCount),
  sort: sort,
  files: files,
  fetchStatus: fetchStatus,
  lastFetch: lastFetch,
  currentView: currentView,
  thumbnailSize: thumbnailSize
})); // TODO: temp

var getFilesWithLinks = function getFilesWithLinks(_ref2, folderId) {
  var view = _ref2.view;
  return view.filesWithLinks[folderId];
};
var getVisibleFiles = function getVisibleFiles(_ref3) {
  var view = _ref3.view;
  return getCurrentFilesIndex(view).map(function (f) {
    return ensureFileHavePath({
      view: view
    }, f);
  });
};
var getSort = function getSort(_ref4) {
  var view = _ref4.view;
  return view.sort;
};
var getCurrentFilesIndex = function getCurrentFilesIndex(view) {
  switch (view.currentView) {
    case FOLDER_VIEW:
      return view.files.folder;

    case RECENT_VIEW:
      return view.files.recent;

    case SHARINGS_VIEW:
      return view.files.shared;

    case TRASH_VIEW:
      return view.files.trashed;

    default:
      return view.files.folder;
  }
};
var getFileById = function getFileById(_ref5, id) {
  var view = _ref5.view;
  var file = getCurrentFilesIndex(view).find(function (f) {
    return f && f.id && f.id === id;
  });
  if (!file) return null; // we need the path for some actions, like selection download
  // but the stack only provides the path for folders...

  return ensureFileHavePath({
    view: view
  }, file);
};

var isRootFolder = function isRootFolder(folder) {
  return folder.id === drive_constants_config_js__WEBPACK_IMPORTED_MODULE_9__["ROOT_DIR_ID"];
};

var ensureFileHavePath = function ensureFileHavePath(_ref6, file) {
  var view = _ref6.view;
  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, file, {
    displayedPath: getDisplayedFilePath({
      view: view
    }, file),
    path: getFilePath({
      view: view
    }, file)
  });
};
/*
  TODO: deprecate and remove getFilePath
*/

var getFilePath = function getFilePath(_ref7, file) {
  var view = _ref7.view;
  var displayedFolder = view.displayedFolder;

  if (Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_8__["isDirectory"])(file)) {
    return file.path;
  } else {
    var folderPath = displayedFolder ? !isRootFolder(displayedFolder) ? displayedFolder.path : '' : file.path; // file.path is the parent folder path

    return "".concat(folderPath, "/").concat(file.name);
  }
};
var getDisplayedFilePath = function getDisplayedFilePath(_ref8, file) {
  var view = _ref8.view;
  var displayedFolder = view.displayedFolder;
  return file.path || (displayedFolder ? displayedFolder.path : '');
};
var getOpenedFolderId = function getOpenedFolderId(state) {
  return state.view.openedFolderId;
};
var getFolderIdFromRoute = function getFolderIdFromRoute(location, params) {
  if (params.folderId) return params.folderId;
  if (location.pathname.match(/^\/folder/)) return drive_constants_config_js__WEBPACK_IMPORTED_MODULE_9__["ROOT_DIR_ID"];
  if (location.pathname.match(/^\/trash/)) return drive_constants_config_js__WEBPACK_IMPORTED_MODULE_9__["TRASH_DIR_ID"];
};

var getFolderUrlFromPathName = function getFolderUrlFromPathName(pathname) {
  if (pathname.match(/^\/sharings/)) return '/sharings/';else if (pathname.match(/^\/trash/)) return '/trash/';else return '/folder/';
};

var getFolderUrl = function getFolderUrl(folderId, location) {
  if (folderId === undefined) return '/folder';
  if (folderId === drive_constants_config_js__WEBPACK_IMPORTED_MODULE_9__["ROOT_DIR_ID"]) return '/folder';
  if (folderId === drive_constants_config_js__WEBPACK_IMPORTED_MODULE_9__["TRASH_DIR_ID"]) return '/trash';
  return getFolderUrlFromPathName(location.pathname) + folderId;
};

/***/ }),

/***/ "/mGs":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("buk/");
/* harmony import */ var react_cozy_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Yo2A");
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("Z7XG");
/* harmony import */ var drive_mobile_modules_mediaBackup_MediaBackupProgression__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("PL+6");
/* harmony import */ var drive_mobile_modules_settings_RatingModal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("sjVh");
/* harmony import */ var drive_mobile_modules_mediaBackup_FirstUploadModal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("dPaS");
/* harmony import */ var drive_web_modules_filelist_FileList__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("x76H");
/* harmony import */ var drive_web_modules_navigation_Breadcrumb__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("XQ74");
/* harmony import */ var drive_web_modules_selection_SelectionBar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("eXby");
/* harmony import */ var drive_web_modules_upload_Dropzone__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("PBE3");
/* harmony import */ var drive_web_modules_navigation_AsyncBoundary__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("tlNk");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("yEaX");
/* harmony import */ var _Main__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("vX5W");
/* harmony import */ var _Topbar__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("J3YJ");






/* global __TARGET__ */
















var FolderView =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(FolderView, _Component);

  function FolderView() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, FolderView);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(FolderView).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FolderView, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          children = _this$props.children,
          isTrashContext = _this$props.isTrashContext;
      var _this$props2 = this.props,
          displayedFolder = _this$props2.displayedFolder,
          files = _this$props2.files,
          actions = _this$props2.actions,
          Toolbar = _this$props2.Toolbar,
          canSort = _this$props2.canSort,
          canDrop = _this$props2.canDrop,
          canUpload = _this$props2.canUpload,
          canCreateFolder = _this$props2.canCreateFolder;
      var nothingToDo = isTrashContext && files.length === 0;
      var folderId = Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_17__["getFolderIdFromRoute"])(this.props.location, this.props.params);
      var isRootfolder = folderId === drive_constants_config__WEBPACK_IMPORTED_MODULE_8__["ROOT_DIR_ID"];
      return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Main__WEBPACK_IMPORTED_MODULE_18__["default"], null, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Topbar__WEBPACK_IMPORTED_MODULE_19__["default"], null, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(drive_web_modules_navigation_Breadcrumb__WEBPACK_IMPORTED_MODULE_13__["default"], {
        onFolderOpen: this.props.onFolderOpen
      }), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(drive_web_modules_navigation_AsyncBoundary__WEBPACK_IMPORTED_MODULE_16__["default"], null, function (_ref) {
        var isLoading = _ref.isLoading,
            isInError = _ref.isInError;
        return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Toolbar, {
          folderId: folderId,
          canUpload: canUpload,
          canCreateFolder: canCreateFolder,
          disabled: isInError || isLoading || nothingToDo
        });
      })), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(drive_web_modules_upload_Dropzone__WEBPACK_IMPORTED_MODULE_15__["default"], {
        role: "main",
        disabled:  false || !canDrop,
        displayedFolder: displayedFolder
      },  false && false, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(drive_web_modules_selection_SelectionBar__WEBPACK_IMPORTED_MODULE_14__["default"], {
        actions: actions.selection
      }), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(drive_web_modules_filelist_FileList__WEBPACK_IMPORTED_MODULE_12__["default"], {
        canSort: canSort,
        fileActions: actions.selection,
        files: this.props.files,
        fileCount: this.props.fileCount,
        fetchMoreFiles: this.props.fetchMoreFiles,
        displayedFolder: this.props.displayedFolder,
        onFolderOpen: this.props.onFolderOpen,
        onFileOpen: this.props.onFileOpen,
        withFilePath: this.props.withFilePath,
        withSharedBadge: this.props.withSharedBadge,
        isRenaming: this.props.isRenaming,
        renamingFile: this.props.renamingFile
      }), this.renderViewer(children)), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_cozy_helpers__WEBPACK_IMPORTED_MODULE_7__["ModalManager"], null));
    }
  }, {
    key: "renderViewer",
    value: function renderViewer(children) {
      var _this = this;

      if (!children) return null;
      return react__WEBPACK_IMPORTED_MODULE_5___default.a.Children.map(children, function (child) {
        return react__WEBPACK_IMPORTED_MODULE_5___default.a.cloneElement(child, {
          files: _this.props.files || []
        });
      });
    }
  }]);

  return FolderView;
}(react__WEBPACK_IMPORTED_MODULE_5__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_6__["translate"])()(FolderView));

/***/ }),

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("201c");
__webpack_require__("7NIr");
module.exports = __webpack_require__("YsA6");


/***/ }),

/***/ "06uc":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/MKj");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("z+SL");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("yEaX");
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("fD9B");






var DownloadButtonItem = Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__["translate"])()(function (_ref) {
  var t = _ref.t,
      displayedFolder = _ref.displayedFolder,
      downloadAll = _ref.downloadAll;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    className: drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_2___default.a['fil-action-download'],
    onClick: function onClick() {
      return downloadAll([displayedFolder]);
    }
  }, t('toolbar.menu_download_folder'));
});

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    downloadAll: function downloadAll(folder) {
      return dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_4__["downloadFiles"])(folder));
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(null, mapDispatchToProps)(Object(_toolbar__WEBPACK_IMPORTED_MODULE_5__["default"])(DownloadButtonItem)));

/***/ }),

/***/ "0Apg":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);








var BarContextProvider =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(BarContextProvider, _React$Component);

  function BarContextProvider() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, BarContextProvider);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(BarContextProvider).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(BarContextProvider, [{
    key: "getChildContext",
    value: function getChildContext() {
      return this.props;
    }
  }, {
    key: "render",
    value: function render() {
      if (!this.props.children) return null;
      if (!Array.isArray(this.props.children)) return this.props.children;
      return this.props.children[0];
    }
  }]);

  return BarContextProvider;
}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);

BarContextProvider.childContextTypes = {
  //child context keys
  client: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.object.isRequired,
  t: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.func.isRequired,
  store: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.object.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.object
};
/* harmony default export */ __webpack_exports__["default"] = (BarContextProvider);

/***/ }),

/***/ "0GJX":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-sheet_8dd87cb4c33c98d3014c32cd9c675e90",
  "use": "icon-type-sheet_8dd87cb4c33c98d3014c32cd9c675e90-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-sheet_8dd87cb4c33c98d3014c32cd9c675e90\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(3)\">\n    <path fill=\"#9FE6A2\" d=\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\" />\n    <path fill=\"#0FC016\" d=\"M18.5.57092175e-14C18.2238576.33045111e-13 18 .230796814 18 .500435829L18 8 25.4995642 8C25.7759472 8 26 7.76806641 26 7.5L26 7 19 0 18.5.57092175e-14zM5 9L9 9 9 11 5 11 5 9zM5 5L9 5 9 7 5 7 5 5zM5 13L9 13 9 15 5 15 5 13zM5 17L9 17 9 19 5 19 5 17zM5 21L9 21 9 23 5 23 5 21zM5 25L9 25 9 27 5 27 5 25zM11 9L15 9 15 11 11 11 11 9zM11 5L15 5 15 7 11 7 11 5zM11 13L15 13 15 15 11 15 11 13zM11 17L15 17 15 19 11 19 11 17zM11 21L15 21 15 23 11 23 11 21zM11 25L15 25 15 27 11 27 11 25zM17 13L21 13 21 15 17 15 17 13zM17 17L21 17 21 19 17 19 17 17zM17 21L21 21 21 23 17 23 17 21zM17 25L21 25 21 27 17 27 17 25z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "0uru":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("buk/");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7__);









var LoadMore = function LoadMore(_ref) {
  var onClick = _ref.onClick,
      isLoading = _ref.isLoading,
      text = _ref.text;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-content-row'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-content-row--center'])
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_5__["Button"], {
    theme: "secondary",
    onClick: onClick,
    label: isLoading ? react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_5__["Spinner"], {
      noMargin: true
    }) : text
  }));
};

LoadMore.propTypes = {
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  isLoading: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  text: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired
};
LoadMore.defaultProps = {
  onClick: null,
  isLoading: false // eslint-disable-next-line

};

var withTranslation = function withTranslation(BaseComponent) {
  return function (_ref2) {
    var t = _ref2.t,
        props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref2, ["t"]);

    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(BaseComponent, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      text: t('table.load_more')
    }, props));
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_6__["translate"])()(withTranslation(LoadMore)));

/***/ }),

/***/ 1:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "1BUi":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"recipient-status":"recipient-status--2uFD7","recipient-menu-btn":"recipient-menu-btn--2_GX0","recipient":"recipient--HkJgC","recipients-list-light":"recipients-list-light--3bHel","recipient-avatar":"recipient-avatar--1Cmmp","recipient-avatar--small":"recipient-avatar--small--2hoPQ","recipient-avatar-link":"recipient-avatar-link--3gLdE","recipient-avatar-plusx":"recipient-avatar-plusx--2ruV6","recipient-idents":"recipient-idents--3NhkH","recipient-ident-status":"recipient-ident-status--3W1WI","recipient-user":"recipient-user--2ON6I","recipient-details":"recipient-details--tV3VQ","avatar":"avatar--2xuqM","recipients-avatars":"recipients-avatars--1PuFV","--interactive":"_--interactive--3t-An","recipient-owner":"recipient-owner--3PukF","recipient-menu":"recipient-menu--Gn7vM","action-unshare":"action-unshare--W0mml","action-unshare-desc":"action-unshare-desc--8flsy","spin":"spin--2Hvw_","shake":"shake--KwEfF"};

/***/ }),

/***/ "1HFg":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var components_Error_Oops__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("CxWN");
/* harmony import */ var components_Error_Empty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("KOJc");
/* harmony import */ var drive_web_modules_filelist_FileListRowsPlaceholder__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("zLPI");






var Loader = function Loader(_ref) {
  var fetchStatus = _ref.fetchStatus,
      hasNoData = _ref.hasNoData,
      children = _ref.children;
  if (fetchStatus === 'loading') return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FileListRowsPlaceholder__WEBPACK_IMPORTED_MODULE_4__["default"], null);else if (fetchStatus === 'failed') return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Error_Oops__WEBPACK_IMPORTED_MODULE_2__["default"], null);else if (fetchStatus === 'loaded' && hasNoData) return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Error_Empty__WEBPACK_IMPORTED_MODULE_3__["EmptyDrive"], {
    canUpload: false
  });else return children;
};

Loader.propTypes = {
  fetchStatus: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  hasNoData: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node
};
/* harmony default export */ __webpack_exports__["default"] = (Loader);

/***/ }),

/***/ "1aVK":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRootPath", function() { return getRootPath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTemporaryRootPath", function() { return getTemporaryRootPath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCozyPath", function() { return getCozyPath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getEntry", function() { return getEntry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCozyEntry", function() { return getCozyEntry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createCozyPath", function() { return createCozyPath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDirectory", function() { return getDirectory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "writeFile", function() { return writeFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "openFileWithCordova", function() { return openFileWithCordova; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deleteOfflineFile", function() { return deleteOfflineFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saveFileWithCordova", function() { return saveFileWithCordova; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "temporarySave", function() { return temporarySave; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saveAndOpenWithCordova", function() { return saveAndOpenWithCordova; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNativeFile", function() { return getNativeFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "openOfflineFile", function() { return openOfflineFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createTemporaryLocalFile", function() { return createTemporaryLocalFile; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("OTOu");



/* global cozy */


var ERROR_GET_DIRECTORY = 'Error to get directory';
var ERROR_WRITE_FILE = 'Error to write file';
var ERROR_GET_FILE = 'Error to get file';
var COZY_PATH = 'Cozy';
var COZY_FILES_PATH = 'Cozy Drive';
var getRootPath = function getRootPath() {
  return Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_2__["isAndroidApp"])() ? window.cordova.file.externalRootDirectory : window.cordova.file.dataDirectory;
};
var getTemporaryRootPath = function getTemporaryRootPath() {
  return Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_2__["isAndroidApp"])() ? window.cordova.file.externalCacheDirectory : window.cordova.file.cacheDirectory;
};
var getCozyPath = function getCozyPath() {
  return COZY_PATH + '/' + COZY_FILES_PATH + '/';
};
var getEntry = function getEntry(path) {
  return new Promise(function (resolve, reject) {
    window.resolveLocalFileSystemURL(path, resolve, function (err) {
      lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].error("".concat(path, " could not be resolved: ").concat(err.message));
      reject(err);
    });
  });
};
var getCozyEntry = function getCozyEntry() {
  return getEntry(getRootPath() + getCozyPath()).catch(function () {
    return createCozyPath();
  });
};
var createCozyPath = function createCozyPath() {
  return getEntry(getRootPath()).then(function (entry) {
    return getDirectory(entry, COZY_PATH).then(function (entry) {
      return getDirectory(entry, COZY_FILES_PATH);
    });
  });
};
var getDirectory = function getDirectory(rootDirEntry, folderName) {
  return new Promise(function (resolve, reject) {
    rootDirEntry.getDirectory(folderName, {
      create: true
    }, resolve, function (error) {
      lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(ERROR_GET_DIRECTORY, folderName);
      lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(error);
      reject(ERROR_GET_DIRECTORY);
    });
  });
};
var writeFile = function writeFile(fileEntry, dataObj) {
  return new Promise(function (resolve, reject) {
    fileEntry.createWriter(function (fileWriter) {
      fileWriter.onwriteend = function () {
        resolve(fileEntry);
      };

      fileWriter.onerror = function (error) {
        lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(ERROR_WRITE_FILE);
        lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(error);
        reject(ERROR_WRITE_FILE);
      };

      fileWriter.write(dataObj);
    });
  });
};

var saveFile = function saveFile(dirEntry, fileData, fileName) {
  return new Promise(function (resolve, reject) {
    dirEntry.getFile(fileName, {
      create: true,
      exclusive: false
    }, function (fileEntry) {
      writeFile(fileEntry, fileData).then(function () {
        resolve(fileEntry);
      }).catch(reject);
    }, function (error) {
      lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(ERROR_GET_FILE);
      lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(error);
      reject(ERROR_GET_FILE);
    });
  });
};

var openFileWithCordova = function openFileWithCordova(URI, mimetype) {
  return new Promise(function (resolve, reject) {
    var callbacks = {
      error: reject,
      success: resolve
    };
    window.cordova.plugins.fileOpener2.open(URI, mimetype, callbacks);
  });
};
var deleteOfflineFile =
/*#__PURE__*/
function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(filename) {
    var entry, fileEntry;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return getCozyEntry();

          case 2:
            entry = _context.sent;
            _context.next = 5;
            return getEntry("".concat(entry.nativeURL).concat(filename));

          case 5:
            fileEntry = _context.sent;
            return _context.abrupt("return", fileEntry.remove());

          case 7:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function deleteOfflineFile(_x) {
    return _ref.apply(this, arguments);
  };
}();
var saveFileWithCordova = function saveFileWithCordova(fileData, fileName) {
  return getCozyEntry().then(function (entry) {
    return saveFile(entry, fileData, fileName);
  });
};
var temporarySave = function temporarySave(file, filename) {
  return getEntry(getTemporaryRootPath()).then(function (entry) {
    return saveFile(entry, file, filename);
  });
};
var saveAndOpenWithCordova = function saveAndOpenWithCordova(file, filename) {
  return temporarySave(file, filename).then(function (entry) {
    return openFileWithCordova(entry.nativeURL, file.type);
  });
};
var getNativeFile =
/*#__PURE__*/
function () {
  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(file) {
    var entry;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return getCozyEntry();

          case 2:
            entry = _context2.sent;
            return _context2.abrupt("return", getEntry("".concat(entry.nativeURL).concat(file.id)));

          case 4:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function getNativeFile(_x2) {
    return _ref2.apply(this, arguments);
  };
}();
var openOfflineFile =
/*#__PURE__*/
function () {
  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(file) {
    var fileEntry;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.next = 2;
            return getNativeFile(file);

          case 2:
            fileEntry = _context3.sent;
            return _context3.abrupt("return", openFileWithCordova(fileEntry.nativeURL, file.mime));

          case 4:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function openOfflineFile(_x3) {
    return _ref3.apply(this, arguments);
  };
}();
var createTemporaryLocalFile =
/*#__PURE__*/
function () {
  var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(id, filename) {
    var response, blob, localFile;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _context4.next = 2;
            return cozy.client.files.downloadById(id);

          case 2:
            response = _context4.sent;
            _context4.next = 5;
            return response.blob();

          case 5:
            blob = _context4.sent;
            _context4.next = 8;
            return temporarySave(blob, filename);

          case 8:
            localFile = _context4.sent;
            return _context4.abrupt("return", localFile);

          case 10:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));

  return function createTemporaryLocalFile(_x4, _x5) {
    return _ref4.apply(this, arguments);
  };
}();

/***/ }),

/***/ "1dDq":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"Drive","item_recent":"Recent","item_sharings":"Sharings","item_shared":"Shared by me","item_activity":"Activity","item_trash":"Trash","item_settings":"Settings","item_collect":"Administrative","btn-client":"Get Cozy Drive for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Get Cozy Drive for Desktop and synchronise your files safely to make them accessible at all times.","banner-btn-client":"Download","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Drive","title_recent":"Recent","title_sharings":"Sharings","title_shared":"Shared by me","title_activity":"Activity","title_trash":"Trash"},"Toolbar":{"more":"More"},"toolbar":{"item_upload":"Upload","menu_upload":"Upload files","item_more":"More","menu_new_folder":"New folder","menu_select":"Select items","menu_download_folder":"Download folder","menu_download_file":"Download this file","menu_open_cozy":"Open in my Cozy","empty_trash":"Empty trash","share":"Share","trash":"Remove","leave":"Leave shared folder & delete it"},"Share":{"status":{"owner":"Owner","pending":"Pending","ready":"Accepted","refused":"Refused","error":"Error","unregistered":"Error","mail-not-sent":"Pending","revoked":"Error"},"type":{"one-way":"Can View","two-way":"Can Change","desc":{"one-way":"Contacts can view, download, and add the content to their Cozy. If they add the content to their Cozy, they will get updates you make to the content, but they won't be able to update it.","two-way":"Contacts can update, delete and add the content to their Cozy. Updates on the content will be seen on other Cozies."}},"locked-type-file":"Coming soon: you will be able to change permissions you grant on the file.","locked-type-folder":"Coming soon: you will be able to change permissions you grant on the folder.","recipients":{"you":"You","accessCount":"%{count} people have access"},"create-cozy":"Create my cozy","members":{"count":"1 member |||| %{smart_count} members","others":"and 1 other |||| and %{smart_count} others","otherContacts":"other contact |||| other contacts"},"contacts":{"permissionRequired":{"title":"Save your contacts in your Cozy?","desc":"Authorize the application to access to your Cozy's contacts: you'll be able to select them next time.","action":"Authorize access","success":"The application has access to your contacts"}}},"Sharings":{"unavailable":{"title":"Switch online!","message":"An internet connection is needed to display the list of your last sharings."}},"Files":{"share":{"cta":"Share","title":"Share","details":{"title":"Sharing details","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Cozy. You will get updates by the owner, but you won't be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Cozy. Updates you make will be seen on other Cozies."}},"sharedByMe":"Shared by me","sharedWithMe":"Shared with me","sharedBy":"Shared by %{name}","shareByLink":{"subtitle":"By public link","desc":"Anyone with the provided link can see and download your files.","creating":"Creating your link...","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard"},"shareByEmail":{"subtitle":"By email","email":"To:","emailPlaceholder":"Enter the email address or name of the recipient","send":"Send","genericSuccess":"You sent an invite to %{count} contacts.","success":"You sent an invite to %{email}.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won't be synchrnoized anymore.","success":"You removed this shared file from %{email}."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won't be updated between your Cozy anymore.","success":"You were removed from this sharing."},"sharingLink":{"title":"Link to share","copy":"Copy","copied":"Copied"},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Close","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"Name","head_update":"Last update","head_size":"Size","head_status":"Status","head_thumbnail_size":"Switch thumbnail size","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":"Share (Read only)","row_read_write":"Share (Read & Write)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"Load More","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oldest first","head_updated_at_desc":"Most recent first","head_size_asc":"Lightest first","head_size_desc":"Heavier first"}},"SelectionBar":{"selected_count":"item selected |||| items selected","share":"Share","download":"Download","trash":"Remove","destroy":"Delete permanently","rename":"Rename","restore":"Restore","close":"Close","openWith":"Open with","moveto":"Move to","phone-download":"Make available offline","qualify":"Categorize"},"deleteconfirmation":{"title":"Delete this element? |||| Delete these elements?","trash":"It will be moved to the Trash. |||| They will be moved to the Trash.","restore":"You can still restore it whenever you want. |||| You can still restore them whenever you want.","shared":"The following contacts whom you shared it with will keep a copy but your changes won't be synchronized anymore. |||| The following contacts whom you shared them with will keep a copy but your changes won't be synchronized anymore","referenced":"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.","cancel":"Cancel","delete":"Remove"},"emptytrashconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access these files anymore.","restore":"You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete all"},"destroyconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.","restore":"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete permanently"},"quotaalert":{"title":"Your disk space is full :(","desc":" Please remove files and empty your trash before uploading files again.","confirm":"OK"},"loading":{"message":"Loading"},"empty":{"title":"You dont have any files in this folder.","text":"Click the \"upload\" button to add files to this folder.","trash_title":"You dont have any deleted files.","trash_text":"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."},"error":{"open_folder":"Something went wrong when opening the folder.","button":{"reload":"Refresh now"},"download_file":{"offline":"You should be connected to download this file","missing":"This file is missing"}},"Error":{"public_unshared_title":"Sorry, this link is no longer available.","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!"},"alert":{"could_not_open_file":"The file could not be opened","try_again":"An error has occurred, please try again in a moment.","restore_file_success":"The selection has been successfully restored.","trash_file_success":"The selection has been moved to the Trash.","destroy_file_success":"The selection has been deleted permanently.","empty_trash_progress":"Your trash is being emptied. This might take a few moments.","empty_trash_success":"The trash has been emptied.","folder_name":"The element %{folderName} already exists, please choose a new name.","folder_generic":"An error occurred, please try again.","folder_abort":"You need to add a name to your new folder if you would like to save it. Your information has not been saved.","offline":"This feature is not available offline.","preparing":"Preparing your files"},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Create a Cozy or sign in to access Cozy Drive","button":"Sign in","no_account_link":"I don't have a Cozy","create_my_cozy":"Create my Cozy"},"server_selection":{"title":"Sign in","lostpwd":"[I forgot the address of my Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Address of my Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"other","button":"Next","wrong_address_with_email":"You typed an email address. To connect on your cozy you must type its url, something like https://camillenimbus.mycozy.cloud","wrong_address_v2":"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"This address doesnt seem to be a cozy. Please check the address you provide.","wrong_address_cosy":"Woops, the address is not correct. Try with \"cozy\" with a \"z\"!"},"files":{"title":"Access your drive","description":"In order to save your Cozy Drive on your device, the application must access your files."},"photos":{"title":"Backup your photos and videos","description":"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},"contacts":{"title":"Sync your contacts","description":"Save your phone's contact on your Cozy  this will facilitate sharing files with them."},"step":{"button":"Enable now","skip":"Later","next":"Next"},"analytics":{"title":"Help us improve Cozy","description":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},"settings":{"title":"Settings","about":{"title":"About","app_version":"App Version","account":"Account"},"unlink":{"title":"Sign out of your Cozy","description":"By signing out of your Cozy from this device, you will not lose any data in your Cozy. This will remove your offline files from this device related to your Cozy.","button":"Sign out"},"media_backup":{"media_folder":"Photos","backup_folder":"Backed up from my mobile","legacy_backup_folder":"Backuped from my mobile","title":"Media Backup","images":{"title":"Backup images","label":"Backup your images automatically to your Cozy not to ever lose them and share them easily."},"launch":"Launch Backup","stop":"Stop Backup","wifi":{"title":"Backup on WIFI only","label":"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},"media_upload":"%{smart_count} remaining picture |||| %{smart_count} remaining pictures","media_uptodate":"Media backup is up-to-date","preparing":"Searching for media to backup...","no_wifi":"Please connect to a WIFI","quota":"Storage limit nearly reached","quota_contact":"Manage your storage space"},"support":{"title":"Support","analytics":{"title":"Help us improve Cozy","label":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},"feedback":{"title":"Help improve Cozy Drive","description":"Send your feedback to help us improve Cozy Drive. Click on the button below, explain the problem or make a suggestion and send it. You're done!","button":"leave feedback"},"logs":{"title":"Help us to understand your problem","description":"Send the application log to help us improve its quality and stability.","button":"Send my logs","success":"Thanks, we will investigate your problem and contact you soon.","error":"A problem happened, logs couldn't be sent, please try again."}},"contacts":{"title":"Contacts","subtitle":"Import contacts","text":"Import the contacts from your device to your Cozy to easily share content with them."}},"error":{"open_with":{"offline":"You should be connected to open this file","noapp":"No application can open this file"},"make_available_offline":{"offline":"You should be connected to open this file","noapp":"No application can open this file"}},"revoked":{"title":"Access revoked","description":"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.","loginagain":"Log in again","logout":"Log out"},"rating":{"enjoy":{"title":"Enjoying Cozy Drive?","yes":"Yes!","no":"Not really"},"rate":{"title":"Would you mind rating it?","yes":"Let's do that!","no":"No, thanks","later":"Maybe later"},"feedback":{"title":"Would you mind giving us some feedback?","yes":"Send","no":"No, thanks"},"email":{"subject":"Feedback on Cozy Drive","placeholder":"Hello, I think Cozy Drive would be better if"},"alert":{"rated":"Thank you! You're ","declined":"Awesome. You will love the upcoming features. Stay Cozy!","later":"No problem, we'll ask again later.","feedback":"Thank you for the feedback. We'll definitely work on it!"}},"first_sync":{"title":"You are about to start your first photos back up ","tips":"Tips","tip_bed":"Open Cozy Drive before you go to bed or when you don't use your phone.","tip_wifi":"Enable Wi-Fi to preserve your data.","tip_lock":"Disable your lock screen.","result":"In the morning, all your photos will be stored in a safe and secure location.","button":"Got it!"},"notifications":{"backup_paused":"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},"upload":{"alert":{"success":"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.","success_conflicts":"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} file uploaded and %{updatedCount} updated. |||| %{smart_count} files uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} file uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} files uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} file updated. |||| %{smart_count} files updated.","updated_conflicts":"%{smart_count} file updated with %{conflictCount} conflict(s). |||| %{smart_count} files updated with %{conflictCount} conflict(s).","errors":"Errors occurred during the file upload.","network":"You are currenly offline. Please try again once you're connected."}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Uploaded %{done} out of %{total} successfully","close":"close","item":{"pending":"Pending"}},"Viewer":{"close":"Close","noviewer":{"download":"Download this file","openWith":"Open with...","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":"Download"},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":"Retry"},"error":{"noapp":"No application found to handle this file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You're currently offline."}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it's original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it's original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back."},"FileOpenerExternal":{"fileNotFoundError":"Error: file not found"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"You are currently offline and you can't use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}}};

/***/ }),

/***/ "1eh9":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadState", function() { return loadState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saveState", function() { return saveState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetPersistedState", function() { return resetPersistedState; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("oAJy");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("OTOu");



 // We had some settings that were persisted outside of mobile.settings prior to 1.8.1

var shouldMigrateSettings = function shouldMigrateSettings(state) {
  return state.hasOwnProperty('settings');
};

var migrateSettings =
/*#__PURE__*/
function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(prevState) {
    var _prevState$settings, firstReplication, client, indexes, offline, _prevState$mobile$set, authorized, token, serverUrl, backupImages, analytics, wifiOnly, _ref2, revoked, newState;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _prevState$settings = prevState.settings, firstReplication = _prevState$settings.firstReplication, client = _prevState$settings.client, indexes = _prevState$settings.indexes, offline = _prevState$settings.offline;
            _prevState$mobile$set = prevState.mobile.settings, authorized = _prevState$mobile$set.authorized, token = _prevState$mobile$set.token, serverUrl = _prevState$mobile$set.serverUrl, backupImages = _prevState$mobile$set.backupImages, analytics = _prevState$mobile$set.analytics, wifiOnly = _prevState$mobile$set.wifiOnly;
            _ref2 = prevState.mobile.authorization || {
              revoked: false
            }, revoked = _ref2.revoked;
            newState = {
              mobile: {
                authorization: {
                  authorized: authorized,
                  revoked: revoked,
                  client: client,
                  token: token
                },
                settings: {
                  offline: offline,
                  serverUrl: serverUrl,
                  backupImages: backupImages,
                  analytics: analytics,
                  wifiOnly: wifiOnly
                },
                replication: {
                  firstReplication: firstReplication,
                  indexes: indexes
                },
                mediaBackup: prevState.mobile.mediaBackup
              },
              availableOffline: prevState.availableOffline
            };
            _context.next = 6;
            return localforage__WEBPACK_IMPORTED_MODULE_2___default.a.setItem('state', newState);

          case 6:
            lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].info('Migrated persisted settings');
            lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].info('Previously persisted state: ', prevState);
            lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].info('New persisted state: ', newState);
            return _context.abrupt("return", newState);

          case 10:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function migrateSettings(_x) {
    return _ref.apply(this, arguments);
  };
}();

var loadState =
/*#__PURE__*/
function () {
  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
    var persistedState, newState;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.prev = 0;
            _context2.next = 3;
            return localforage__WEBPACK_IMPORTED_MODULE_2___default.a.getItem('state');

          case 3:
            persistedState = _context2.sent;

            if (!(persistedState === null)) {
              _context2.next = 6;
              break;
            }

            return _context2.abrupt("return", undefined);

          case 6:
            if (!shouldMigrateSettings(persistedState)) {
              _context2.next = 12;
              break;
            }

            lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn('Migrating persisted settings');
            _context2.next = 10;
            return migrateSettings(persistedState);

          case 10:
            newState = _context2.sent;
            return _context2.abrupt("return", newState);

          case 12:
            return _context2.abrupt("return", persistedState);

          case 15:
            _context2.prev = 15;
            _context2.t0 = _context2["catch"](0);
            lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(_context2.t0);
            return _context2.abrupt("return", undefined);

          case 19:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, null, [[0, 15]]);
  }));

  return function loadState() {
    return _ref3.apply(this, arguments);
  };
}();
var saveState =
/*#__PURE__*/
function () {
  var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(state) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.prev = 0;
            _context3.next = 3;
            return localforage__WEBPACK_IMPORTED_MODULE_2___default.a.setItem('state', state);

          case 3:
            _context3.next = 8;
            break;

          case 5:
            _context3.prev = 5;
            _context3.t0 = _context3["catch"](0);
            lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(_context3.t0);

          case 8:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3, null, [[0, 5]]);
  }));

  return function saveState(_x2) {
    return _ref4.apply(this, arguments);
  };
}();
var resetPersistedState = function resetPersistedState() {
  return localforage__WEBPACK_IMPORTED_MODULE_2___default.a.clear();
};

/***/ }),

/***/ "1ivL":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"Drive","item_recent":"Rcents","item_sharings":"Partages","item_shared":"Partags","item_activity":"Activit","item_trash":"Corbeille","item_settings":"Paramtres","item_collect":"Administratif","btn-client":"Tlcharger Cozy Drive ","btn-client-web":"Obtenez un Cozy","btn-client-mobile":"Tlchargez Cozy Drive sur votre mobile !","banner-txt-client":"Installez Cozy Drive pour ordinateur et synchronisez vos fichiers pour les rendre accessibles  tout moment.","banner-btn-client":"Tlcharger","link-client":"https://cozy.io/fr/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile&hl=fr","link-client-ios":"https://itunes.apple.com/fr/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Drive","title_recent":"Rcents","title_sharings":"Partages","title_shared":"Mes fichiers partags","title_activity":"Activit","title_trash":"Corbeille"},"Toolbar":{"more":"Plus"},"toolbar":{"item_upload":"Importer des fichiers","menu_upload":"Importer des fichiers","item_more":"Plus","menu_new_folder":"Nouveau dossier","menu_select":"Slectionner les lments","menu_download_folder":"Tlcharger le dossier","menu_download_file":"Tlcharger ce fichier","menu_open_cozy":"Ouvrir dans mon Cozy","empty_trash":"Vider la corbeille","share":"Partager","trash":"Supprimer","leave":"Quitter le dossier partag et le supprimer"},"Share":{"status":{"owner":"Propritaire","pending":"En attente","ready":"Accept","refused":"Refus","error":"Erreur","unregistered":"Erreur","mail-not-sent":"En attente","revoked":"Erreur"},"type":{"one-way":"Peut consulter","two-way":"Peut modifier","desc":{"one-way":"Les contacts peuvent consulter, tlcharger, et ajouter le contenu  leur Cozy. En cas dajout  leur Cozy, ils recevront vos modifications sur le contenu mais ils ne pourront pas le modifier.","two-way":"Les contacts peuvent modifier, supprimer et ajouter le contenu  leur Cozy. Les modifications sur le contenu seront rpercutes automatiquement entre vos Cozy."}},"locked-type-file":"Bientt : vous pourrez changer la permission donne sur le fichier.","locked-type-folder":"Bientt : vous pourrez changer la permission donne sur le dossier.","recipients":{"you":"Vous","accessCount":"%{count} personnes y ont accs"},"create-cozy":"Crer mon Cozy","members":{"count":"1 membre |||| %{smart_count} membres","others":"et 1 autre |||| et %{smart_count} autres","otherContacts":"autre contact |||| autres contacts"},"contacts":{"permissionRequired":{"title":"Enregistrer vos contacts dans votre Cozy ?","desc":"Autorisez l'application  accder aux contacts de votre Cozy : vous pourrez les slectionner la prochaine fois.","action":"Autoriser l'accs","success":"L'application a accs  vos contacts"}}},"Sharings":{"unavailable":{"title":"Ravi de vous revoir !","message":"Connectez-vous  Internet pour faire apparaitre la liste de vos rcents partages."}},"Files":{"share":{"cta":"Partager","title":"Partager","details":{"title":"Dtails du partage","createdAt":"Depuis le %{date}","ro":"Peut consulter","rw":"Peut modifier","desc":{"ro":"Vous pouvez consulter, tlcharger, et ajouter ce contenu  votre Cozy. Vous recevrez les modifications faites par le propritaire, mais vous ne pourrez pas le modifier.","rw":"Vous pouvez consulter, modifier et supprimer du contenu. Les modifications sur le contenu seront rpercutes automatiquement entre vos Cozy."}},"sharedByMe":"Partag","sharedWithMe":"Partag avec moi","sharedBy":"Partag par %{name}","shareByLink":{"subtitle":"Par lien public","desc":"Chaque personne possdant le lien fourni peut voir et tlcharger vos fichiers.","creating":"Cration du lien...","copy":"Copier le lien","copied":"Lien copi dans le presse-papiers.","failed":"Impossible de copier dans le presse papier"},"shareByEmail":{"subtitle":"Par email","email":" :","emailPlaceholder":"Saisissez le courriel ou le nom du destinataire.","send":"Envoyer","genericSuccess":"Vous avez invit %{count} contacts.","success":"Vous avez envoy une invitation  %{email}.","comingsoon":"Bientt disponible ! Vous pourrez partager un document et vos photos en un seul clic avec votre famille, vos amis, et mme vos collaborateurs. Ne vous inquitez pas, on vous prvient quand ce sera prt !","onlyByLink":"Ce %{type} ne peut tre partag que sous la forme d'un lien, car il","type":{"file":"fichier","folder":"dossier"},"hasSharedParent":"se trouve dans un dossier partag.","hasSharedChild":"contient un lment partag."},"revoke":{"title":"Arrter le partage","desc":"Votre contact conservera une copie mais vos changements ne seront plus synchroniss.","success":"Vous avez cess de partager ce fichier avec %{email}."},"revokeSelf":{"title":"Arrter le partage","desc":"Vous conservez le contenu mais il ne sera plus mis  jour entre vos Cozy.","success":"Vous avez t retir de ce partage."},"sharingLink":{"title":"Partager","copy":"Copier","copied":"Copi"},"whoHasAccess":{"title":"1 personne y a accs |||| %{smart_count} personnes y ont accs"},"protectedShare":{"title":"Prochainement !","desc":"Partagez ce que vous souhaitez par email avec votre famille et vos amis !"},"close":"Fermer","gettingLink":"Cration du lien","error":{"generic":"Une erreur est survenue lors de la cration du lien de partage, merci de ressayer","revoke":"Oups, une erreur est survenue. Contactez-nous pour que nous rsolvions la situation au plus vite.\n"},"specialCase":{"base":"Ce %{type} ne peut tre partag que sous la forme d'un lien, car il","isInSharedFolder":"se trouve dans un dossier partag.","hasSharedFolder":"contient un dossier partag."}},"viewer-fallback":"Le fichier est en cours de tlchargement, vous pouvez fermer cette fentre.","dropzone":{"teaser":"Dposez des fichiers pour les importer vers :","noFolderSupport":"Votre navigateur ne prend pas en charge le glisser-dposer de dossier pour le moment. Veuillez importer les fichiers manuellement."}},"table":{"head_name":"Nom","head_update":"Mise  jour","head_size":"Taille","head_status":"tat","head_thumbnail_size":"Changer la taille des miniatures","row_update_format":"D MMM YYYY","row_update_format_full":"D MMMM YYYY","row_read_only":"Partag (lecture seule)","row_read_write":"Partag (lecture & criture)","row_size_symbols":{"B":"o","KB":"Ko","MB":"Mo","GB":"Go","TB":"To","PB":"Po","EB":"Eo","ZB":"Zo","YB":"Yo"},"load_more":"Plus de fichiers","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Plus anciens en premier","head_updated_at_desc":"Plus rcents en premier","head_size_asc":"Plus lgers en premier","head_size_desc":"Plus lourds en premier"}},"SelectionBar":{"selected_count":"lment slectionn |||| lments slectionns","share":"Partager","download":"Tlcharger","trash":"Supprimer","destroy":"Supprimer dfinitivement","rename":"Renommer","restore":"Restaurer","close":"Fermer","openWith":"Ouvrir avec","moveto":"Dplacer vers","phone-download":"Rendre accessible hors-ligne","qualify":"Qualifier"},"deleteconfirmation":{"title":"Supprimer cet lment ? |||| Supprimer ces lments ?","trash":"Cet lment sera dplac dans la corbeille. |||| Ces lments seront dplacs dans la corbeille.","restore":"Vous pouvez toujours le restaurer quand vous voulez.","shared":"Les contacts suivants auxquels vous l'aviez partag conserveront une copie mais vos changements ne seront plus synchroniss : |||| Les contacts suivants auxquels vous les aviez partags conserveront une copie mais vos changements ne seront plus synchroniss :","referenced":"Des photos de la slection sont dans un album. Elles seront retires de l'album si vous confirmez.","cancel":"Annuler","delete":"Supprimer"},"emptytrashconfirmation":{"title":"Supprimer dfinitivement ?","forbidden":"Vous ne pourrez plus accder  ces fichiers.","restore":"Vous ne pourrez pas restaurer ces fichiers.","cancel":"Annuler","delete":"Tout supprimer"},"destroyconfirmation":{"title":"Supprimer dfinitivement ?","forbidden":"Vous ne pourrez plus accder  ce fichier. |||| Vous ne pourrez plus accder  ces fichiers.","restore":"Vous ne pourrez pas restaurer ce fichier. |||| Vous ne pourrez pas restaurer ces fichiers.","cancel":"Annuler","delete":"Supprimer dfinitivement"},"quotaalert":{"title":"Votre espace disque est plein :(","desc":"Merci de supprimer des fichiers et vider la corbeille avant d'importer de nouveaux fichiers.","confirm":"OK"},"loading":{"message":"Chargement"},"empty":{"title":"Vous n'avez aucun fichier dans ce dossier.","text":"Cliquez sur le bouton \"Importer des fichiers\" pour ajouter des fichiers  ce dossier.","trash_title":"Vous n'avez aucun fichier supprim.","trash_text":"Dplacez les fichiers dont vous n'avez plus besoin dans la corbeille et supprimez-les dfinitivement pour rcuprer de l'espace de stockage."},"error":{"open_folder":"Une erreur est survenue pendant l'ouverture du dossier.","button":{"reload":"Rafrachir"},"download_file":{"offline":"Vous devez tre connect pour pouvoir ouvrir ce fichier","missing":"Le fichier n'existe pas"}},"Error":{"public_unshared_title":"Dsol, ce lien n'est plus disponible.","public_unshared_text":"Ce lien a expir ou il a t supprim par le ou la propritaire. Signalez-lui que vous voulez accder  son contenu !"},"alert":{"could_not_open_file":"Impossible d'ouvrir le fichier","try_again":"Une erreur est survenue, merci de ressayer dans un instant.","restore_file_success":"La slection a t restaure avec succs.","trash_file_success":"La slection a t dplace dans la Corbeille.","destroy_file_success":"La slection a t supprime dfinitivement.","empty_trash_progress":" Votre corbeille est en train de se vider. Cela peut prendre quelques instants.","empty_trash_success":"La corbeille a t vide.","folder_name":"L'lment %{folderName} existe dj, merci de choisir un nouveau nom.","folder_generic":"Une erreur est survenue, merci de ressayer.","folder_abort":"Vous devez nommer votre dossier si vous voulez le sauvegarder. Vos informations n'ont pas t enregistres.","offline":"C'est fonctionnalit n'est pas disponible en mode hors-ligne.","preparing":"Prparation de vos fichiers..."},"mobile":{"onboarding":{"welcome":{"title":"Bienvenue sur Cozy Drive","desc":"Crez ou connectez votre Cozy pour accder aux services de Cozy Drive.","button":"Jai dj mon Cozy","no_account_link":"Je nai pas de cozy","create_my_cozy":"Crer mon Cozy"},"server_selection":{"title":"Se connecter","lostpwd":"[J'ai oubli l'adresse de mon Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Adresse de mon Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mondomaine.com","domain_cozy":".mycozy.cloud","domain_custom":"autre","button":"Continuer","wrong_address_with_email":"Vous avez entr une adresse email. Pour vous connecter  votre Cozy vous devez entrer son url, sous la forme https://camillenimbus.mycozy.cloud","wrong_address_v2":"Vous avez entr l'adresse d'une Cozy v2. Cette application n'est compatible qu'avec la dernire version de Cozy. Rendez-vous sur [notre site](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=fr) pour plus d'informations","wrong_address":"Cette adresse ne semble pas correspondre  un Cozy.","wrong_address_cosy":"Oups, ce n'est pas la bonne adresse. Essayez d'crire \"cozy\" avec un \"z\" !"},"files":{"title":"Accder  vos fichiers","description":"Pour sauvegarder les fichiers de votre Cozy sur votre priphrique, l'application doit accder  vos fichiers."},"photos":{"title":"Sauvegarder vos photos et vos vidos","description":"Sauvegarder automatiquement les photos prises avec votre tlphone dans votre Cozy, pour ne jamais les perdre."},"contacts":{"title":"Synchronisez vos contacts","description":"Sauvegardez les contacts de votre appareil sur votre Cozy  cela facilitera le partage de fichiers avec eux."},"step":{"button":"Activer maintenant","skip":"Plus tard","next":"Suivant"},"analytics":{"title":"Aidez-nous  amliorer Cozy","description":"Cette application transmettra automatiquement des donnes (surtout des erreurs)  notre quipe support. Cela nous permettra de rsoudre les problmes plus vite."}},"settings":{"title":"Paramtres","about":{"title":" propos","app_version":"Version","account":"Compte"},"unlink":{"title":"Dconnecter votre Cozy","description":"En dconnectant votre Cozy de cette application, vous ne perdrez aucune donne de votre Cozy. Cela supprimera vos fichiers disponibles hors connexion de cet appareil li  votre Cozy.","button":"Dconnecter"},"media_backup":{"media_folder":"Photos","backup_folder":"Sauvegardes depuis mon mobile","legacy_backup_folder":"Sauvegardes depuis mon mobile","title":"Sauvegarder des mdias","images":{"title":"Sauvegarde des images","label":"Sauvegardez vos photos automatiquement dans votre Cozy pour ne jamais les perdre et les partager efficacement."},"launch":"Lancer la sauvegarde","stop":"Arrter la sauvegarde","wifi":{"title":"Sauvegarder seulement en WIFI","label":"Si l'option est active, votre priphrique ne sauvegardera les photos que lorsqu'il est connect en WIFI afin d'conomiser votre forfait."},"media_upload":"%{smart_count} image restante |||| %{smart_count} images restantes","media_uptodate":"Sauvegarde de photos -  jour","preparing":"Recherche de photos  sauvegarder...","no_wifi":"Connectez-vous au rseau WIFI","quota":"Stockage presque satur","quota_contact":"Grez votre espace de stockage"},"support":{"title":"Support","analytics":{"title":" Aidez-nous  amliorer Cozy","label":"Cette application transmettra automatiquement des donnes (surtout des erreurs)  notre quipe support. Cela nous permettra de rsoudre les problmes plus vite."},"feedback":{"title":"Aidez-nous  amliorer Cozy Drive","description":"Faites nous part de vos commentaires pour nous aider  amliorer Cozy Drive. Cliquez sur le bouton ci-dessous, expliquez le problme ou faites une suggestion et envoyez le tout. Et voil !","button":"faire un commentaire"},"logs":{"title":"Aidez-nous  comprendre votre problme","description":"Envoyez-nous le journal de l'application afin de nous aider  amliorer sa qualit et sa fiabilit.","button":"Envoyer mon journal","success":"Merci, nous allons investiguer votre problme et vous recontacter rapidement.","error":"Un problme n'a pas permis d'envoyer les informations."}},"contacts":{"title":"Contacts","subtitle":"Import de contacts","text":"Importez les contacts de votre tlphone dans votre Cozy pour partager plus facilement du contenu avec eux."}},"error":{"open_with":{"offline":"Vous devez tre connect pour pouvoir ouvrir ce fichier","noapp":"Aucune application ne vous permet de lire ce fichier"},"make_available_offline":{"offline":"Vous devez tre connect pour pouvoir ouvrir ce fichier","noapp":"Aucune application ne vous permet de lire ce fichier"}},"revoked":{"title":"Accs rvoqu","description":"Vous semblez avoir rvoqu votre priphrique depuis votre Cozy. Si ce n'est pas vous, n'hsitez pas  nous contacter  contact@cozycloud.cc. Toutes les donnes relatives  Cozy prsentes localement vont tre supprimes.","loginagain":"Se renregistrer","logout":"Se dconnecter"},"rating":{"enjoy":{"title":"Aimez-vous Cozy Drive ?","yes":"Oui !","no":"Pas vraiment"},"rate":{"title":"Pouvez-vous nous noter sur le Store ?","yes":"Allons-y","no":"Non, merci","later":"Plus tard"},"feedback":{"title":"Pouvez-vous nous donner des ides d'amlioration ?","yes":"Envoyer","no":"Non, merci"},"email":{"subject":"Amlioration de Cozy Drive","placeholder":"Bonjour,\nJ'aimerais faire des suggestions sur Cozy Drive. Je pense que vous pourriez amliorer"},"alert":{"rated":"Merci ! Vous tes au top ","declined":"Pas de problme. Vous allez adorer les prochaines amliorations. Restez Cozy !","later":"Vous avez raison de prendre votre temps pour nous rpondre.","feedback":"Merci pour votre retour. Nous allons y travailler."}},"first_sync":{"title":"Vous tes sur le point de lancer votre premire sauvegarde de photos \n","tips":"Astuces","tip_bed":"Ouvrir lapplication Cozy Drive avant de vous coucher ou quand vous nutilisez pas votre mobile.","tip_wifi":"Activer le Wi-Fi pour ne pas consommer votre forfait.","tip_lock":"Dsactiver le verrouillage de votre cran de veille.","result":"Au petit-djeuner, toutes vos photos seront ainsi stockes dans un endroit scuris. ","button":"Bien compris !"},"notifications":{"backup_paused":"Votre sauvegarde photos est en pause. Laissez l'application ouverte et empchez le tlphone de passer en veille pour terminer l'importation."}},"upload":{"alert":{"success":"%{smart_count} fichier import. |||| %{smart_count} fichiers imports.","success_conflicts":"%{smart_count} fichier import avec %{conflictNumber} conflit(s). |||| %{smart_count} fichiers imports avec %{conflictNumber} conflit(s).","success_updated":"%{smart_count} fichier import et %{updatedCount} mis  jour. |||| %{smart_count} fichiers imports et %{updatedCount} mis  jour.","success_updated_conflicts":"%{smart_count} fichier import, %{updatedCount} mis  jour et %{conflictCount} conflit(s). |||| %{smart_count} fichiers imports, %{updatedCount} mis  jour et %{conflictCount} conflit(s).","updated":"%{smart_count} fichier mis  jour. |||| %{smart_count} fichiers mis  jour.","updated_conflicts":"%{smart_count} fichier mis  jour avec %{conflictCount} conflit(s). |||| %{smart_count} fichiers mis  jour avec %{conflictCount} conflit(s).","errors":"Une erreur est survenue lors de l'import du fichier, merci de ressayer plus tard.","network":"Vous ne disposez pas d'une connexion internet. Merci de ressayer quand ce sera le cas."}},"intents":{"alert":{"error":"La rcupration du fichier a chou. Tlchargez le fichier manuellement puis ajoutez-le  Cozy. "},"picker":{"select":"Slectionner","cancel":"Annuler","new_folder":"Nouveau dossier","instructions":"Choisir une cible"}},"UploadQueue":{"header":"Import de %{smart_count} fichier dans votre Cozy |||| Import de %{smart_count} fichiers dans votre Cozy","header_mobile":"Import de %{done} sur %{total}","header_done":"%{done} sur %{total} lment(s) import(s)","close":"Fermer","item":{"pending":"En attente"}},"Viewer":{"close":"Fermer","noviewer":{"download":"Tlcharger ce fichier","openWith":"Ouvrir avec...","cta":{"saveTime":"Gagnez du temps !","installDesktop":"Installez l'outil de synchronisation pour ordinateur","accessFiles":"Accdez  vos fichiers directement sur votre ordinateur"}},"actions":{"download":"Tlcharger"},"loading":{"error":"Ce fichier n'a pas pu tre charg. Avez-vous une connexion internet qui fonctionne actuellement ?","retry":"Ressayer"},"error":{"noapp":"Aucune application ne vous permet de lire ce fichier.","generic":"Une erreur est survenue lors de l'ouverture de ce fichier, merci de ressayer.","noNetwork":"Vous tes actuellement hors ligne."}},"Move":{"to":"Dplacer vers:","action":"Dplacer","cancel":"Annuler","modalTitle":"Dplacer","title":"%{smart_count} lment |||| %{smart_count} lments","success":"%{subject} a t dplac dans %{target}. |||| %{smart_count} lments ont t dplacs dans %{target}.","error":"Une erreur est survenue pendant le dplacement de cet lment, merci de ressayer plus tard. |||| Une erreur est survenue pendant le dplacement de ces lments, merci de ressayer plus tard.","cancelled":"%{subject} a t rapatri dans son dossier dorigine. |||| %{smart_count} lments ont t rapatris dans leur dossiers dorigine.","cancelledWithRestoreErrors":"%{subject} a t rapatri dans son dossier d'origine mais il y a eu une erreur lors de la restauration du fichier depuis la corbeille. |||| %{smart_count} lments ont t rapatris dans leur dossiers d'origine mais il y a eu %{restoreErrorsCount} erreur(s) lors de la restauration des fichiers depuis la corbeille.","cancelled_error":"Une erreur est survenue lors de lannulation du dplacement. |||| Une erreur est survenue lors de lannulation de ces dplacements."},"FileOpenerExternal":{"fileNotFoundError":"Erreur : fichier non trouv"},"TOS":{"updated":{"title":"Du nouveau avec le RGPD !","detail":"Dans le cadre du Rglement Gnral de la Protection des Donnes (RGPD), [nos CGU sont actualises](%{link}) et sappliquent pour vous  partir du 25 mai 2018.","cta":"Accepter les CGU et continuer","disconnect":"Refuser et se dconnecter","error":"Une erreur est survenue, merci de ressayer plus tard"}},"manifest":{"permissions":{"contacts":{"description":"Utilis pour partager des lments  vos contacts"},"groups":{"description":"Utilis pour partager des lments  vos groupes"}}},"models":{"contact":{"defaultDisplayName":"Anonyme"}},"Scan":{"scan_a_doc":"Numriser un doc"}};

/***/ }),

/***/ "1tzb":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Avatar", function() { return Avatar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarPlusX", function() { return AvatarPlusX; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarLink", function() { return AvatarLink; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _Tooltip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Cp2O");
/* harmony import */ var _recipient_styl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("1BUi");
/* harmony import */ var _recipient_styl__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_recipient_styl__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _colorhash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("VSpF");







var Avatar = function Avatar(_ref) {
  var text = _ref.text,
      size = _ref.size,
      textId = _ref.textId;
  var initial = text.charAt(0);
  var bg = Object(_colorhash__WEBPACK_IMPORTED_MODULE_6__["default"])().getColor(textId);
  var style = {
    backgroundColor: bg
  };
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_recipient_styl__WEBPACK_IMPORTED_MODULE_5___default.a['recipient-avatar'], _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, _recipient_styl__WEBPACK_IMPORTED_MODULE_5___default.a['recipient-avatar--small'], size === 'small')),
    style: style,
    "data-tip": textId,
    "data-for": "recipient-avatar-".concat(text)
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, initial), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Tooltip__WEBPACK_IMPORTED_MODULE_4__["SharingTooltip"], {
    id: "recipient-avatar-".concat(text)
  }));
};
Avatar.propTypes = {
  text: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,
  size: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,
  textId: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string
};
Avatar.defaultProps = {
  text: '',
  size: 'small-plus',
  textId: ''
};
var AvatarPlusX = function AvatarPlusX(_ref2) {
  var size = _ref2.size,
      _ref2$extraRecipients = _ref2.extraRecipients,
      extraRecipients = _ref2$extraRecipients === void 0 ? [] : _ref2$extraRecipients;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_recipient_styl__WEBPACK_IMPORTED_MODULE_5___default.a['recipient-avatar'], _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, _recipient_styl__WEBPACK_IMPORTED_MODULE_5___default.a['recipient-avatar--small'], size === 'small')),
    "data-tip": true,
    "data-for": "extra-recipients-avatar"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: _recipient_styl__WEBPACK_IMPORTED_MODULE_5___default.a['recipient-avatar-plusx']
  }, "+", Math.min(extraRecipients.length, 99)), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Tooltip__WEBPACK_IMPORTED_MODULE_4__["SharingTooltip"], {
    id: "extra-recipients-avatar"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Tooltip__WEBPACK_IMPORTED_MODULE_4__["TooltipRecipientList"], {
    recipientNames: extraRecipients
  })));
};
AvatarPlusX.propTypes = {
  extraRecipients: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string),
  size: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string
};
AvatarPlusX.defaultProps = {
  extraRecipients: [],
  size: 'medium'
};
var AvatarLink = function AvatarLink(_ref3) {
  var _ref3$size = _ref3.size,
      size = _ref3$size === void 0 ? 'medium' : _ref3$size;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_recipient_styl__WEBPACK_IMPORTED_MODULE_5___default.a['recipient-avatar'], _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, _recipient_styl__WEBPACK_IMPORTED_MODULE_5___default.a['recipient-avatar--small'], size === 'small'))
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: _recipient_styl__WEBPACK_IMPORTED_MODULE_5___default.a['recipient-avatar-link']
  }));
};

/***/ }),

/***/ 2:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "2+0p":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_ui_react_MuiCozyTheme_Grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("COzu");









var GridItem =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(GridItem, _Component);

  function GridItem() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, GridItem);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(GridItem).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(GridItem, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          _onClick = _this$props.onClick,
          children = _this$props.children;
      return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_ui_react_MuiCozyTheme_Grid__WEBPACK_IMPORTED_MODULE_7__["default"], {
        item: true,
        xs: 3,
        sm: 2,
        onClick: function onClick() {
          return _onClick && _onClick();
        },
        className: "u-ta-center u-bxz u-bdrs-3 u-ellipsis"
      }, children);
    }
  }]);

  return GridItem;
}(react__WEBPACK_IMPORTED_MODULE_5__["Component"]);

GridItem.propTypes = {
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.func,
  children: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.node.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (GridItem);

/***/ }),

/***/ "2Ekz":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showModal", function() { return showModal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalManager", function() { return ModalManager; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("/MKj");



var SHOW_MODAL = 'SHOW_MODAL';
var HIDE_MODAL = 'HIDE_MODAL';

var reducer = function reducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
    show: false,
    component: null
  };
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case SHOW_MODAL:
      return {
        show: true,
        component: action.component
      };

    case HIDE_MODAL:
      return {
        show: false,
        component: null
      };

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (reducer);
var showModal = function showModal(component) {
  return {
    type: SHOW_MODAL,
    component: component,
    meta: {
      hideActionMenu: true
    }
  };
};

var hideModal = function hideModal() {
  var meta = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return {
    type: HIDE_MODAL,
    meta: meta
  };
};

var ModalManager = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(function (state) {
  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state.ui.modal);
})(function (_ref) {
  var show = _ref.show,
      component = _ref.component,
      dispatch = _ref.dispatch;
  if (!show) return null;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.cloneElement(component, {
    onClose: function onClose(meta) {
      return dispatch(hideModal(meta));
    }
  });
});

/***/ }),

/***/ "2U19":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ADD_TO_UPLOAD_QUEUE", function() { return ADD_TO_UPLOAD_QUEUE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "status", function() { return status; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "queue", function() { return queue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "processNextFile", function() { return processNextFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "overwriteFile", function() { return overwriteFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addToUploadQueue", function() { return addToUploadQueue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "purgeUploadQueue", function() { return purgeUploadQueue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onQueueEmpty", function() { return onQueueEmpty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getUploadQueue", function() { return getUploadQueue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getProcessed", function() { return getProcessed; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSuccessful", function() { return getSuccessful; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectors", function() { return selectors; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("fvjX");
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("OTOu");
/* harmony import */ var sharing_state__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("QWsP");
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("OjRq");
/* harmony import */ var _UploadQueue__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("trYA");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UploadQueue", function() { return _UploadQueue__WEBPACK_IMPORTED_MODULE_8__["default"]; });











var SLUG = 'upload';
var ADD_TO_UPLOAD_QUEUE = 'ADD_TO_UPLOAD_QUEUE';
var UPLOAD_FILE = 'UPLOAD_FILE';
var RECEIVE_UPLOAD_SUCCESS = 'RECEIVE_UPLOAD_SUCCESS';
var RECEIVE_UPLOAD_ERROR = 'RECEIVE_UPLOAD_ERROR';
var PURGE_UPLOAD_QUEUE = 'PURGE_UPLOAD_QUEUE';
var CANCEL = 'cancel';
var PENDING = 'pending';
var LOADING = 'loading';
var CREATED = 'created';
var UPDATED = 'updated';
var FAILED = 'failed';
var CONFLICT = 'conflict';
var QUOTA = 'quota';
var NETWORK = 'network';
var DONE_STATUSES = [CREATED, UPDATED];
var ERROR_STATUSES = [CONFLICT, NETWORK, QUOTA];
var status = {
  CANCEL: CANCEL,
  PENDING: PENDING,
  LOADING: LOADING,
  CREATED: CREATED,
  UPDATED: UPDATED,
  FAILED: FAILED,
  CONFLICT: CONFLICT,
  QUOTA: QUOTA,
  NETWORK: NETWORK,
  DONE_STATUSES: DONE_STATUSES,
  ERROR_STATUSES: ERROR_STATUSES
};
var CONFLICT_ERROR = 409;

var itemInitialState = function itemInitialState(item) {
  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default()({}, item, {
    status: PENDING
  });
};

var getStatus = function getStatus(action) {
  switch (action.type) {
    case UPLOAD_FILE:
      return LOADING;

    case RECEIVE_UPLOAD_SUCCESS:
      return action.isUpdate ? UPDATED : CREATED;

    case RECEIVE_UPLOAD_ERROR:
      return action.status;
  }
};

var item = function item(state) {
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
    isUpdate: false
  };
  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default()({}, state, {
    status: getStatus(action)
  });
};

var queue = function queue() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case ADD_TO_UPLOAD_QUEUE:
      return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(state.filter(function (i) {
        return i.status !== CREATED;
      })), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(action.files.map(function (f) {
        return itemInitialState(f);
      })));

    case PURGE_UPLOAD_QUEUE:
      return [];

    case UPLOAD_FILE:
    case RECEIVE_UPLOAD_SUCCESS:
    case RECEIVE_UPLOAD_ERROR:
      return state.map(function (i) {
        return i.file.name !== action.file.name ? i : item(i, action);
      });

    default:
      return state;
  }
};
/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_4__["combineReducers"])({
  queue: queue
}));
var processNextFile = function processNextFile(fileUploadedCallback, queueCompletedCallback, dirID, sharingState) {
  return (
    /*#__PURE__*/
    function () {
      var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(dispatch, getState, _ref) {
        var client, error, item, file, entry, isDirectory, newDir, uploadedFile, path, _uploadedFile, statusError, _status;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                client = _ref.client;
                error = null;

                if (client) {
                  _context.next = 4;
                  break;
                }

                throw new Error('Upload module needs a cozy-client instance to work. This instance should be made available by using the extraArgument function of redux-thunk');

              case 4:
                item = getUploadQueue(getState()).find(function (i) {
                  return i.status === PENDING;
                });

                if (item) {
                  _context.next = 7;
                  break;
                }

                return _context.abrupt("return", dispatch(onQueueEmpty(queueCompletedCallback)));

              case 7:
                file = item.file, entry = item.entry, isDirectory = item.isDirectory;
                _context.prev = 8;
                dispatch({
                  type: UPLOAD_FILE,
                  file: file
                });

                if (!(entry && isDirectory)) {
                  _context.next = 17;
                  break;
                }

                _context.next = 13;
                return uploadDirectory(client, entry, dirID);

              case 13:
                newDir = _context.sent;
                fileUploadedCallback(newDir);
                _context.next = 21;
                break;

              case 17:
                _context.next = 19;
                return uploadFile(client, file, dirID);

              case 19:
                uploadedFile = _context.sent;
                fileUploadedCallback(uploadedFile);

              case 21:
                dispatch({
                  type: RECEIVE_UPLOAD_SUCCESS,
                  file: file
                });
                _context.next = 46;
                break;

              case 24:
                _context.prev = 24;
                _context.t0 = _context["catch"](8);
                console.log('uploadError', _context.t0);
                error = _context.t0;

                if (!(_context.t0.status === CONFLICT_ERROR)) {
                  _context.next = 45;
                  break;
                }

                _context.prev = 29;
                _context.next = 32;
                return models__WEBPACK_IMPORTED_MODULE_7__["CozyFile"].getFullpath(dirID, file.name);

              case 32:
                path = _context.sent;

                if (!(!Object(sharing_state__WEBPACK_IMPORTED_MODULE_6__["isShared"])(sharingState, {
                  path: path
                }) && !Object(sharing_state__WEBPACK_IMPORTED_MODULE_6__["hasSharedParent"])(sharingState, {
                  path: path
                }))) {
                  _context.next = 40;
                  break;
                }

                _context.next = 36;
                return overwriteFile(client, file, path);

              case 36:
                _uploadedFile = _context.sent;
                fileUploadedCallback(_uploadedFile);
                dispatch({
                  type: RECEIVE_UPLOAD_SUCCESS,
                  file: file,
                  isUpdate: true
                });
                error = null;

              case 40:
                _context.next = 45;
                break;

              case 42:
                _context.prev = 42;
                _context.t1 = _context["catch"](29);
                error = _context.t1;

              case 45:
                if (error) {
                  lib_logger__WEBPACK_IMPORTED_MODULE_5__["default"].warn(error);
                  statusError = {
                    409: CONFLICT,
                    413: QUOTA
                  };
                  _status = statusError[error.status] || /Failed to fetch$/.exec(error.toString()) && NETWORK || FAILED;
                  dispatch({
                    type: RECEIVE_UPLOAD_ERROR,
                    file: file,
                    status: _status
                  });
                }

              case 46:
                dispatch(processNextFile(fileUploadedCallback, queueCompletedCallback, dirID, sharingState));

              case 47:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[8, 24], [29, 42]]);
      }));

      return function (_x, _x2, _x3) {
        return _ref2.apply(this, arguments);
      };
    }()
  );
};

var getFileFromEntry = function getFileFromEntry(entry) {
  return new Promise(function (resolve) {
    return entry.file(resolve);
  });
};

var uploadDirectory =
/*#__PURE__*/
function () {
  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(client, directory, dirID) {
    var newDir, dirReader;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.next = 2;
            return createFolder(client, directory.name, dirID);

          case 2:
            newDir = _context3.sent;
            dirReader = directory.createReader();
            return _context3.abrupt("return", new Promise(function (resolve) {
              var entriesReader =
              /*#__PURE__*/
              function () {
                var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
                /*#__PURE__*/
                _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(entries) {
                  var i, entry;
                  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
                    while (1) {
                      switch (_context2.prev = _context2.next) {
                        case 0:
                          i = 0;

                        case 1:
                          if (!(i < entries.length)) {
                            _context2.next = 20;
                            break;
                          }

                          entry = entries[i];

                          if (!entry.isFile) {
                            _context2.next = 14;
                            break;
                          }

                          _context2.t0 = uploadFile;
                          _context2.t1 = client;
                          _context2.next = 8;
                          return getFileFromEntry(entry);

                        case 8:
                          _context2.t2 = _context2.sent;
                          _context2.t3 = newDir.id;
                          _context2.next = 12;
                          return (0, _context2.t0)(_context2.t1, _context2.t2, _context2.t3);

                        case 12:
                          _context2.next = 17;
                          break;

                        case 14:
                          if (!entry.isDirectory) {
                            _context2.next = 17;
                            break;
                          }

                          _context2.next = 17;
                          return uploadDirectory(client, entry, newDir.id);

                        case 17:
                          i += 1;
                          _context2.next = 1;
                          break;

                        case 20:
                          resolve(newDir);

                        case 21:
                        case "end":
                          return _context2.stop();
                      }
                    }
                  }, _callee2);
                }));

                return function entriesReader(_x7) {
                  return _ref4.apply(this, arguments);
                };
              }();

              dirReader.readEntries(entriesReader);
            }));

          case 5:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function uploadDirectory(_x4, _x5, _x6) {
    return _ref3.apply(this, arguments);
  };
}();

var createFolder =
/*#__PURE__*/
function () {
  var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(client, name, dirID) {
    var resp;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _context4.next = 2;
            return client.collection('io.cozy.files').createDirectory({
              name: name,
              dirId: dirID
            });

          case 2:
            resp = _context4.sent;
            return _context4.abrupt("return", resp.data);

          case 4:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));

  return function createFolder(_x8, _x9, _x10) {
    return _ref5.apply(this, arguments);
  };
}();

var uploadFile =
/*#__PURE__*/
function () {
  var _ref6 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(client, file, dirID) {
    var resp;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            _context5.next = 2;
            return client.collection('io.cozy.files').createFile(file, {
              dirId: dirID
            });

          case 2:
            resp = _context5.sent;
            return _context5.abrupt("return", resp.data);

          case 4:
          case "end":
            return _context5.stop();
        }
      }
    }, _callee5);
  }));

  return function uploadFile(_x11, _x12, _x13) {
    return _ref6.apply(this, arguments);
  };
}();
/*
 * @function
 * @param {Object} client - A CozyClient instance
 * @param {Object} file - The uploaded javascript File object
 * @param {string} path - The file's path in the cozy
 * @return {Object} - The updated io.cozy.files
 */


var overwriteFile =
/*#__PURE__*/
function () {
  var _ref7 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6(client, file, path) {
    var statResp, _statResp$data, fileId, dirId, resp;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            _context6.next = 2;
            return client.collection('io.cozy.files').statByPath(path);

          case 2:
            statResp = _context6.sent;
            _statResp$data = statResp.data, fileId = _statResp$data.id, dirId = _statResp$data.dir_id;
            _context6.next = 6;
            return client.collection('io.cozy.files').updateFile(file, {
              dirId: dirId,
              fileId: fileId
            });

          case 6:
            resp = _context6.sent;
            return _context6.abrupt("return", resp.data);

          case 8:
          case "end":
            return _context6.stop();
        }
      }
    }, _callee6);
  }));

  return function overwriteFile(_x14, _x15, _x16) {
    return _ref7.apply(this, arguments);
  };
}();
var addToUploadQueue = function addToUploadQueue(files, dirID, sharingState, fileUploadedCallback, queueCompletedCallback) {
  return (
    /*#__PURE__*/
    function () {
      var _ref8 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee7(dispatch) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                dispatch({
                  type: ADD_TO_UPLOAD_QUEUE,
                  files: extractFilesEntries(files)
                });
                dispatch(processNextFile(fileUploadedCallback, queueCompletedCallback, dirID, sharingState));

              case 2:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7);
      }));

      return function (_x17) {
        return _ref8.apply(this, arguments);
      };
    }()
  );
};
var purgeUploadQueue = function purgeUploadQueue() {
  return {
    type: PURGE_UPLOAD_QUEUE
  };
};
var onQueueEmpty = function onQueueEmpty(callback) {
  return function (dispatch, getState) {
    var queue = getUploadQueue(getState());
    var quotas = getQuotaErrors(queue);
    var conflicts = getConflicts(queue);
    var created = getCreated(queue);
    var updated = getUpdated(queue);
    var networkErrors = getNetworkErrors(queue);
    var errors = getErrors(queue);
    return callback(created, quotas, conflicts, networkErrors, errors, updated);
  };
}; // selectors

var filterByStatus = function filterByStatus(queue, status) {
  return queue.filter(function (f) {
    return f.status === status;
  });
};

var getConflicts = function getConflicts(queue) {
  return filterByStatus(queue, CONFLICT);
};

var getErrors = function getErrors(queue) {
  return filterByStatus(queue, FAILED);
};

var getQuotaErrors = function getQuotaErrors(queue) {
  return filterByStatus(queue, QUOTA);
};

var getNetworkErrors = function getNetworkErrors(queue) {
  return filterByStatus(queue, NETWORK);
};

var getCreated = function getCreated(queue) {
  return filterByStatus(queue, CREATED);
};

var getUpdated = function getUpdated(queue) {
  return filterByStatus(queue, UPDATED);
};

var getUploadQueue = function getUploadQueue(state) {
  return state[SLUG].queue;
};
var getProcessed = function getProcessed(state) {
  return getUploadQueue(state).filter(function (f) {
    return f.status !== PENDING;
  });
};
var getSuccessful = function getSuccessful(state) {
  var queue = getUploadQueue(state);
  return queue.filter(function (f) {
    return [CREATED, UPDATED].includes(f.status);
  });
};
var selectors = {
  getConflicts: getConflicts,
  getErrors: getErrors,
  getQuotaErrors: getQuotaErrors,
  getNetworkErrors: getNetworkErrors,
  getCreated: getCreated,
  getUpdated: getUpdated,
  getProcessed: getProcessed,
  getSuccessful: getSuccessful // DOM helpers

};

var extractFilesEntries = function extractFilesEntries(items) {
  var results = [];

  for (var i = 0; i < items.length; i += 1) {
    var _item = items[i];

    if (_item.webkitGetAsEntry != null && _item.webkitGetAsEntry()) {
      var entry = _item.webkitGetAsEntry();

      results.push({
        file: _item.getAsFile(),
        isDirectory: entry.isDirectory === true,
        entry: entry
      });
    } else {
      results.push({
        file: _item,
        isDirectory: false,
        entry: null
      });
    }
  }

  return results;
};

/***/ }),

/***/ "2eL0":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_web_modules_viewer_FileOpenerExternal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("udIP");












var Embeder =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(Embeder, _React$Component);

  function Embeder(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, Embeder);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Embeder).call(this, props));
    _this.state = {
      loading: true
    };
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(Embeder, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.fetchFileUrl();
    }
  }, {
    key: "fetchFileUrl",
    value: function () {
      var _fetchFileUrl = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var service, _service$getData, id;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                service = this.props.service;

                try {
                  _service$getData = service.getData(), id = _service$getData.id;
                  this.setState({
                    fileId: id,
                    loading: false
                  });
                } catch (error) {
                  this.setState({
                    error: error,
                    loading: false
                  });
                }

              case 2:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function fetchFileUrl() {
        return _fetchFileUrl.apply(this, arguments);
      }

      return fetchFileUrl;
    }()
  }, {
    key: "render",
    value: function render() {
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_8__["IntentHeader"], {
        appName: "Drive",
        appEditor: "Cozy"
      }), this.state.loading && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_8__["Spinner"], {
        size: "xxlarge",
        loadingType: "message",
        middle: true
      }), this.state.error && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("pre", {
        className: "u-error"
      }, this.state.error.toString()), this.state.fileId && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(drive_web_modules_viewer_FileOpenerExternal__WEBPACK_IMPORTED_MODULE_9__["default"], {
        fileId: this.state.fileId,
        withCloseButtton: false
      }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_8__["IconSprite"], null));
    }
  }]);

  return Embeder;
}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (Embeder);

/***/ }),

/***/ "2k09":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("fD9B");
/* harmony import */ var sharing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("OsbH");
/* harmony import */ var _share__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("GpAf");





var SharedRecipientsComponent = function SharedRecipientsComponent(_ref) {
  var displayedFolder = _ref.displayedFolder,
      share = _ref.share;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(sharing__WEBPACK_IMPORTED_MODULE_2__["SharedRecipients"], {
    docId: displayedFolder && displayedFolder.id,
    onClick: function onClick() {
      return share(displayedFolder);
    }
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Object(_toolbar__WEBPACK_IMPORTED_MODULE_1__["default"])(Object(_share__WEBPACK_IMPORTED_MODULE_3__["default"])(SharedRecipientsComponent)));

/***/ }),

/***/ "2ogT":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _components_IntentHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("9xIA");

/* harmony default export */ __webpack_exports__["default"] = (_components_IntentHandler__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "2xTg":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);







var ContactsAndGroupsDataLoader =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(ContactsAndGroupsDataLoader, _Component);

  function ContactsAndGroupsDataLoader() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, ContactsAndGroupsDataLoader);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(ContactsAndGroupsDataLoader).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ContactsAndGroupsDataLoader, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate(nextProps) {
      return nextProps.contacts.hasMore !== this.props.contacts.hasMore || nextProps.contacts.fetchStatus !== this.props.contacts.fetchStatus || nextProps.contacts.data.length !== this.props.contacts.data.length || nextProps.groups.hasMore !== this.props.groups.hasMore || nextProps.groups.fetchStatus !== this.props.groups.fetchStatus || nextProps.groups.data.length !== this.props.groups.data.length;
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      if (this.props.contacts.hasMore) {
        this.props.contacts.fetchMore();
      }

      if (this.props.groups.hasMore) {
        this.props.groups.fetchMore();
      }
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children;
    }
  }]);

  return ContactsAndGroupsDataLoader;
}(react__WEBPACK_IMPORTED_MODULE_5__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (ContactsAndGroupsDataLoader);

/***/ }),

/***/ 3:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "32XB":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"fil-actionmenu-inner":"fil-actionmenu-inner--3JhFX","fil-actionmenu-recipients":"fil-actionmenu-recipients--28pEX","fil-action":"fil-action--3huaS","fil-actionmenu-overlay":"fil-actionmenu-overlay--1o4R9","fil-mobileactionmenu":"fil-mobileactionmenu--2J9Kc","fil-mobileactionmenu-header":"fil-mobileactionmenu-header--j3KI4","fil-mobileactionmenu-file-name":"fil-mobileactionmenu-file-name--3VXSo","fil-mobileactionmenu-file-ext":"fil-mobileactionmenu-file-ext--2sio1","fil-mobileactionmenu-category":"fil-mobileactionmenu-category--34XX7","fil-action-phone-download":"fil-action-phone-download--3zG6S","fil-action-openWith":"fil-action-openWith--NJ1ah","fil-action-download":"fil-action-download--378G6","fil-action-destroy":"fil-action-destroy--1FAXj","fil-action-trash":"fil-action-trash--268pI","fil-action-restore":"fil-action-restore--36vfQ","fil-action-rename":"fil-action-rename--1hqjC","fil-action-share":"fil-action-share--1BpnI","fil-action-moveto":"fil-action-moveto--o2Fw2","fil-action-qualify":"fil-action-qualify--2C734"};

/***/ }),

/***/ "37ak":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showNewFolderInput", function() { return showNewFolderInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hideNewFolderInput", function() { return hideNewFolderInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isTypingNewFolderName", function() { return isTypingNewFolderName; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);

var SHOW_NEW_FOLDER_INPUT = 'SHOW_NEW_FOLDER_INPUT';
var HIDE_NEW_FOLDER_INPUT = 'HIDE_NEW_FOLDER_INPUT';
var showNewFolderInput = function showNewFolderInput() {
  return {
    type: SHOW_NEW_FOLDER_INPUT
  };
};
var hideNewFolderInput = function hideNewFolderInput() {
  return {
    type: HIDE_NEW_FOLDER_INPUT
  };
};
var initialState = {
  isTypingNewFolderName: false
};

var filelist = function filelist() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case SHOW_NEW_FOLDER_INPUT:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        isTypingNewFolderName: true
      });

    case HIDE_NEW_FOLDER_INPUT:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        isTypingNewFolderName: false
      });

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (filelist);
var isTypingNewFolderName = function isTypingNewFolderName(state) {
  return state.filelist.isTypingNewFolderName;
};

/***/ }),

/***/ "3Cim":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("cLsY");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("buk/");
/* harmony import */ var sharing__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("OsbH");
/* harmony import */ var drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("MM/P");
/* harmony import */ var drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_7__);








var Message = Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_5__["translate"])()(function (_ref) {
  var t = _ref.t,
      type = _ref.type,
      fileCount = _ref.fileCount;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-confirm-text'], drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_7___default.a["icon-".concat(type)])
  }, t("deleteconfirmation.".concat(type), fileCount));
});

var DeleteConfirm = function DeleteConfirm(_ref2) {
  var t = _ref2.t,
      files = _ref2.files,
      referenced = _ref2.referenced,
      onConfirm = _ref2.onConfirm,
      onClose = _ref2.onClose,
      children = _ref2.children;
  var fileCount = files.length;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_4__["default"], {
    title: t('deleteconfirmation.title', fileCount),
    secondaryText: t('deleteconfirmation.cancel'),
    secondaryAction: onClose,
    secondaryType: "secondary",
    primaryType: "danger",
    primaryText: t('deleteconfirmation.delete'),
    primaryAction: function primaryAction() {
      return onConfirm().then(onClose);
    }
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_4__["ModalDescription"], null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Message, {
    type: "trash",
    fileCount: fileCount
  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Message, {
    type: "restore",
    fileCount: fileCount
  }), referenced && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Message, {
    type: "referenced",
    fileCount: fileCount
  }), children));
};

var DeleteConfirmWithSharingContext = function DeleteConfirmWithSharingContext(_ref3) {
  var files = _ref3.files,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref3, ["files"]);

  return files.length !== 1 ? react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(DeleteConfirm, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    files: files
  }, rest)) : react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(sharing__WEBPACK_IMPORTED_MODULE_6__["SharedDocument"], {
    docId: files[0].id
  }, function (_ref4) {
    var isSharedByMe = _ref4.isSharedByMe;
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(DeleteConfirm, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      files: files
    }, rest), isSharedByMe && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Message, {
      type: "shared",
      fileCount: files.length
    }), isSharedByMe && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(sharing__WEBPACK_IMPORTED_MODULE_6__["SharedRecipientsList"], {
      className: drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-confirm-recipients'],
      docId: files[0].id
    }));
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_5__["translate"])()(DeleteConfirmWithSharingContext));

/***/ }),

/***/ "3Jea":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"u-shake":"u-shake--2w9Ah","shake":"shake--3lQxc","u-o-100":"u-o-100--fIdgC","u-o-90":"u-o-90--1n38D","u-o-80":"u-o-80--y360z","u-o-70":"u-o-70--35vTa","u-o-60":"u-o-60--s4-Cn","u-o-50":"u-o-50--3MPnn","u-o-40":"u-o-40--1PWFb","u-o-30":"u-o-30--1pEPX","u-o-20":"u-o-20--3PArr","u-o-10":"u-o-10--3F8WR","u-o-05":"u-o-05--_JIuM","u-o-025":"u-o-025--o8h8s","u-o-0":"u-o-0--3KlCg","shared-status":"shared-status--2MD96","shared-status-label":"shared-status-label--3Pk0H","spin":"spin--3YGV1"};

/***/ }),

/***/ "3nSB":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-note_66b67c1293c24a2bdf42260d7e0388b7",
  "use": "icon-type-note_66b67c1293c24a2bdf42260d7e0388b7-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-note_66b67c1293c24a2bdf42260d7e0388b7\"><path d=\"M2 2a2 2 0 0 1 2-2h22a2 2 0 0 1 2 2v28a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2z\" fill=\"#acf5f7\" fill-rule=\"evenodd\" /><path d=\"M8 8h14v2H8zm0 4h8v2H8zm0 4h14v2H8zm0 4h10v2H8zM1.5 4h2A1.54 1.54 0 0 1 5 5.5 1.54 1.54 0 0 1 3.5 7h-2A1.54 1.54 0 0 1 0 5.5 1.54 1.54 0 0 1 1.5 4zM1.5 11h2A1.54 1.54 0 0 1 5 12.5 1.54 1.54 0 0 1 3.5 14h-2A1.54 1.54 0 0 1 0 12.5 1.54 1.54 0 0 1 1.5 11zM1.5 18h2A1.54 1.54 0 0 1 5 19.5 1.54 1.54 0 0 1 3.5 21h-2A1.54 1.54 0 0 1 0 19.5 1.54 1.54 0 0 1 1.5 18zM1.5 25h2A1.54 1.54 0 0 1 5 26.5 1.54 1.54 0 0 1 3.5 28h-2A1.54 1.54 0 0 1 0 26.5 1.54 1.54 0 0 1 1.5 25zM31.4 18.4l-2.8-2.8a2 2 0 0 1 2.8 2.8zM30.7 19.1L20.8 29l-2.5.9a1 1 0 0 1-1.3-.6.85.85 0 0 1 0-.7l.9-2.5 9.9-9.9z\" fill=\"#0dcbcf\" fill-rule=\"evenodd\" /></symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "3oYK":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_react_MuiCozyTheme__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("xIbs");
/* harmony import */ var cozy_ui_react_MuiCozyTheme_Grid__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("COzu");
/* harmony import */ var _Grid_CategoryGridItem__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("AGQC");
/* harmony import */ var _DocumentCategory__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("YwPC");
/* harmony import */ var _DocumentTypeData__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("9Gq+");
/* harmony import */ var _Grid_GridItem__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("2+0p");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("JyWO");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_18__);



















/**
 * Document Qualification
 *
 * This screen is used to qualify a document ie:
 *  Selecting a metadata category etc
 *  Renaming the file
 *
 * When a selection is done, we call a callback from
 * its parent
 *
 */

var filename_extension = '.jpg';
var id_filename_input = 'filename_input';

var DocumentQualification =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(DocumentQualification, _Component);

  function DocumentQualification(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, DocumentQualification);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(DocumentQualification).call(this, props));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "getFilenameFromCategory", function (item, t) {
      var realItem = Object(_DocumentTypeData__WEBPACK_IMPORTED_MODULE_16__["getItemById"])(item.itemId);

      if (realItem) {
        var name = t("Scan.items.".concat(realItem.label));
        return "".concat(name.replace(/ /g, '-'), "_").concat(new Date().toLocaleDateString().replace(/:/g, '-').replace(/\//g, '-'));
      } else {
        return _this.defaultFilename;
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "onSelect", function (item) {
      var _this$props = _this.props,
          t = _this$props.t,
          editFileName = _this$props.editFileName;
      var hasUserWrittenFileName = _this.state.hasUserWrittenFileName;
      var filename = null;

      if (!hasUserWrittenFileName) {
        filename = _this.getFilenameFromCategory(item, t);
      } else {
        filename = _this.state.filename;
      }

      _this.setState({
        selected: item
      });

      _this.handleFileNameChange(filename);

      var onQualified = _this.props.onQualified;

      if (onQualified) {
        var realItem = Object(_DocumentTypeData__WEBPACK_IMPORTED_MODULE_16__["getItemById"])(item.itemId);
        /* ATM, we only accept JPG extension from the scanner. So 
        we hardcode the filename extension here. 
         If we can't editFileName, then we don't need to use the 
        generated filename 
        */

        if (editFileName) {
          onQualified(realItem ? realItem : undefined, filename + filename_extension);
        } else {
          onQualified(realItem ? realItem : undefined);
        }
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "handleFileNameChange", function (filename) {
      var onFileNameChanged = _this.props.onFileNameChanged;

      _this.setState({
        filename: filename
      });

      onFileNameChanged && onFileNameChanged(filename + filename_extension);
    });

    var _ref = props.initialSelected || {},
        _ref$categoryLabel = _ref.categoryLabel,
        categoryLabel = _ref$categoryLabel === void 0 ? null : _ref$categoryLabel,
        _ref$itemId = _ref.itemId,
        itemId = _ref$itemId === void 0 ? null : _ref$itemId;

    _this.defaultFilename = "Scan_".concat(new Date().toISOString().replace(/:/g, '-'));
    _this.state = {
      selected: {
        categoryLabel: categoryLabel,
        itemId: itemId
      },
      filename: _this.defaultFilename,
      hasUserWrittenFileName: false
    };
    _this.textInput = react__WEBPACK_IMPORTED_MODULE_7___default.a.createRef();
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(DocumentQualification, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props2 = this.props,
          t = _this$props2.t,
          title = _this$props2.title,
          editFileName = _this$props2.editFileName;
      var _this$state = this.state,
          selected = _this$state.selected,
          filename = _this$state.filename,
          hasUserWrittenFileName = _this$state.hasUserWrittenFileName;
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react_MuiCozyTheme__WEBPACK_IMPORTED_MODULE_12__["default"], null, editFileName && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__["Label"], {
        htmlFor: id_filename_input
      }, t('Scan.filename')), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__["InputGroup"], {
        fullwidth: true,
        append: react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", {
          className: "u-pr-1"
        }, filename_extension),
        className: "u-bdrs-3"
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__["Input"], {
        placeholder: t('Scan.filename'),
        value: filename,
        onChange: function onChange(event) {
          //If the user write something once, we don't want to rename the file automatically anymore
          if (!hasUserWrittenFileName) {
            _this2.setState({
              hasUserWrittenFileName: true
            });
          } //If we left an empty value, then we reset the behavior


          if (event.target.value === '') _this2.setState({
            hasUserWrittenFileName: false
          });

          _this2.handleFileNameChange(event.target.value);
        },
        onFocus: function onFocus() {
          if (!hasUserWrittenFileName) _this2.textInput.current.setSelectionRange(0, filename.length);
        },
        onBlur: function onBlur() {
          if (filename === '') {
            _this2.handleFileNameChange(_this2.getFilenameFromCategory(selected, t));
          }
        },
        inputRef: this.textInput,
        id: id_filename_input
      }))), title && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        className: "u-flex u-flex-items-center u-mt-1-half"
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__["Icon"], {
        icon: "qualify"
      }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__["Title"], {
        className: classnames__WEBPACK_IMPORTED_MODULE_9___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_18___default.a['grid-item-title'], 'u-pl-half u-mb-1')
      }, title)), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react_MuiCozyTheme_Grid__WEBPACK_IMPORTED_MODULE_13__["default"], {
        container: true,
        spacing: 1
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Grid_GridItem__WEBPACK_IMPORTED_MODULE_17__["default"], {
        onClick: function onClick() {
          return _this2.onSelect({
            categoryLabel: null,
            itemId: null
          });
        }
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Grid_CategoryGridItem__WEBPACK_IMPORTED_MODULE_14__["default"], {
        isSelected: selected.categoryLabel === null,
        theme: t("Scan.themes.undefined")
      })), _DocumentTypeData__WEBPACK_IMPORTED_MODULE_16__["themes"].map(function (category, i) {
        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_DocumentCategory__WEBPACK_IMPORTED_MODULE_15__["default"], {
          onSelect: function onSelect(item) {
            return _this2.onSelect(item);
          },
          category: category,
          items: Object(_DocumentTypeData__WEBPACK_IMPORTED_MODULE_16__["getItemsByCategory"])(category),
          key: i,
          isSelected: selected.categoryLabel === category.label,
          selectedItem: selected.itemId ? Object(_DocumentTypeData__WEBPACK_IMPORTED_MODULE_16__["getItemById"])(selected.itemId) : {},
          t: t
        });
      })));
    }
  }]);

  return DocumentQualification;
}(react__WEBPACK_IMPORTED_MODULE_7__["Component"]);

DocumentQualification.defaultProps = {
  editFileName: false
};
DocumentQualification.propTypes = {
  /**
   * This callback is called after a select.
   *
   */
  onQualified: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,
  onFileNameChanged: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,
  title: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,
  initialSelected: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.shape({
    itemId: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,
    categoryLabel: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string
  }),
  editFileName: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_11__["translate"])()(DocumentQualification));

/***/ }),

/***/ 4:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "42zN":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-eye-16_32a783455d403df2cdd48aa32afb9d27",
  "use": "icon-eye-16_32a783455d403df2cdd48aa32afb9d27-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-eye-16_32a783455d403df2cdd48aa32afb9d27\">\n    <defs>\n        <path d=\"M0,8 C0,8 2,2 8,2 C14,2 16,8 16,8 C16,8 14,14 8,14 C2,14 0,8 0,8 Z M8,12 C10.2091391,12 12,10.2091391 12,8 C12,5.79086089 10.2091391,4 8,4 C5.79086089,4 4,5.79086089 4,8 C4,10.2091391 5.79086089,12 8,12 Z M8,10 C6.89543045,10 6,9.10456955 6,8 C6,6.89543045 6.89543045,6 8,6 C9.10456955,6 10,6.89543045 10,8 C10,9.10456955 9.10456955,10 8,10 Z\" id=\"icon-eye-16_32a783455d403df2cdd48aa32afb9d27_path-1\" />\n    </defs>\n    <g id=\"icon-eye-16_32a783455d403df2cdd48aa32afb9d27_icons/16/eye\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <mask id=\"icon-eye-16_32a783455d403df2cdd48aa32afb9d27_mask-2\" fill=\"white\">\n            <use xlink:href=\"#icon-eye-16_32a783455d403df2cdd48aa32afb9d27_path-1\" />\n        </mask>\n        <use id=\"icon-eye-16_32a783455d403df2cdd48aa32afb9d27_Mask\" fill=\"#95999d\" fill-opacity=\"0.5\" xlink:href=\"#icon-eye-16_32a783455d403df2cdd48aa32afb9d27_path-1\" />\n    </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "4YHr":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconDropZone", function() { return IconDropZone; });
var IconDropZone = 'cozy-negative';
/* harmony default export */ __webpack_exports__["default"] = (IconDropZone);

/***/ }),

/***/ "510Z":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ImageLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8C5O");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ImageLoader", function() { return _ImageLoader__WEBPACK_IMPORTED_MODULE_0__["default"]; });



/***/ }),

/***/ "5Cvz":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("buk/");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("4kcP");
/* harmony import */ var cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("67rm");
/* harmony import */ var _withOffline__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("Tcnr");
/* harmony import */ var _NewModal__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("mlqZ");
/* harmony import */ var _DocumentQualification__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("3oYK");
/* harmony import */ var _DocumentTypeData__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("9Gq+");




















var pushAnalytics = function pushAnalytics(item) {
  var tracker = Object(cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_13__["getTracker"])();

  if (tracker) {
    tracker.push(['trackEvent', 'Drive', 'Scanner', 'Edit Qualification']);

    if (item && item.label) {
      tracker.push(['trackEvent', 'Drive', 'Qualification', item.label]);
    }
  }
};
/**
 * Display the Modal to Edit the category of the selected files
 */


var EditDocumentQualification =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(EditDocumentQualification, _Component);

  function EditDocumentQualification() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, EditDocumentQualification);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(EditDocumentQualification)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "state", {
      qualification: undefined
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(EditDocumentQualification, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          document = _this$props.document,
          onClose = _this$props.onClose,
          t = _this$props.t,
          client = _this$props.client,
          onQualified = _this$props.onQualified,
          isOffline = _this$props.isOffline;
      var qualification = this.state.qualification;
      var item = document.metadata.id ? Object(_DocumentTypeData__WEBPACK_IMPORTED_MODULE_18__["getItemById"])(document.metadata.id) : null;
      var itemId = item ? item.id : null;
      var theme = item ? Object(_DocumentTypeData__WEBPACK_IMPORTED_MODULE_18__["getThemeByItem"])(item) : null;
      var categoryLabel = item ? theme.label : null;
      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_NewModal__WEBPACK_IMPORTED_MODULE_16__["default"], {
        title: document.name,
        dismissAction: onClose,
        primaryText: t('Scan.apply'),
        primaryAction:
        /*#__PURE__*/
        _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
          var fileCollection, updatedFile;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  if (!isOffline) {
                    _context.next = 4;
                    break;
                  }

                  cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_14__["default"].error('Scan.error.offline');
                  _context.next = 19;
                  break;

                case 4:
                  _context.prev = 4;
                  fileCollection = client.collection('io.cozy.files');
                  _context.next = 8;
                  return fileCollection.updateMetadataAttribute(document._id, qualification);

                case 8:
                  updatedFile = _context.sent;
                  pushAnalytics(item);
                  if (onQualified) onQualified(updatedFile.data);
                  onClose();
                  cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_14__["default"].success('Scan.successful.qualified_ok');
                  _context.next = 19;
                  break;

                case 15:
                  _context.prev = 15;
                  _context.t0 = _context["catch"](4);
                  console.error('Scan.error.generic', _context.t0);
                  cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_14__["default"].error('Scan.error.generic');

                case 19:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee, null, [[4, 15]]);
        })),
        primaryType: 'regular',
        secondaryText: t('Scan.cancel'),
        secondaryAction: function secondaryAction() {
          return onClose();
        },
        secondaryType: 'secondary',
        description: react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_DocumentQualification__WEBPACK_IMPORTED_MODULE_17__["default"], {
          onQualified: function onQualified(qualification) {
            _this2.setState({
              qualification: qualification
            });
          },
          initialSelected: {
            itemId: itemId,
            categoryLabel: categoryLabel
          }
        })
      });
    }
  }]);

  return EditDocumentQualification;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);

EditDocumentQualification.propTypes = {
  document: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired,
  onClose: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  t: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  client: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object,
  onQualified: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
  isOffline: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_11__["translate"])()(Object(_withOffline__WEBPACK_IMPORTED_MODULE_15__["default"])(Object(cozy_client__WEBPACK_IMPORTED_MODULE_12__["withClient"])(EditDocumentQualification))));

/***/ }),

/***/ "5lZ0":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-code_998ba31b1b8dfd6f00ade2438c217d5a",
  "use": "icon-type-code_998ba31b1b8dfd6f00ade2438c217d5a-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-code_998ba31b1b8dfd6f00ade2438c217d5a\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(3)\">\n    <path fill=\"#E6D5FF\" d=\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\" />\n    <path fill=\"#9C59FF\" d=\"M18.5,8.57092175e-14 C18.2238576,1.33045111e-13 18,0.230796814 18,0.500435829 L18,8 L25.4995642,8 C25.7759472,8 26,7.76806641 26,7.5 L26,7 L19,0 L18.5,8.57092175e-14 Z\" />\n    <g stroke=\"#9C59FF\" stroke-width=\"2\" transform=\"translate(5 11)\">\n      <polyline points=\"4 11 0 7 4 3\" stroke-linejoin=\"round\" />\n      <polyline points=\"16 11 12 7 16 3\" stroke-linejoin=\"round\" transform=\"matrix(-1 0 0 1 28 0)\" />\n      <path d=\"M6,14 L10,0\" />\n    </g>\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "5vC2":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sharing_components_Recipient__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("MzcY");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("z+SL");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var sharing__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("OsbH");
/* harmony import */ var _share__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("GpAf");






var ShareItem = Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["translate"])()(function (_ref) {
  var t = _ref.t,
      share = _ref.share,
      displayedFolder = _ref.displayedFolder;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(sharing__WEBPACK_IMPORTED_MODULE_4__["SharedDocument"], {
    docId: displayedFolder.id
  }, function (_ref2) {
    var isSharedWithMe = _ref2.isSharedWithMe,
        recipients = _ref2.recipients,
        link = _ref2.link;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      className: drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_3___default.a['fil-action-share'],
      onClick: function onClick() {
        return share(displayedFolder);
      }
    }, t(isSharedWithMe ? 'Files.share.sharedWithMe' : 'toolbar.share'), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(sharing_components_Recipient__WEBPACK_IMPORTED_MODULE_1__["RecipientsAvatars"], {
      className: drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_3___default.a['fil-toolbar-menu-recipients'],
      recipients: recipients,
      link: link,
      size: "small"
    }));
  });
});
/* harmony default export */ __webpack_exports__["default"] = (Object(_share__WEBPACK_IMPORTED_MODULE_5__["default"])(ShareItem));

/***/ }),

/***/ "6WMq":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_stylus_settings_palette_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("yoMi");
var cozy_ui_stylus_settings_palette_json__WEBPACK_IMPORTED_MODULE_3___namespace = /*#__PURE__*/__webpack_require__.t("yoMi", 1);
/* harmony import */ var drive_assets_icons_icon_drive_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("S0v/");






var HeaderIlustration = function HeaderIlustration(_ref) {
  var count = _ref.count;
  return count > 1 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Circle"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Counter"], {
    count: count
  })) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Icon"], {
    icon: drive_assets_icons_icon_drive_svg__WEBPACK_IMPORTED_MODULE_4__["default"],
    size: 32
  });
};

var Header = function Header(_ref2, _ref3) {
  var entries = _ref2.entries,
      onClose = _ref2.onClose;
  var t = _ref3.t;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Well"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Media"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Img"], {
    className: "u-mr-1"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HeaderIlustration, {
    count: entries.length
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Bd"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Bold"], {
    ellipsis: true
  }, entries.length > 1 ? t('Move.title', {
    smart_count: entries.length
  }) : entries[0].name), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Caption"], {
    ellipsis: true
  }, t('Move.to'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Button"], {
    theme: "close",
    onClick: onClose,
    extension: "narrow",
    type: "button"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Icon"], {
    icon: "cross",
    width: "14",
    height: "14",
    color: cozy_ui_stylus_settings_palette_json__WEBPACK_IMPORTED_MODULE_3__['coolGrey']
  }))));
};

Header.propTypes = {
  entries: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
  })).isRequired,
  onClose: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
Header.contextTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Header);

/***/ }),

/***/ "6Xwf":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_web_modules_upload_UploadButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("ZorK");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("z+SL");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("fD9B");






var UploadItem = Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__["translate"])()(function (_ref) {
  var t = _ref.t,
      displayedFolder = _ref.displayedFolder,
      insideMoreMenu = _ref.insideMoreMenu,
      isDisabled = _ref.isDisabled;
  return insideMoreMenu ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_upload_UploadButton__WEBPACK_IMPORTED_MODULE_2__["default"], {
    displayedFolder: displayedFolder,
    label: t('toolbar.menu_upload'),
    className: drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-action-upload']
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_upload_UploadButton__WEBPACK_IMPORTED_MODULE_2__["default"], {
    disabled: isDisabled,
    displayedFolder: displayedFolder,
    label: t('toolbar.item_upload'),
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_4___default.a['c-btn'], 'u-hide--mob')
  });
});
/* harmony default export */ __webpack_exports__["default"] = (Object(_toolbar__WEBPACK_IMPORTED_MODULE_5__["default"])(UploadItem));

/***/ }),

/***/ "6dOw":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({});

/***/ }),

/***/ "71Dd":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var sharing_components_recipient_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("1BUi");
/* harmony import */ var sharing_components_recipient_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sharing_components_recipient_styl__WEBPACK_IMPORTED_MODULE_3__);





var Identity = function Identity(_ref) {
  var name = _ref.name,
      details = _ref.details;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(sharing_components_recipient_styl__WEBPACK_IMPORTED_MODULE_3___default.a['recipient-idents'], 'u-ml-1')
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: sharing_components_recipient_styl__WEBPACK_IMPORTED_MODULE_3___default.a['recipient-user']
  }, name), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: sharing_components_recipient_styl__WEBPACK_IMPORTED_MODULE_3___default.a['recipient-details']
  }, details));
};

Identity.propTypes = {
  name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  details: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
};
Identity.defaultProps = {
  details: '-'
};
/* harmony default export */ __webpack_exports__["default"] = (Identity);

/***/ }),

/***/ "7BSk":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_styles_dropzone_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("W9Ej");
/* harmony import */ var drive_styles_dropzone_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(drive_styles_dropzone_styl__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("7jrE");
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var drive_web_modules_upload_IconDropZone__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("4YHr");





var DropzoneTeaser = Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_1__["translate"])()(function (_ref) {
  var t = _ref.t,
      currentFolder = _ref.currentFolder;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: drive_styles_dropzone_styl__WEBPACK_IMPORTED_MODULE_2___default.a['fil-dropzone-teaser']
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: drive_styles_dropzone_styl__WEBPACK_IMPORTED_MODULE_2___default.a['fil-dropzone-teaser-claudy']
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_1__["Icon"], {
    icon: drive_web_modules_upload_IconDropZone__WEBPACK_IMPORTED_MODULE_4__["default"],
    size: 40,
    color: cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_3___default.a.white
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: drive_styles_dropzone_styl__WEBPACK_IMPORTED_MODULE_2___default.a['fil-dropzone-teaser-content']
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, t('Files.dropzone.teaser')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: drive_styles_dropzone_styl__WEBPACK_IMPORTED_MODULE_2___default.a['fil-dropzone-teaser-folder']
  }, currentFolder && currentFolder.name || 'Drive')));
});
/* harmony default export */ __webpack_exports__["default"] = (DropzoneTeaser);

/***/ }),

/***/ "7oMs":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSelected", function() { return isSelected; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSelectedIds", function() { return getSelectedIds; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSelectionBarVisible", function() { return isSelectionBarVisible; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSelectedFiles", function() { return getSelectedFiles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showSelectionBar", function() { return showSelectionBar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hideSelectionBar", function() { return hideSelectionBar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toggleSelectionBar", function() { return toggleSelectionBar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toggleItemSelection", function() { return toggleItemSelection; });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("fvjX");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yEaX");


 // constants

var SELECT_ITEM = 'SELECT_ITEM';
var UNSELECT_ITEM = 'UNSELECT_ITEM';
var TOGGLE_SELECTION_BAR = 'TOGGLE_SELECTION_BAR';
var SHOW_SELECTION_BAR = 'SHOW_SELECTION_BAR';
var HIDE_SELECTION_BAR = 'HIDE_SELECTION_BAR'; // selectors

var isSelected = function isSelected(state, id) {
  return state.selection.selected.find(function (_id) {
    return _id === id;
  }) !== undefined;
};
var getSelectedIds = function getSelectedIds(state) {
  return state.selection.selected;
};
var isSelectionBarVisible = function isSelectionBarVisible(state) {
  return state.selection.selected.length !== 0 || state.selection.isSelectionBarOpened;
};
var getSelectedFiles = function getSelectedFiles(state) {
  return getSelectedIds(state).map(function (id) {
    return Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_2__["getFileById"])(state, id);
  });
}; // actions

var showSelectionBar = function showSelectionBar() {
  return {
    type: SHOW_SELECTION_BAR
  };
};
var hideSelectionBar = function hideSelectionBar() {
  return {
    type: HIDE_SELECTION_BAR
  };
};
var toggleSelectionBar = function toggleSelectionBar() {
  return {
    type: TOGGLE_SELECTION_BAR
  };
};
var toggleItemSelection = function toggleItemSelection(id, selected) {
  return {
    type: selected ? UNSELECT_ITEM : SELECT_ITEM,
    id: id
  };
}; // reducers

var selected = function selected() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 ? arguments[1] : undefined;

  if (action.meta && action.meta.cancelSelection) {
    return [];
  }

  switch (action.type) {
    case SELECT_ITEM:
      return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(state), [action.id]);

    case UNSELECT_ITEM:
      {
        var idx = state.indexOf(action.id);
        return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(state.slice(0, idx)), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(state.slice(idx + 1)));
      }

    case HIDE_SELECTION_BAR:
      return [];

    default:
      return state;
  }
};

var isSelectionBarOpened = function isSelectionBarOpened() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  if (action.meta && action.meta.cancelSelection) {
    return false;
  }

  switch (action.type) {
    case TOGGLE_SELECTION_BAR:
      return !state;

    case SHOW_SELECTION_BAR:
      return true;

    case HIDE_SELECTION_BAR:
      return false;

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_1__["combineReducers"])({
  selected: selected,
  isSelectionBarOpened: isSelectionBarOpened
}));

/***/ }),

/***/ "893Q":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"Drive","item_recent":"Recent","item_sharings":"Sharings","item_shared":"Shared by me","item_activity":"Activity","item_trash":"Trash","item_settings":"Settings","item_collect":"Administrative","btn-client":"Get Cozy Drive for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Get Cozy Drive for Desktop and synchronise your files safely to make them accessible at all times.","banner-btn-client":"Download","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Drive","title_recent":"Recent","title_sharings":"Sharings","title_shared":"Shared by me","title_activity":"Activity","title_trash":"Trash"},"Toolbar":{"more":"More"},"toolbar":{"item_upload":"Upload","menu_upload":"Upload files","item_more":"More","menu_new_folder":"New folder","menu_select":"Select items","menu_download_folder":"Download folder","menu_download_file":"Download this file","menu_open_cozy":"Open in my Cozy","empty_trash":"Empty trash","share":"Share","trash":"Remove","leave":"Leave shared folder & delete it"},"Share":{"status":{"owner":"Owner","pending":"Pending","ready":"Accepted","refused":"Refused","error":"Error","unregistered":"Error","mail-not-sent":"Pending","revoked":"Error"},"type":{"one-way":"Can View","two-way":"Can Change","desc":{"one-way":"Contacts can view, download, and add the content to their Cozy. If they add the content to their Cozy, they will get updates you make to the content, but they won't be able to update it.","two-way":"Contacts can update, delete and add the content to their Cozy. Updates on the content will be seen on other Cozies."}},"locked-type-file":"Coming soon: you will be able to change permissions you grant on the file.","locked-type-folder":"Coming soon: you will be able to change permissions you grant on the folder.","recipients":{"you":"You","accessCount":"%{count} people have access"},"create-cozy":"Create my cozy","members":{"count":"1 member |||| %{smart_count} members","others":"and 1 other |||| and %{smart_count} others","otherContacts":"other contact |||| other contacts"},"contacts":{"permissionRequired":{"title":"Save your contacts in your Cozy?","desc":"Authorize the application to access to your Cozy's contacts: you'll be able to select them next time.","action":"Authorize access","success":"The application has access to your contacts"}}},"Sharings":{"unavailable":{"title":"Switch online!","message":"An internet connection is needed to display the list of your last sharings."}},"Files":{"share":{"cta":"Share","title":"Share","details":{"title":"Sharing details","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Cozy. You will get updates by the owner, but you won't be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Cozy. Updates you make will be seen on other Cozies."}},"sharedByMe":"Shared by me","sharedWithMe":"Shared with me","sharedBy":"Shared by %{name}","shareByLink":{"subtitle":"By public link","desc":"Anyone with the provided link can see and download your files.","creating":"Creating your link...","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard"},"shareByEmail":{"subtitle":"By email","email":"To:","emailPlaceholder":"Enter the email address or name of the recipient","send":"Send","genericSuccess":"You sent an invite to %{count} contacts.","success":"You sent an invite to %{email}.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won't be synchrnoized anymore.","success":"You removed this shared file from %{email}."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won't be updated between your Cozy anymore.","success":"You were removed from this sharing."},"sharingLink":{"title":"Link to share","copy":"Copy","copied":"Copied"},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Close","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"Name","head_update":"Last update","head_size":"Size","head_status":"Status","head_thumbnail_size":"Switch thumbnail size","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":"Share (Read only)","row_read_write":"Share (Read & Write)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"Load More","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oldest first","head_updated_at_desc":"Most recent first","head_size_asc":"Lightest first","head_size_desc":"Heavier first"}},"SelectionBar":{"selected_count":"item selected |||| items selected","share":"Share","download":"Download","trash":"Remove","destroy":"Delete permanently","rename":"Rename","restore":"Restore","close":"Close","openWith":"Open with","moveto":"Move to","phone-download":"Make available offline","qualify":"Categorize"},"deleteconfirmation":{"title":"Delete this element? |||| Delete these elements?","trash":"It will be moved to the Trash. |||| They will be moved to the Trash.","restore":"You can still restore it whenever you want. |||| You can still restore them whenever you want.","shared":"The following contacts whom you shared it with will keep a copy but your changes won't be synchronized anymore. |||| The following contacts whom you shared them with will keep a copy but your changes won't be synchronized anymore","referenced":"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.","cancel":"Cancel","delete":"Remove"},"emptytrashconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access these files anymore.","restore":"You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete all"},"destroyconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.","restore":"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete permanently"},"quotaalert":{"title":"Your disk space is full :(","desc":" Please remove files and empty your trash before uploading files again.","confirm":"OK"},"loading":{"message":"Loading"},"empty":{"title":"You dont have any files in this folder.","text":"Click the \"upload\" button to add files to this folder.","trash_title":"You dont have any deleted files.","trash_text":"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."},"error":{"open_folder":"Something went wrong when opening the folder.","button":{"reload":"Refresh now"},"download_file":{"offline":"You should be connected to download this file","missing":"This file is missing"}},"Error":{"public_unshared_title":"Sorry, this link is no longer available.","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!"},"alert":{"could_not_open_file":"The file could not be opened","try_again":"An error has occurred, please try again in a moment.","restore_file_success":"The selection has been successfully restored.","trash_file_success":"The selection has been moved to the Trash.","destroy_file_success":"The selection has been deleted permanently.","empty_trash_progress":"Your trash is being emptied. This might take a few moments.","empty_trash_success":"The trash has been emptied.","folder_name":"The element %{folderName} already exists, please choose a new name.","folder_generic":"An error occurred, please try again.","folder_abort":"You need to add a name to your new folder if you would like to save it. Your information has not been saved.","offline":"This feature is not available offline.","preparing":"Preparing your files"},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Create a Cozy or sign in to access Cozy Drive","button":"Sign in","no_account_link":"I don't have a Cozy","create_my_cozy":"Create my Cozy"},"server_selection":{"title":"Sign in","lostpwd":"[I forgot the address of my Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Address of my Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"other","button":"Next","wrong_address_with_email":"You typed an email address. To connect on your cozy you must type its url, something like https://camillenimbus.mycozy.cloud","wrong_address_v2":"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"This address doesnt seem to be a cozy. Please check the address you provide.","wrong_address_cosy":"Woops, the address is not correct. Try with \"cozy\" with a \"z\"!"},"files":{"title":"Access your drive","description":"In order to save your Cozy Drive on your device, the application must access your files."},"photos":{"title":"Backup your photos and videos","description":"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},"contacts":{"title":"Sync your contacts","description":"Save your phone's contact on your Cozy  this will facilitate sharing files with them."},"step":{"button":"Enable now","skip":"Later","next":"Next"},"analytics":{"title":"Help us improve Cozy","description":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},"settings":{"title":"Settings","about":{"title":"About","app_version":"App Version","account":"Account"},"unlink":{"title":"Sign out of your Cozy","description":"By signing out of your Cozy from this device, you will not lose any data in your Cozy. This will remove your offline files from this device related to your Cozy.","button":"Sign out"},"media_backup":{"media_folder":"Photos","backup_folder":"Backed up from my mobile","legacy_backup_folder":"Backuped from my mobile","title":"Media Backup","images":{"title":"Backup images","label":"Backup your images automatically to your Cozy not to ever lose them and share them easily."},"launch":"Launch Backup","stop":"Stop Backup","wifi":{"title":"Backup on WIFI only","label":"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},"media_upload":"%{smart_count} remaining picture |||| %{smart_count} remaining pictures","media_uptodate":"Media backup is up-to-date","preparing":"Searching for media to backup...","no_wifi":"Please connect to a WIFI","quota":"Storage limit nearly reached","quota_contact":"Manage your storage space"},"support":{"title":"Support","analytics":{"title":"Help us improve Cozy","label":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},"feedback":{"title":"Help improve Cozy Drive","description":"Send your feedback to help us improve Cozy Drive. Click on the button below, explain the problem or make a suggestion and send it. You're done!","button":"leave feedback"},"logs":{"title":"Help us to understand your problem","description":"Send the application log to help us improve its quality and stability.","button":"Send my logs","success":"Thanks, we will investigate your problem and contact you soon.","error":"A problem happened, logs couldn't be sent, please try again."}},"contacts":{"title":"Contacts","subtitle":"Import contacts","text":"Import the contacts from your device to your Cozy to easily share content with them."}},"error":{"open_with":{"offline":"You should be connected to open this file","noapp":"No application can open this file"},"make_available_offline":{"offline":"You should be connected to open this file","noapp":"No application can open this file"}},"revoked":{"title":"Access revoked","description":"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.","loginagain":"Log in again","logout":"Log out"},"rating":{"enjoy":{"title":"Enjoying Cozy Drive?","yes":"Yes!","no":"Not really"},"rate":{"title":"Would you mind rating it?","yes":"Let's do that!","no":"No, thanks","later":"Maybe later"},"feedback":{"title":"Would you mind giving us some feedback?","yes":"Send","no":"No, thanks"},"email":{"subject":"Feedback on Cozy Drive","placeholder":"Hello, I think Cozy Drive would be better if"},"alert":{"rated":"Thank you! You're ","declined":"Awesome. You will love the upcoming features. Stay Cozy!","later":"No problem, we'll ask again later.","feedback":"Thank you for the feedback. We'll definitely work on it!"}},"first_sync":{"title":"You are about to start your first photos back up ","tips":"Tips","tip_bed":"Open Cozy Drive before you go to bed or when you don't use your phone.","tip_wifi":"Enable Wi-Fi to preserve your data.","tip_lock":"Disable your lock screen.","result":"In the morning, all your photos will be stored in a safe and secure location.","button":"Got it!"},"notifications":{"backup_paused":"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},"upload":{"alert":{"success":"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.","success_conflicts":"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} file uploaded and %{updatedCount} updated. |||| %{smart_count} files uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} file uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} files uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} file updated. |||| %{smart_count} files updated.","updated_conflicts":"%{smart_count} file updated with %{conflictCount} conflict(s). |||| %{smart_count} files updated with %{conflictCount} conflict(s).","errors":"Errors occurred during the file upload.","network":"You are currenly offline. Please try again once you're connected."}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Uploaded %{done} out of %{total} successfully","close":"close","item":{"pending":"Pending"}},"Viewer":{"close":"Close","noviewer":{"download":"Download this file","openWith":"Open with...","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":"Download"},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":"Retry"},"error":{"noapp":"No application found to handle this file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You're currently offline."}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it's original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it's original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back."},"FileOpenerExternal":{"fileNotFoundError":"Error: file not found"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"You are currently offline and you can't use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}}};

/***/ }),

/***/ "8C5O":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("OTOu");
/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("oBqo");
/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(cozy_realtime__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_13__);










/* global cozy */





var TTL = 10000;
var PENDING = 'PENDING';
var LOADING_LINK = 'LOADING_LINK';
var LOADING_FALLBACK = 'LOADING_FALLBACK';
var LOADED = 'LOADED';
var FAILED = 'FAILED';

var ImageLoader =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(ImageLoader, _React$Component);

  function ImageLoader() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, ImageLoader);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(ImageLoader)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "state", {
      status: PENDING,
      src: null
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "_mounted", false);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "handleCreate", function (doc) {
      var _this$props = _this.props,
          file = _this$props.file,
          size = _this$props.size;

      if (file._id === doc._id && doc.format === size) {
        _this.loadLink();

        _this.unsubscribeRealtime();
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "unsubscribeRealtime", function () {
      _this.realtime && _this.realtime.unsubscribe('created', _this.type, _this.handleCreate);
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ImageLoader, [{
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var client;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                client = this.props.client;
                this._mounted = true;
                this.loadNextSrc();
                this.realtime = new cozy_realtime__WEBPACK_IMPORTED_MODULE_12___default.a({
                  client: client
                });
                this.type = 'io.cozy.files.thumbnails';
                this.realtime.subscribe('created', this.type, this.handleCreate);

              case 6:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
    /**
     * Reload the link when realtime tell us that the
     * thumbnail is created. By default size === small
     */

  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this._mounted = false;
      clearTimeout(this.timeout);

      if (this.img) {
        this.img.onload = this.img.onerror = null;
        this.img.src = '';
      }

      this.unsubscribeRealtime();
    }
  }, {
    key: "getFileId",
    value: function getFileId(file) {
      return file.id || file._id;
    }
  }, {
    key: "loadNextSrc",
    value: function loadNextSrc() {
      var lastError = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      var status = this.state.status;
      /**
       * If we know that the navigator is offline, don't try to loadLink.
       * */

      if (status === PENDING && window.navigator.onLine) this.loadLink();else if (status === LOADING_LINK) this.loadFallback();else if (status === LOADING_FALLBACK || !window.navigator.onLine) {
        lib_logger__WEBPACK_IMPORTED_MODULE_11__["default"].warn('failed loading thumbnail', lastError);
        this.setState({
          status: FAILED
        });
        this.props.onError(lastError);
      }
    }
  }, {
    key: "checkImageSource",
    value: function checkImageSource(src) {
      var _this2 = this;

      var cleanImageLoader = function cleanImageLoader() {
        clearTimeout(_this2.timeout);
        _this2.img.onload = _this2.img.onerror = null;
        _this2.img.src = '';
        _this2.img = null;
      };

      return new Promise(function (resolve, reject) {
        _this2.img = new Image();
        _this2.img.onload = resolve;
        _this2.img.onerror = reject;
        _this2.img.src = src;
        _this2.timeout = setTimeout(function () {
          return reject(new Error('Loading image took too long'));
        }, TTL);
      }).then(cleanImageLoader, cleanImageLoader);
    }
  }, {
    key: "getFileLinks",
    value: function () {
      var _getFileLinks = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(file) {
        var response;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                if (!file.links) {
                  _context2.next = 4;
                  break;
                }

                return _context2.abrupt("return", file.links);

              case 4:
                _context2.next = 6;
                return cozy.client.files.statById(this.getFileId(file), false);

              case 6:
                response = _context2.sent;

                if (response.links) {
                  _context2.next = 9;
                  break;
                }

                throw new Error('Could not fetch file links');

              case 9:
                return _context2.abrupt("return", response.links);

              case 10:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function getFileLinks(_x) {
        return _getFileLinks.apply(this, arguments);
      }

      return getFileLinks;
    }()
  }, {
    key: "loadLink",
    value: function () {
      var _loadLink = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3() {
        var _this$props2, file, size, client, links, link, src;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                this.setState({
                  status: LOADING_LINK
                });
                _this$props2 = this.props, file = _this$props2.file, size = _this$props2.size, client = _this$props2.client;
                _context3.prev = 2;
                _context3.next = 5;
                return this.getFileLinks(file, size);

              case 5:
                links = _context3.sent;
                link = links[size];

                if (link) {
                  _context3.next = 9;
                  break;
                }

                throw new Error("".concat(size, " link is not available"));

              case 9:
                src = client.options.uri + link;
                _context3.next = 12;
                return this.checkImageSource(src);

              case 12:
                if (this._mounted) {
                  this.setState({
                    status: LOADED,
                    src: src
                  });
                }

                _context3.next = 18;
                break;

              case 15:
                _context3.prev = 15;
                _context3.t0 = _context3["catch"](2);
                this.loadNextSrc(_context3.t0);

              case 18:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this, [[2, 15]]);
      }));

      function loadLink() {
        return _loadLink.apply(this, arguments);
      }

      return loadLink;
    }()
  }, {
    key: "loadFallback",
    value: function () {
      var _loadFallback = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4() {
        var file, src;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                this.setState({
                  status: LOADING_FALLBACK
                });
                file = this.props.file;
                _context4.prev = 2;
                _context4.next = 5;
                return this.getDownloadLink(this.getFileId(file));

              case 5:
                src = _context4.sent;
                _context4.next = 8;
                return this.checkImageSource(src);

              case 8:
                if (this._mounted) {
                  this.setState({
                    status: LOADED,
                    src: src
                  });
                }

                _context4.next = 14;
                break;

              case 11:
                _context4.prev = 11;
                _context4.t0 = _context4["catch"](2);
                this.loadNextSrc(_context4.t0);

              case 14:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this, [[2, 11]]);
      }));

      function loadFallback() {
        return _loadFallback.apply(this, arguments);
      }

      return loadFallback;
    }()
  }, {
    key: "getDownloadLink",
    value: function getDownloadLink(fileId) {
      return this.props.client.collection('io.cozy.files').getDownloadLinkById(fileId);
    }
  }, {
    key: "render",
    value: function render() {
      var src = this.state.src;
      var _this$props3 = this.props,
          render = _this$props3.render,
          renderFallback = _this$props3.renderFallback; //If the navigator is not onLine, let's render the fallback directly

      if (src && window.navigator.onLine) return render(src);else if (renderFallback) return renderFallback();else return null;
    }
  }]);

  return ImageLoader;
}(react__WEBPACK_IMPORTED_MODULE_9___default.a.Component);

ImageLoader.propTypes = {
  file: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired,
  render: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  size: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.oneOf(['small', 'medium', 'large']),
  onError: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
  renderFallback: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
  client: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired
};
ImageLoader.defaultProps = {
  size: 'small',
  onError: function onError() {}
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_client__WEBPACK_IMPORTED_MODULE_13__["withClient"])(ImageLoader));

/***/ }),

/***/ "8IyR":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"u-visuallyhidden":"u-visuallyhidden--3FX6x","u-hide":"u-hide--3mtaG","u-hide--mob":"u-hide--mob--3kmpm","u-hide--tablet":"u-hide--tablet--it1ws","u-hide--desk":"u-hide--desk--3Q41O","u-dn":"u-dn--yykwu","u-dn-t":"u-dn-t--ppOHr","u-dn-s":"u-dn-s--JKICl","u-dn-m":"u-dn-m--3UWJk","u-di":"u-di--2TTN0","u-di-t":"u-di-t--De5tT","u-di-s":"u-di-s--1TbVH","u-di-m":"u-di-m--22PJf","u-db":"u-db--1mdvJ","u-db-t":"u-db-t--3vcWe","u-db-s":"u-db-s--3O1lF","u-db-m":"u-db-m--1wi0g","u-dib":"u-dib--8uxgX","u-dib-t":"u-dib-t--3Wk2I","u-dib-s":"u-dib-s--1xu5Z","u-dib-m":"u-dib-m--2yuQi","u-dit":"u-dit--1LNm_","u-dit-t":"u-dit-t--33MBp","u-dit-s":"u-dit-s--3XRiB","u-dit-m":"u-dit-m--3cu6X","u-dt":"u-dt--lceRG","u-dt-t":"u-dt-t--3wm8x","u-dt-s":"u-dt-s--8ju-3","u-dt-m":"u-dt-m--GCbde","u-dtc":"u-dtc--Sa8U4","u-dtc-t":"u-dtc-t--2SaSj","u-dtc-s":"u-dtc-s--8LiK_","u-dtc-m":"u-dtc-m--2QsFk","u-dt-row":"u-dt-row--2PRFY","u-dt-row-t":"u-dt-row-t--3nYHS","u-dt-row-s":"u-dt-row-s--399p5","u-dt-row-m":"u-dt-row-m--3UAYx","u-dt-row-group":"u-dt-row-group--2NpwX","u-dt-row-group-t":"u-dt-row-group-t--3HF5g","u-dt-row-group-s":"u-dt-row-group-s--2CNMD","u-dt-row-group-m":"u-dt-row-group-m--1ryRS","u-dt-column":"u-dt-column--1OS0a","u-dt-column-t":"u-dt-column-t--1yp44","u-dt-column-s":"u-dt-column-s--3LFG6","u-dt-column-m":"u-dt-column-m--2gVAX","u-dt-column-group":"u-dt-column-group--3THd0","u-dt-column-group-t":"u-dt-column-group-t--33wl4","u-dt-column-group-s":"u-dt-column-group-s--3q85y","u-dt-column-group-m":"u-dt-column-group-m--Jb0Zt","u-error":"u-error--2tZHf","u-valid":"u-valid--5F7BJ","u-warn":"u-warn--2-cvq","u-black":"u-black--20iIC","u-white":"u-white--2hPof","u-paleGrey":"u-paleGrey--2iADC","u-silver":"u-silver--1UhNT","u-coolGrey":"u-coolGrey--2KB2H","u-slateGrey":"u-slateGrey--36izp","u-charcoalGrey":"u-charcoalGrey--2ywEx","u-overlay":"u-overlay--2eZxG","u-zircon":"u-zircon--9tnOf","u-frenchPass":"u-frenchPass--3gAXQ","u-dodgerBlue":"u-dodgerBlue--1FdZQ","u-scienceBlue":"u-scienceBlue--fJKij","u-puertoRico":"u-puertoRico--qhyrw","u-grannyApple":"u-grannyApple--3DUPE","u-emerald":"u-emerald--tm1Kv","u-malachite":"u-malachite--2f12f","u-seafoamGreen":"u-seafoamGreen--Tj6ns","u-brightSun":"u-brightSun--2HqxD","u-texasRose":"u-texasRose--BYoUz","u-chablis":"u-chablis--nfe-h","u-yourPink":"u-yourPink--1s6Ds","u-fuchsia":"u-fuchsia--D_lao","u-pomegranate":"u-pomegranate--1PJtm","u-monza":"u-monza--2xQ__","u-portage":"u-portage--1K5ft","u-azure":"u-azure--2wLms","u-melon":"u-melon--TplSx","u-blazeOrange":"u-blazeOrange--1eBrf","u-mango":"u-mango--3jGwL","u-pumpkinOrange":"u-pumpkinOrange--3e8ln","u-lavender":"u-lavender--3MlWO","u-darkPeriwinkle":"u-darkPeriwinkle--3OLIz","u-purpley":"u-purpley--2lH-B","u-lightishPurple":"u-lightishPurple--16y_F","u-barney":"u-barney--2F4aC","u-weirdGreen":"u-weirdGreen--3wj6h","u-primaryColor":"u-primaryColor--35V12","u-primaryColorLight":"u-primaryColorLight--1PJZn","u-primaryContrastTextColor":"u-primaryContrastTextColor--_cBQI","u-breakword":"u-breakword--1dSPn","u-ellipsis":"u-ellipsis--3K9KZ","u-midellipsis":"u-midellipsis--nnaGL","u-link":"u-link--1exGi","u-lh-tiny":"u-lh-tiny--2W_JG","u-lh-xsmall":"u-lh-xsmall--25ICU","u-lh-small":"u-lh-small--2XodP","u-lh-medium":"u-lh-medium--i338e","u-lh-large":"u-lh-large--iVt9k","u-lh-xlarge":"u-lh-xlarge--34JQd","u-fz-tiny":"u-fz-tiny--1OB-f","u-fz-tiny-t":"u-fz-tiny-t--23UrO","u-fz-tiny-s":"u-fz-tiny-s--3j4yv","u-fz-tiny-m":"u-fz-tiny-m--ewjQv","u-fz-xsmall":"u-fz-xsmall--1nB_w","u-fz-xsmall-t":"u-fz-xsmall-t--3ztHy","u-fz-xsmall-s":"u-fz-xsmall-s--2Sx3Y","u-fz-xsmall-m":"u-fz-xsmall-m--xU7Y9","u-fz-small":"u-fz-small--15YLO","u-fz-small-t":"u-fz-small-t--Ued-S","u-fz-small-s":"u-fz-small-s--1LSIx","u-fz-small-m":"u-fz-small-m--1MrLy","u-fz-medium":"u-fz-medium--1yhWq","u-fz-medium-t":"u-fz-medium-t--2f1aG","u-fz-medium-s":"u-fz-medium-s--2SxEA","u-fz-medium-m":"u-fz-medium-m--2uQX-","u-fz-large":"u-fz-large--33rAQ","u-fz-large-t":"u-fz-large-t--NUIyb","u-fz-large-s":"u-fz-large-s--2YJ_G","u-fz-large-m":"u-fz-large-m--ORypW","u-ta-left":"u-ta-left--1bUaA","u-ta-left-t":"u-ta-left-t--pyg5a","u-ta-left-s":"u-ta-left-s--1Rk0h","u-ta-left-m":"u-ta-left-m--2xAxr","u-ta-right":"u-ta-right--3D_QU","u-ta-right-t":"u-ta-right-t--fejRN","u-ta-right-s":"u-ta-right-s--2H6yP","u-ta-right-m":"u-ta-right-m--MMP4S","u-ta-center":"u-ta-center--34Tyd","u-ta-center-t":"u-ta-center-t--f8vf3","u-ta-center-s":"u-ta-center-s--2eLks","u-ta-center-m":"u-ta-center-m--2pb6b","u-ta-justify":"u-ta-justify--3iXNK","u-ta-justify-t":"u-ta-justify-t--2Znj-","u-ta-justify-s":"u-ta-justify-s--2dbmf","u-ta-justify-m":"u-ta-justify-m--1Gf3S","u-fs-normal":"u-fs-normal--2lCRF","u-fs-normal-t":"u-fs-normal-t--MRfLT","u-fs-normal-s":"u-fs-normal-s--159Lr","u-fs-normal-m":"u-fs-normal-m--Urjhm","u-fs-italic":"u-fs-italic--rEFJk","u-fs-italic-t":"u-fs-italic-t--2iV9b","u-fs-italic-s":"u-fs-italic-s--23qYl","u-fs-italic-m":"u-fs-italic-m--2gzsV","c-btn":"c-btn--3UA-V","c-btn--regular":"c-btn--regular--PwZpe","c-btn-client":"c-btn-client--2tQwf","c-btn-client-mobile":"c-btn-client-mobile--qCtpH","c-btn--ghost":"c-btn--ghost--2_lgT","c-btn--highlight":"c-btn--highlight--3vafy","c-btn--alpha":"c-btn--alpha--2q43H","c-btn--action":"c-btn--action--kLpJs","c-btn--close":"c-btn--close--3kuo8","c-btn--danger":"c-btn--danger--2XQh4","c-btn--secondary":"c-btn--secondary--urTR1","c-btn--danger-outline":"c-btn--danger-outline--ELeOr","c-btn--text":"c-btn--text--mmLkW","c-btn-alert":"c-btn-alert--22GlB","c-btn-alert--error":"c-btn-alert--error--1BaFH","c-btn-alert--info":"c-btn-alert--info--3X_r7","c-btn-alert--success":"c-btn-alert--success--2VaBQ","c-btn--left":"c-btn--left--3OD3h","c-btn--center":"c-btn--center--2of3J","c-btn--right":"c-btn--right--2l-9g","c-btn--tiny":"c-btn--tiny--2rzhV","c-btn--small":"c-btn--small--3zq7D","c-btn--large":"c-btn--large--2gEik","c-btn--full":"c-btn--full--GBaOx","c-btn--narrow":"c-btn--narrow--30Rqf","c-btn--round":"c-btn--round--_aX03","c-btn--subtle":"c-btn--subtle--3D_uR","c-label":"c-label--2qBFO","is-error":"is-error--1sgd0","c-label--block":"c-label--block--4NI1H","c-input-text":"c-input-text--1a2pY","c-textarea":"c-textarea--1tr4M","c-select":"c-select--3Umuy","wizard-select":"wizard-select--1SIu0","c-input-text--tiny":"c-input-text--tiny--1H28g","c-textarea--tiny":"c-textarea--tiny--GgwpO","c-select--tiny":"c-select--tiny--2jx9I","c-input-text--medium":"c-input-text--medium--1D6tS","c-textarea--medium":"c-textarea--medium--2K6B5","c-select--medium":"c-select--medium--3MGmK","wizard-select--medium":"wizard-select--medium--oQoal","c-input-text--large":"c-input-text--large--3xPjf","c-input-text--fullwidth":"c-input-text--fullwidth--MMc36","c-textarea--fullwidth":"c-textarea--fullwidth--2CxEM","c-select--fullwidth":"c-select--fullwidth--5j0Zo","c-input-checkbox":"c-input-checkbox--rpPFH","c-input-radio":"c-input-radio--2-8ai","o-field":"o-field--2OEF5","o-field-inline":"o-field-inline--2saLK","c-double-field":"c-double-field--3q70t","c-double-field--with-button":"c-double-field--with-button--3tMaK","c-double-field-label":"c-double-field-label--z4waM","c-double-field-button":"c-double-field-button--25ta4","c-double-field-wrapper":"c-double-field-wrapper--30B0F","c-double-field-input":"c-double-field-input--adEwN","wizard-wrapper":"wizard-wrapper--2nycg","wizard-main":"wizard-main--wXCWj","wizard-header":"wizard-header--1SbfB","wizard-footer":"wizard-footer--3nLGi","o-layout":"o-layout--b6QtC","o-layout-2panes":"o-layout-2panes--3JD2K","o-sidebar":"o-sidebar--3pkob","c-accordion":"c-accordion--2MN5i","c-accordion-item":"c-accordion-item--1UqQz","c-accordion-title":"c-accordion-title--vUajL","is-active":"is-active--3_GzD","c-accordion-body":"c-accordion-body--2iR7R","c-avatar":"c-avatar--2i9nQ","c-avatar-image":"c-avatar-image--1BnKZ","c-chip":"c-chip--3cHDn","c-chip--round":"c-chip--round--1RN3N","c-chip--tinySize":"c-chip--tinySize--1PPjs","c-chip--smallSize":"c-chip--smallSize--1Ch-7","c-chip--normalSize":"c-chip--normalSize--4X-LH","c-chip--outlinedVariant":"c-chip--outlinedVariant--3kHV8","c-chip--dashedVariant":"c-chip--dashedVariant--1m7j7","c-chip--normalTheme":"c-chip--normalTheme--3N2fw","c-chip--primaryTheme":"c-chip--primaryTheme--jjGlD","c-chip--errorTheme":"c-chip--errorTheme--2xix4","c-chip--hoverableNormalTheme":"c-chip--hoverableNormalTheme--3-Awt","c-chip--hoverablePrimaryTheme":"c-chip--hoverablePrimaryTheme--ozFPG","c-chip--normalPrimaryTheme":"c-chip--normalPrimaryTheme--2lzBw","c-chip--hoverableErrorTheme":"c-chip--hoverableErrorTheme--2hU7F","c-chip--outlinedNormalTheme":"c-chip--outlinedNormalTheme--pqiX7","c-chip--clickable":"c-chip--clickable--J0A_M","c-chip-separator":"c-chip-separator--2DLA2","c-chip-button":"c-chip-button--34nIU","c-chip-button--disabled":"c-chip-button--disabled--3_aON","c-avatar--xsmall":"c-avatar--xsmall--9VmMk","c-avatar--small":"c-avatar--small--31FDG","c-avatar--large":"c-avatar--large--1aC96","c-avatar--xlarge":"c-avatar--xlarge--ILibE","c-avatar-initials":"c-avatar-initials--3iExZ","c-nav":"c-nav--MAJhZ","c-nav-item":"c-nav-item--18dm5","c-nav-icon":"c-nav-icon--1eL3E","c-nav-text":"c-nav-text--MK8-L","c-nav-link":"c-nav-link--1VBtf","active":"active--zuJra","u-p-0":"u-p-0--y8Xrr","u-pt-0":"u-pt-0--b3ok9","u-pb-0":"u-pb-0--3joTR","u-pl-0":"u-pl-0--_7viJ","u-pr-0":"u-pr-0--2y4IV","u-pv-0":"u-pv-0--XTdBE","u-ph-0":"u-ph-0--AHFmn","u-p-1":"u-p-1--hpKTc","u-pt-1":"u-pt-1--3FKBS","u-pb-1":"u-pb-1--2quYJ","u-pl-1":"u-pl-1--10D92","u-pr-1":"u-pr-1--2DDXw","u-pv-1":"u-pv-1--idfta","u-ph-1":"u-ph-1--1PTVh","u-p-2":"u-p-2--NlLU8","u-pt-2":"u-pt-2--MWHfO","u-pb-2":"u-pb-2--iUhsi","u-pl-2":"u-pl-2--UNmzz","u-pr-2":"u-pr-2--3shOe","u-pv-2":"u-pv-2--2Zj4A","u-ph-2":"u-ph-2--3cDpk","u-p-3":"u-p-3--2L9z6","u-pt-3":"u-pt-3--zx4zU","u-pb-3":"u-pb-3--1zUAl","u-pl-3":"u-pl-3--1YOvL","u-pr-3":"u-pr-3--3WdTS","u-pv-3":"u-pv-3--CHw8y","u-ph-3":"u-ph-3--3ZyVQ","u-p-auto":"u-p-auto--2yYME","u-pt-auto":"u-pt-auto--2mMOx","u-pb-auto":"u-pb-auto--1dxzL","u-pl-auto":"u-pl-auto--2wEQU","u-pr-auto":"u-pr-auto--31ggn","u-pv-auto":"u-pv-auto--11hBU","u-ph-auto":"u-ph-auto--2fP8f","u-p-half":"u-p-half--2J7M_","u-pt-half":"u-pt-half--3kpiC","u-pb-half":"u-pb-half--38LQ9","u-pl-half":"u-pl-half--fGFSm","u-pr-half":"u-pr-half--64oQe","u-pv-half":"u-pv-half--1mqRV","u-ph-half":"u-ph-half--PgHST","u-p-1-half":"u-p-1-half--28RpX","u-pt-1-half":"u-pt-1-half--2mf_v","u-pb-1-half":"u-pb-1-half--2n8_e","u-pl-1-half":"u-pl-1-half--3EhRb","u-pr-1-half":"u-pr-1-half--1J-5k","u-pv-1-half":"u-pv-1-half--uWGwH","u-ph-1-half":"u-ph-1-half--3E4Nt","u-p-2-half":"u-p-2-half--2NuXX","u-pt-2-half":"u-pt-2-half--3XZoy","u-pb-2-half":"u-pb-2-half--1NM3c","u-pl-2-half":"u-pl-2-half--141Zm","u-pr-2-half":"u-pr-2-half--1RXqW","u-pv-2-half":"u-pv-2-half--1r9QA","u-ph-2-half":"u-ph-2-half--2WlBv","u-m-0":"u-m-0--nxwkH","u-mt-0":"u-mt-0--3WEQ6","u-mb-0":"u-mb-0--1uCnW","u-ml-0":"u-ml-0--1NrZO","u-mr-0":"u-mr-0--21TvT","u-mv-0":"u-mv-0--xDRm6","u-mh-0":"u-mh-0--1HCFo","u-m-1":"u-m-1--14N2c","u-mt-1":"u-mt-1--1PAGV","u-mb-1":"u-mb-1--3QUNm","u-ml-1":"u-ml-1--5w57C","u-mr-1":"u-mr-1--1iET2","u-mv-1":"u-mv-1--1dYuF","u-mh-1":"u-mh-1--2QaJJ","u-m-2":"u-m-2--3ghrR","u-mt-2":"u-mt-2--3z6rm","u-mb-2":"u-mb-2--3FMsz","u-ml-2":"u-ml-2--1QFyq","u-mr-2":"u-mr-2--1hDmH","u-mv-2":"u-mv-2--8_vXa","u-mh-2":"u-mh-2--1WTwI","u-m-3":"u-m-3--3kDfD","u-mt-3":"u-mt-3--1L_AE","u-mb-3":"u-mb-3--QFxTQ","u-ml-3":"u-ml-3--2iMXf","u-mr-3":"u-mr-3--TFRUN","u-mv-3":"u-mv-3--3_YTm","u-mh-3":"u-mh-3--3txta","u-m-auto":"u-m-auto--1W2QC","u-mt-auto":"u-mt-auto--3tir0","u-mb-auto":"u-mb-auto--2xLQw","u-ml-auto":"u-ml-auto--2R7Ia","u-mr-auto":"u-mr-auto--T8VYp","u-mv-auto":"u-mv-auto--1fqvt","u-mh-auto":"u-mh-auto--1hVPT","u-m-half":"u-m-half--3KCqa","u-mt-half":"u-mt-half--1GT2C","u-mb-half":"u-mb-half--3mvG9","u-ml-half":"u-ml-half--bWq9v","u-mr-half":"u-mr-half--1-rBC","u-mv-half":"u-mv-half--24ac8","u-mh-half":"u-mh-half--2fKJD","u-m-1-half":"u-m-1-half--2Hdxz","u-mt-1-half":"u-mt-1-half--3LMGU","u-mb-1-half":"u-mb-1-half--3kWkf","u-ml-1-half":"u-ml-1-half--u_QKP","u-mr-1-half":"u-mr-1-half--3YtZU","u-mv-1-half":"u-mv-1-half--1sbtC","u-mh-1-half":"u-mh-1-half--35_aD","u-m-2-half":"u-m-2-half--3VY8-","u-mt-2-half":"u-mt-2-half--3l47x","u-mb-2-half":"u-mb-2-half--3hXpG","u-ml-2-half":"u-ml-2-half--3K2Ir","u-mr-2-half":"u-mr-2-half--1LyDZ","u-mv-2-half":"u-mv-2-half--ZGTUL","u-mh-2-half":"u-mh-2-half--1RFpa","u-p-0-t":"u-p-0-t--2QvQm","u-pt-0-t":"u-pt-0-t--3wAjV","u-pb-0-t":"u-pb-0-t--3ULGs","u-pl-0-t":"u-pl-0-t--bu3GD","u-pr-0-t":"u-pr-0-t--22Xba","u-pv-0-t":"u-pv-0-t--2lkmW","u-ph-0-t":"u-ph-0-t--2MrDj","u-p-1-t":"u-p-1-t--1pNOa","u-pt-1-t":"u-pt-1-t--2csHL","u-pb-1-t":"u-pb-1-t--1gadZ","u-pl-1-t":"u-pl-1-t--1hZ5g","u-pr-1-t":"u-pr-1-t--Ib5v4","u-pv-1-t":"u-pv-1-t--UObIs","u-ph-1-t":"u-ph-1-t--D21wD","u-p-2-t":"u-p-2-t--3touZ","u-pt-2-t":"u-pt-2-t--2iNHv","u-pb-2-t":"u-pb-2-t--3olEr","u-pl-2-t":"u-pl-2-t--1bLCM","u-pr-2-t":"u-pr-2-t--16lTE","u-pv-2-t":"u-pv-2-t--1ujed","u-ph-2-t":"u-ph-2-t--TQEPS","u-p-3-t":"u-p-3-t--3fTr4","u-pt-3-t":"u-pt-3-t--1RHBV","u-pb-3-t":"u-pb-3-t--3t8Yy","u-pl-3-t":"u-pl-3-t--IiPy7","u-pr-3-t":"u-pr-3-t--2YNxB","u-pv-3-t":"u-pv-3-t--1hhbs","u-ph-3-t":"u-ph-3-t--3DB2q","u-p-auto-t":"u-p-auto-t--2mEtM","u-pt-auto-t":"u-pt-auto-t--3j9P3","u-pb-auto-t":"u-pb-auto-t--3QDHL","u-pl-auto-t":"u-pl-auto-t--2qm17","u-pr-auto-t":"u-pr-auto-t--2n4xI","u-pv-auto-t":"u-pv-auto-t--3FNQ-","u-ph-auto-t":"u-ph-auto-t--26EGK","u-p-half-t":"u-p-half-t--3A2po","u-pt-half-t":"u-pt-half-t--DuGPy","u-pb-half-t":"u-pb-half-t--2LOfK","u-pl-half-t":"u-pl-half-t--33tnU","u-pr-half-t":"u-pr-half-t--2L8e4","u-pv-half-t":"u-pv-half-t--efcaW","u-ph-half-t":"u-ph-half-t--1Ve9R","u-p-1-half-t":"u-p-1-half-t--Do2ub","u-pt-1-half-t":"u-pt-1-half-t--1UTKD","u-pb-1-half-t":"u-pb-1-half-t--21qzv","u-pl-1-half-t":"u-pl-1-half-t--3HLDe","u-pr-1-half-t":"u-pr-1-half-t--1tGOg","u-pv-1-half-t":"u-pv-1-half-t--3pkNB","u-ph-1-half-t":"u-ph-1-half-t--1nFkO","u-p-2-half-t":"u-p-2-half-t--2ISfu","u-pt-2-half-t":"u-pt-2-half-t--SbBZG","u-pb-2-half-t":"u-pb-2-half-t--1q6in","u-pl-2-half-t":"u-pl-2-half-t--LZP3T","u-pr-2-half-t":"u-pr-2-half-t--3C5vd","u-pv-2-half-t":"u-pv-2-half-t--9QZ6i","u-ph-2-half-t":"u-ph-2-half-t--1LiYX","u-m-0-t":"u-m-0-t--3QA3z","u-mt-0-t":"u-mt-0-t--3YoXS","u-mb-0-t":"u-mb-0-t--2-e9t","u-ml-0-t":"u-ml-0-t--zDvCi","u-mr-0-t":"u-mr-0-t--w7o6v","u-mv-0-t":"u-mv-0-t--3hLKW","u-mh-0-t":"u-mh-0-t--2JKES","u-m-1-t":"u-m-1-t--1AHzF","u-mt-1-t":"u-mt-1-t--jm_tC","u-mb-1-t":"u-mb-1-t--1IpQZ","u-ml-1-t":"u-ml-1-t--3OWq6","u-mr-1-t":"u-mr-1-t--3AGBB","u-mv-1-t":"u-mv-1-t--1TK_C","u-mh-1-t":"u-mh-1-t--15nBw","u-m-2-t":"u-m-2-t--3-xx9","u-mt-2-t":"u-mt-2-t--1jtnZ","u-mb-2-t":"u-mb-2-t--1VouU","u-ml-2-t":"u-ml-2-t--3SgvZ","u-mr-2-t":"u-mr-2-t--2uVnw","u-mv-2-t":"u-mv-2-t--LD1VD","u-mh-2-t":"u-mh-2-t--DIKso","u-m-3-t":"u-m-3-t--3rxLu","u-mt-3-t":"u-mt-3-t--3Y5oD","u-mb-3-t":"u-mb-3-t--1z1MA","u-ml-3-t":"u-ml-3-t--26LDt","u-mr-3-t":"u-mr-3-t--zCI_b","u-mv-3-t":"u-mv-3-t--qD6jm","u-mh-3-t":"u-mh-3-t--2V_Cy","u-m-auto-t":"u-m-auto-t--3O13t","u-mt-auto-t":"u-mt-auto-t--HQdIe","u-mb-auto-t":"u-mb-auto-t--3Q7y6","u-ml-auto-t":"u-ml-auto-t--18Mob","u-mr-auto-t":"u-mr-auto-t--3x5Qy","u-mv-auto-t":"u-mv-auto-t--261wG","u-mh-auto-t":"u-mh-auto-t--2xHVA","u-m-half-t":"u-m-half-t--3BBEX","u-mt-half-t":"u-mt-half-t--1684f","u-mb-half-t":"u-mb-half-t--3omhK","u-ml-half-t":"u-ml-half-t--2sdGI","u-mr-half-t":"u-mr-half-t--3HkTd","u-mv-half-t":"u-mv-half-t--2SN5V","u-mh-half-t":"u-mh-half-t--263h5","u-m-1-half-t":"u-m-1-half-t--9r0RJ","u-mt-1-half-t":"u-mt-1-half-t--jOR6l","u-mb-1-half-t":"u-mb-1-half-t--4uDMs","u-ml-1-half-t":"u-ml-1-half-t--1ngj6","u-mr-1-half-t":"u-mr-1-half-t--3VL_h","u-mv-1-half-t":"u-mv-1-half-t--2RlZy","u-mh-1-half-t":"u-mh-1-half-t--C1wpt","u-m-2-half-t":"u-m-2-half-t--2P3Oz","u-mt-2-half-t":"u-mt-2-half-t--PfsuH","u-mb-2-half-t":"u-mb-2-half-t--1rFT1","u-ml-2-half-t":"u-ml-2-half-t--1O81G","u-mr-2-half-t":"u-mr-2-half-t--qn3JM","u-mv-2-half-t":"u-mv-2-half-t--299qN","u-mh-2-half-t":"u-mh-2-half-t--1rwCl","u-p-0-s":"u-p-0-s--1MSe5","u-pt-0-s":"u-pt-0-s--1WoRg","u-pb-0-s":"u-pb-0-s--2OtJJ","u-pl-0-s":"u-pl-0-s--3YYXR","u-pr-0-s":"u-pr-0-s--3rplb","u-pv-0-s":"u-pv-0-s--2jfRk","u-ph-0-s":"u-ph-0-s--xxUY8","u-p-1-s":"u-p-1-s--39988","u-pt-1-s":"u-pt-1-s--2FQZ8","u-pb-1-s":"u-pb-1-s--3oluM","u-pl-1-s":"u-pl-1-s--1DTew","u-pr-1-s":"u-pr-1-s--3Imwo","u-pv-1-s":"u-pv-1-s--3JlIO","u-ph-1-s":"u-ph-1-s--WphZd","u-p-2-s":"u-p-2-s--2aJ6L","u-pt-2-s":"u-pt-2-s--2RjCz","u-pb-2-s":"u-pb-2-s--TXwMq","u-pl-2-s":"u-pl-2-s--1joNm","u-pr-2-s":"u-pr-2-s--LaO4X","u-pv-2-s":"u-pv-2-s--1OBPg","u-ph-2-s":"u-ph-2-s--1oEfr","u-p-3-s":"u-p-3-s--2b-aZ","u-pt-3-s":"u-pt-3-s--3Mb8s","u-pb-3-s":"u-pb-3-s--LRlYx","u-pl-3-s":"u-pl-3-s--3fhIN","u-pr-3-s":"u-pr-3-s--1V7_j","u-pv-3-s":"u-pv-3-s--QqLeV","u-ph-3-s":"u-ph-3-s--1A2sL","u-p-auto-s":"u-p-auto-s--1qQQ4","u-pt-auto-s":"u-pt-auto-s--38U0g","u-pb-auto-s":"u-pb-auto-s--12692","u-pl-auto-s":"u-pl-auto-s--3mGCK","u-pr-auto-s":"u-pr-auto-s--2wgwJ","u-pv-auto-s":"u-pv-auto-s--2nOsL","u-ph-auto-s":"u-ph-auto-s--1U-PH","u-p-half-s":"u-p-half-s--FJ3kC","u-pt-half-s":"u-pt-half-s--7uxyd","u-pb-half-s":"u-pb-half-s--24NkQ","u-pl-half-s":"u-pl-half-s--D8iRP","u-pr-half-s":"u-pr-half-s--2boI3","u-pv-half-s":"u-pv-half-s--S1xZC","u-ph-half-s":"u-ph-half-s--2KVF1","u-p-1-half-s":"u-p-1-half-s--3ystf","u-pt-1-half-s":"u-pt-1-half-s--2VXv-","u-pb-1-half-s":"u-pb-1-half-s--ekRma","u-pl-1-half-s":"u-pl-1-half-s--32N21","u-pr-1-half-s":"u-pr-1-half-s--2M-9d","u-pv-1-half-s":"u-pv-1-half-s--1enXo","u-ph-1-half-s":"u-ph-1-half-s--1qaze","u-p-2-half-s":"u-p-2-half-s--2sFyi","u-pt-2-half-s":"u-pt-2-half-s--3i5rV","u-pb-2-half-s":"u-pb-2-half-s--XDUga","u-pl-2-half-s":"u-pl-2-half-s--3J-rK","u-pr-2-half-s":"u-pr-2-half-s--XoTtz","u-pv-2-half-s":"u-pv-2-half-s--3GoC7","u-ph-2-half-s":"u-ph-2-half-s--2aaKX","u-m-0-s":"u-m-0-s--1SpyQ","u-mt-0-s":"u-mt-0-s--1jF8_","u-mb-0-s":"u-mb-0-s--3XKF3","u-ml-0-s":"u-ml-0-s--y9g4h","u-mr-0-s":"u-mr-0-s--3SzNU","u-mv-0-s":"u-mv-0-s--1wpIB","u-mh-0-s":"u-mh-0-s--364eB","u-m-1-s":"u-m-1-s--cSJEs","u-mt-1-s":"u-mt-1-s--2fP-b","u-mb-1-s":"u-mb-1-s--2qEkz","u-ml-1-s":"u-ml-1-s--3W7c2","u-mr-1-s":"u-mr-1-s--GBr0i","u-mv-1-s":"u-mv-1-s--3Fc_m","u-mh-1-s":"u-mh-1-s--1f4QQ","u-m-2-s":"u-m-2-s--1e4k7","u-mt-2-s":"u-mt-2-s--2J2VI","u-mb-2-s":"u-mb-2-s--2LiRf","u-ml-2-s":"u-ml-2-s--1gL2R","u-mr-2-s":"u-mr-2-s--2-DUg","u-mv-2-s":"u-mv-2-s--Z8REp","u-mh-2-s":"u-mh-2-s--2Q8gT","u-m-3-s":"u-m-3-s--1GQRB","u-mt-3-s":"u-mt-3-s--3_Pgs","u-mb-3-s":"u-mb-3-s--1GZAN","u-ml-3-s":"u-ml-3-s--WyyjT","u-mr-3-s":"u-mr-3-s--2WVTU","u-mv-3-s":"u-mv-3-s--3JCA0","u-mh-3-s":"u-mh-3-s--1F1FW","u-m-auto-s":"u-m-auto-s--3Ok4o","u-mt-auto-s":"u-mt-auto-s--VOH6X","u-mb-auto-s":"u-mb-auto-s--rsaq1","u-ml-auto-s":"u-ml-auto-s--1wkpx","u-mr-auto-s":"u-mr-auto-s--vL9Ea","u-mv-auto-s":"u-mv-auto-s--3DbDS","u-mh-auto-s":"u-mh-auto-s--3FbF1","u-m-half-s":"u-m-half-s--2tUoH","u-mt-half-s":"u-mt-half-s--jA_pB","u-mb-half-s":"u-mb-half-s--14tWO","u-ml-half-s":"u-ml-half-s--7ENf9","u-mr-half-s":"u-mr-half-s--2Jp6R","u-mv-half-s":"u-mv-half-s--2uOKM","u-mh-half-s":"u-mh-half-s--1VIXW","u-m-1-half-s":"u-m-1-half-s--2nzte","u-mt-1-half-s":"u-mt-1-half-s--3HPhw","u-mb-1-half-s":"u-mb-1-half-s--3dIp8","u-ml-1-half-s":"u-ml-1-half-s--3xGIv","u-mr-1-half-s":"u-mr-1-half-s--3lcMx","u-mv-1-half-s":"u-mv-1-half-s--WmVLs","u-mh-1-half-s":"u-mh-1-half-s--2V0qx","u-m-2-half-s":"u-m-2-half-s--Oemtk","u-mt-2-half-s":"u-mt-2-half-s--15vM2","u-mb-2-half-s":"u-mb-2-half-s--sqESr","u-ml-2-half-s":"u-ml-2-half-s--nLmJf","u-mr-2-half-s":"u-mr-2-half-s--3tYQl","u-mv-2-half-s":"u-mv-2-half-s--3VTR0","u-mh-2-half-s":"u-mh-2-half-s--1c_UP","u-p-0-m":"u-p-0-m--dAQKV","u-pt-0-m":"u-pt-0-m--D38Sx","u-pb-0-m":"u-pb-0-m--35g3C","u-pl-0-m":"u-pl-0-m--3iTGR","u-pr-0-m":"u-pr-0-m--j2hP4","u-pv-0-m":"u-pv-0-m--3BB4R","u-ph-0-m":"u-ph-0-m--3ZG_b","u-p-1-m":"u-p-1-m--221Fn","u-pt-1-m":"u-pt-1-m--2ytb0","u-pb-1-m":"u-pb-1-m--31K8o","u-pl-1-m":"u-pl-1-m--AWGeh","u-pr-1-m":"u-pr-1-m--2w1Yf","u-pv-1-m":"u-pv-1-m--2C4Os","u-ph-1-m":"u-ph-1-m--1IJ92","u-p-2-m":"u-p-2-m--1vG0b","u-pt-2-m":"u-pt-2-m--3DUrj","u-pb-2-m":"u-pb-2-m--1sTF_","u-pl-2-m":"u-pl-2-m--3pKjH","u-pr-2-m":"u-pr-2-m--27mu1","u-pv-2-m":"u-pv-2-m--o2buk","u-ph-2-m":"u-ph-2-m--doo63","u-p-3-m":"u-p-3-m--2pP3t","u-pt-3-m":"u-pt-3-m--2gZWa","u-pb-3-m":"u-pb-3-m--1HElb","u-pl-3-m":"u-pl-3-m--2P5i2","u-pr-3-m":"u-pr-3-m--26KCi","u-pv-3-m":"u-pv-3-m--nHM6K","u-ph-3-m":"u-ph-3-m--24Izv","u-p-auto-m":"u-p-auto-m--9dnBJ","u-pt-auto-m":"u-pt-auto-m--3XnS6","u-pb-auto-m":"u-pb-auto-m--3l1eN","u-pl-auto-m":"u-pl-auto-m--2v9ru","u-pr-auto-m":"u-pr-auto-m--185m_","u-pv-auto-m":"u-pv-auto-m--2TN8e","u-ph-auto-m":"u-ph-auto-m--zokL4","u-p-half-m":"u-p-half-m--lv8Ph","u-pt-half-m":"u-pt-half-m--3fcJI","u-pb-half-m":"u-pb-half-m--3_uz_","u-pl-half-m":"u-pl-half-m--15BRi","u-pr-half-m":"u-pr-half-m--27L1r","u-pv-half-m":"u-pv-half-m--7n07P","u-ph-half-m":"u-ph-half-m--kOrxo","u-p-1-half-m":"u-p-1-half-m--ntym-","u-pt-1-half-m":"u-pt-1-half-m--3_7pE","u-pb-1-half-m":"u-pb-1-half-m--135Lv","u-pl-1-half-m":"u-pl-1-half-m--2QOYo","u-pr-1-half-m":"u-pr-1-half-m--iuR1o","u-pv-1-half-m":"u-pv-1-half-m--2BOOJ","u-ph-1-half-m":"u-ph-1-half-m--Fzqqk","u-p-2-half-m":"u-p-2-half-m--3Q4S1","u-pt-2-half-m":"u-pt-2-half-m--37FuK","u-pb-2-half-m":"u-pb-2-half-m--3VgUF","u-pl-2-half-m":"u-pl-2-half-m--1SMDl","u-pr-2-half-m":"u-pr-2-half-m--2yQCL","u-pv-2-half-m":"u-pv-2-half-m--2j0KP","u-ph-2-half-m":"u-ph-2-half-m--3xqBu","u-m-0-m":"u-m-0-m--1Wvne","u-mt-0-m":"u-mt-0-m--16sTY","u-mb-0-m":"u-mb-0-m--2D-l-","u-ml-0-m":"u-ml-0-m--5MhDz","u-mr-0-m":"u-mr-0-m--3q64u","u-mv-0-m":"u-mv-0-m--2iAt_","u-mh-0-m":"u-mh-0-m--3dO8A","u-m-1-m":"u-m-1-m--37X8G","u-mt-1-m":"u-mt-1-m--5IiFO","u-mb-1-m":"u-mb-1-m--17-rf","u-ml-1-m":"u-ml-1-m--12WO2","u-mr-1-m":"u-mr-1-m--2l5Hs","u-mv-1-m":"u-mv-1-m--1fVsj","u-mh-1-m":"u-mh-1-m--1x3nT","u-m-2-m":"u-m-2-m--2pWTK","u-mt-2-m":"u-mt-2-m--1vpEs","u-mb-2-m":"u-mb-2-m--3dBW1","u-ml-2-m":"u-ml-2-m--22Xg5","u-mr-2-m":"u-mr-2-m--2JMMm","u-mv-2-m":"u-mv-2-m--3cqFT","u-mh-2-m":"u-mh-2-m--lCJa8","u-m-3-m":"u-m-3-m--2khpK","u-mt-3-m":"u-mt-3-m--3SQCl","u-mb-3-m":"u-mb-3-m--ISeE0","u-ml-3-m":"u-ml-3-m--3VpFr","u-mr-3-m":"u-mr-3-m--39RHD","u-mv-3-m":"u-mv-3-m--3Iohe","u-mh-3-m":"u-mh-3-m--2fQ9W","u-m-auto-m":"u-m-auto-m--78amG","u-mt-auto-m":"u-mt-auto-m--12Gk7","u-mb-auto-m":"u-mb-auto-m--3M7bR","u-ml-auto-m":"u-ml-auto-m--37-5v","u-mr-auto-m":"u-mr-auto-m--1aZX2","u-mv-auto-m":"u-mv-auto-m--3bIsu","u-mh-auto-m":"u-mh-auto-m--1DLUS","u-m-half-m":"u-m-half-m--3OQBA","u-mt-half-m":"u-mt-half-m--c5HzS","u-mb-half-m":"u-mb-half-m--2dT1f","u-ml-half-m":"u-ml-half-m--36adF","u-mr-half-m":"u-mr-half-m--3_rMb","u-mv-half-m":"u-mv-half-m--2Muh9","u-mh-half-m":"u-mh-half-m--1xfqd","u-m-1-half-m":"u-m-1-half-m--2nZvc","u-mt-1-half-m":"u-mt-1-half-m--2VXOO","u-mb-1-half-m":"u-mb-1-half-m--2pOVs","u-ml-1-half-m":"u-ml-1-half-m--3o1va","u-mr-1-half-m":"u-mr-1-half-m--3TW7w","u-mv-1-half-m":"u-mv-1-half-m--2TFt9","u-mh-1-half-m":"u-mh-1-half-m--20v92","u-m-2-half-m":"u-m-2-half-m--1T6Zi","u-mt-2-half-m":"u-mt-2-half-m--pAI5a","u-mb-2-half-m":"u-mb-2-half-m--2DfwS","u-ml-2-half-m":"u-ml-2-half-m--1rmzt","u-mr-2-half-m":"u-mr-2-half-m--1DqqY","u-mv-2-half-m":"u-mv-2-half-m--2uiaw","u-mh-2-half-m":"u-mh-2-half-m--Ln-2e","c-table":"c-table--2Eigo","c-table-head":"c-table-head--2VeAw","c-table-body":"c-table-body--3nvCe","c-table-row":"c-table-row--311a2","c-table-row-head":"c-table-row-head--2GHNy","is-selected":"is-selected--3F0-n","c-table-cell":"c-table-cell--11LuC","c-table-header":"c-table-header--37EzI","c-table-cell--primary":"c-table-cell--primary--1npa2","c-table-ellipsis":"c-table-ellipsis--1Htlg","c-table-divider":"c-table-divider--1-81j","wizard":"wizard--1RApT","wizard--waiting":"wizard--waiting--17YH2","wizard--scroll":"wizard--scroll--PoXiu","wizard--dual":"wizard--dual--2WWvA","wizard-wrapper--center":"wizard-wrapper--center--2EjZf","wizard-wrapper--bleed":"wizard-wrapper--bleed--ust6d","wizard-wrapper--dual":"wizard-wrapper--dual--D42F4","wizard-dual":"wizard-dual--1Ueqc","wizard-errors":"wizard-errors--1ZQw7","wizard--welcome":"wizard--welcome--1tusZ","wizard-logo":"wizard-logo--1g-b4","wizard-logo-img":"wizard-logo-img--1Y_SU","wizard-logo-badge":"wizard-logo-badge--KO9eE","wizard-header-help":"wizard-header-help--1wEAp","wizard-disclaimer":"wizard-disclaimer--3IY-e","wizard-desc":"wizard-desc--3Sshm","wizard-desc--footer":"wizard-desc--footer--2N90G","wizard-header-fixed":"wizard-header-fixed--2ArSg","wizard-previous":"wizard-previous--O0PvA","wizard-brand":"wizard-brand--1LZMr","wizard-brand--invert":"wizard-brand--invert--3R7j9","wizard-next":"wizard-next--oEVru","wizard-button":"wizard-button--HFMZ3","wizard-buttonlink":"wizard-buttonlink--2TOVt","wizard-input":"wizard-input--3J4hO","wizard-dual-btn":"wizard-dual-btn--1WFGQ","wizard-waiting-icon":"wizard-waiting-icon--21pc5","wizard-dual-icon":"wizard-dual-icon--3KuEc","wizard-title":"wizard-title--e7zpM","wizard-dual-title":"wizard-dual-title--BRshb","wizard-title-sub":"wizard-title-sub--yvHxu","wizard-subtitle":"wizard-subtitle--3A474","wizard-dual-subtitle":"wizard-dual-subtitle--2boJm","wizard-showbutton":"wizard-showbutton--1hdHS","wizard-dualfield":"wizard-dualfield--1kOSV","wizard-dualfield--focus":"wizard-dualfield--focus--1XLSK","wizard-dualfield--error":"wizard-dualfield--error--MYtFf","wizard-dualfield-wrapper":"wizard-dualfield-wrapper--3zWkB","wizard-dualfield-input":"wizard-dualfield-input--gu6Aw","wizard-protocol":"wizard-protocol--1fKHM","wizard-domain":"wizard-domain--3gcWA","wizard-requirements":"wizard-requirements--yFMf0","wizard-agreements":"wizard-agreements--3CX_2","wizard-agreements-item":"wizard-agreements-item--LJFNQ","wizard-agreements-desc":"wizard-agreements-desc--2ZuUF","wizard-agreements-icon":"wizard-agreements-icon--4JydE","wizard-updated":"wizard-updated--328d9","wizard-progress":"wizard-progress--3wxvO","wizard-progress-bar":"wizard-progress-bar--36RhA","wizard-notice":"wizard-notice--1hNNz","wizard-notice--lost":"wizard-notice--lost--32RE6","u-bg-black":"u-bg-black--26wgT","u-bg-white":"u-bg-white--1eLGZ","u-bg-paleGrey":"u-bg-paleGrey--3UNhV","u-bg-silver":"u-bg-silver--3mlXP","u-bg-coolGrey":"u-bg-coolGrey--2naDm","u-bg-slateGrey":"u-bg-slateGrey--1AA4F","u-bg-charcoalGrey":"u-bg-charcoalGrey--1TFsy","u-bg-overlay":"u-bg-overlay--CPwTV","u-bg-zircon":"u-bg-zircon--3FtcQ","u-bg-frenchPass":"u-bg-frenchPass--jbV4M","u-bg-dodgerBlue":"u-bg-dodgerBlue--3IFjS","u-bg-scienceBlue":"u-bg-scienceBlue--3nYxg","u-bg-puertoRico":"u-bg-puertoRico--1sFxJ","u-bg-grannyApple":"u-bg-grannyApple--2HmAg","u-bg-emerald":"u-bg-emerald--1avtE","u-bg-malachite":"u-bg-malachite--dXSyj","u-bg-seafoamGreen":"u-bg-seafoamGreen--1Gw4F","u-bg-brightSun":"u-bg-brightSun--5jQl6","u-bg-texasRose":"u-bg-texasRose--1g7Nf","u-bg-chablis":"u-bg-chablis--2E7Xu","u-bg-yourPink":"u-bg-yourPink--1zf_f","u-bg-fuchsia":"u-bg-fuchsia--3bJE6","u-bg-pomegranate":"u-bg-pomegranate--1JyDt","u-bg-monza":"u-bg-monza--W5jPB","u-bg-portage":"u-bg-portage--o7rHR","u-bg-azure":"u-bg-azure--2UOvY","u-bg-melon":"u-bg-melon--1_vRv","u-bg-blazeOrange":"u-bg-blazeOrange--wfbWg","u-bg-mango":"u-bg-mango--1xGbA","u-bg-pumpkinOrange":"u-bg-pumpkinOrange--3TUOl","u-bg-lavender":"u-bg-lavender--HjpR-","u-bg-darkPeriwinkle":"u-bg-darkPeriwinkle--3Ii-k","u-bg-purpley":"u-bg-purpley--1-cwy","u-bg-lightishPurple":"u-bg-lightishPurple--2z5j3","u-bg-barney":"u-bg-barney--1MHnL","u-bg-weirdGreen":"u-bg-weirdGreen--2iT3M","u-bg-primaryColor":"u-bg-primaryColor--9ZCba","u-bg-primaryColorLight":"u-bg-primaryColorLight--1tVp2","u-bg-primaryContrastTextColor":"u-bg-primaryContrastTextColor--2lvm-","u-bdrs-1":"u-bdrs-1--23qwH","u-bdrs-1-t":"u-bdrs-1-t--10ahd","u-bdrs-1-s":"u-bdrs-1-s--1TIth","u-bdrs-1-m":"u-bdrs-1-m--dWJJK","u-bdrs-2":"u-bdrs-2--28Fa3","u-bdrs-2-t":"u-bdrs-2-t--3Tx4t","u-bdrs-2-s":"u-bdrs-2-s--3d7tn","u-bdrs-2-m":"u-bdrs-2-m--29O4y","u-bdrs-3":"u-bdrs-3--3sAI5","u-bdrs-3-t":"u-bdrs-3-t--1Pty7","u-bdrs-3-s":"u-bdrs-3-s--2F0g-","u-bdrs-3-m":"u-bdrs-3-m--TPM9n","u-bdrs-4":"u-bdrs-4--MrM_B","u-bdrs-4-t":"u-bdrs-4-t--3XIaA","u-bdrs-4-s":"u-bdrs-4-s--3mPSF","u-bdrs-4-m":"u-bdrs-4-m--1wnEi","u-bdrs-circle":"u-bdrs-circle--2D8l-","u-bdrs-circle-t":"u-bdrs-circle-t--3PE9R","u-bdrs-circle-s":"u-bdrs-circle-s--3cf01","u-bdrs-circle-m":"u-bdrs-circle-m--2iN6B","u-bdw-0":"u-bdw-0--M7j1G","u-bdw-0-t":"u-bdw-0-t--1KCmg","u-bdw-0-s":"u-bdw-0-s--HYOam","u-bdw-0-m":"u-bdw-0-m--3U7PJ","u-bdw-1":"u-bdw-1--2hQbJ","u-bdw-1-t":"u-bdw-1-t--3Df5l","u-bdw-1-s":"u-bdw-1-s--3MqXR","u-bdw-1-m":"u-bdw-1-m--QQonZ","u-bxz":"u-bxz--syplv","u-c-default":"u-c-default--2YMoo","u-c-help":"u-c-help--31Fz5","u-c-pointer":"u-c-pointer--tnNsg","u-c-wait":"u-c-wait--2jqRs","u-c-not-allowed":"u-c-not-allowed--1qxkJ","u-miw-1":"u-miw-1--pcCHD","u-maw-1":"u-maw-1--iXa4d","u-mih-1":"u-mih-1--3ouqA","u-mah-1":"u-mah-1--2rEuh","u-miw-2":"u-miw-2--2nWbO","u-maw-2":"u-maw-2--1i9Dh","u-mih-2":"u-mih-2--1nGAH","u-mah-2":"u-mah-2--3FkMl","u-miw-3":"u-miw-3--2nUDK","u-maw-3":"u-maw-3--3TJDM","u-mih-3":"u-mih-3--2YbJw","u-mah-3":"u-mah-3--3kLYn","u-miw-4":"u-miw-4--1jqWA","u-maw-4":"u-maw-4--33z3B","u-mih-4":"u-mih-4--1aHyl","u-mah-4":"u-mah-4--3vz5M","u-miw-5":"u-miw-5--T4Pc2","u-maw-5":"u-maw-5--2Pd-w","u-mih-5":"u-mih-5--3z2JH","u-mah-5":"u-mah-5--1VJHf","u-miw-6":"u-miw-6--2Zt8U","u-maw-6":"u-maw-6--23bfp","u-mih-6":"u-mih-6--3FqZr","u-mah-6":"u-mah-6--13Rts","u-miw-7":"u-miw-7--2sVxg","u-maw-7":"u-maw-7--dhGR5","u-mih-7":"u-mih-7--2eweX","u-mah-7":"u-mah-7--1XiRk","u-miw-8":"u-miw-8--5pt2M","u-maw-8":"u-maw-8--2iGjD","u-mih-8":"u-mih-8--1v5_r","u-mah-8":"u-mah-8--1bezJ","u-miw-9":"u-miw-9--3LEyn","u-maw-9":"u-maw-9--hLdHH","u-mih-9":"u-mih-9--2tEr-","u-mah-9":"u-mah-9--1i9F9","u-miw-100":"u-miw-100--2Aslb","u-maw-100":"u-maw-100--2iuiy","u-mih-100":"u-mih-100--1wRjQ","u-mah-100":"u-mah-100--3hTbn","u-maw-none":"u-maw-none--bNAsg","u-mah-none":"u-mah-none--1r0Ny","u-miw-auto":"u-miw-auto--1QoTf","u-mih-auto":"u-mih-auto--1DYRt","u-miw-1-t":"u-miw-1-t--1ep4R","u-maw-1-t":"u-maw-1-t--239oa","u-mih-1-t":"u-mih-1-t--39c-O","u-mah-1-t":"u-mah-1-t--2Cwu5","u-miw-2-t":"u-miw-2-t--3P--o","u-maw-2-t":"u-maw-2-t--2SpUX","u-mih-2-t":"u-mih-2-t--A9N5y","u-mah-2-t":"u-mah-2-t--3hKOY","u-miw-3-t":"u-miw-3-t--3CbGP","u-maw-3-t":"u-maw-3-t--3g3GT","u-mih-3-t":"u-mih-3-t--1Okno","u-mah-3-t":"u-mah-3-t--2MazG","u-miw-4-t":"u-miw-4-t--3PPRP","u-maw-4-t":"u-maw-4-t--2hVE_","u-mih-4-t":"u-mih-4-t---IyJr","u-mah-4-t":"u-mah-4-t--1k-bX","u-miw-5-t":"u-miw-5-t--3DRcz","u-maw-5-t":"u-maw-5-t--3fiZX","u-mih-5-t":"u-mih-5-t--2E2oy","u-mah-5-t":"u-mah-5-t--2of2l","u-miw-6-t":"u-miw-6-t--2opwp","u-maw-6-t":"u-maw-6-t--1qniv","u-mih-6-t":"u-mih-6-t--GYpGD","u-mah-6-t":"u-mah-6-t--ZKMJS","u-miw-7-t":"u-miw-7-t--I4JTt","u-maw-7-t":"u-maw-7-t--1fF_f","u-mih-7-t":"u-mih-7-t--3VwVH","u-mah-7-t":"u-mah-7-t--2A_0-","u-miw-8-t":"u-miw-8-t--1Y-iv","u-maw-8-t":"u-maw-8-t--3FW89","u-mih-8-t":"u-mih-8-t--30z09","u-mah-8-t":"u-mah-8-t--3HZ5s","u-miw-9-t":"u-miw-9-t--11B1w","u-maw-9-t":"u-maw-9-t--3HXNq","u-mih-9-t":"u-mih-9-t--30ib2","u-mah-9-t":"u-mah-9-t--RLCjB","u-miw-100-t":"u-miw-100-t--toR5s","u-maw-100-t":"u-maw-100-t--2UZFf","u-mih-100-t":"u-mih-100-t--1Cdox","u-mah-100-t":"u-mah-100-t--2tJ06","u-maw-none-t":"u-maw-none-t--2hw7F","u-mah-none-t":"u-mah-none-t--3DtRx","u-miw-auto-t":"u-miw-auto-t--10PdC","u-mih-auto-t":"u-mih-auto-t--Urlt9","u-miw-1-s":"u-miw-1-s--3htCe","u-maw-1-s":"u-maw-1-s--1SvV1","u-mih-1-s":"u-mih-1-s--2UOyr","u-mah-1-s":"u-mah-1-s--jpb_1","u-miw-2-s":"u-miw-2-s--1Jszk","u-maw-2-s":"u-maw-2-s--1_Gzt","u-mih-2-s":"u-mih-2-s--1WrA_","u-mah-2-s":"u-mah-2-s--2DsY4","u-miw-3-s":"u-miw-3-s--DD44j","u-maw-3-s":"u-maw-3-s---xavh","u-mih-3-s":"u-mih-3-s--1Qh1E","u-mah-3-s":"u-mah-3-s--V-T1c","u-miw-4-s":"u-miw-4-s--kld3T","u-maw-4-s":"u-maw-4-s--WF9uP","u-mih-4-s":"u-mih-4-s--27mz4","u-mah-4-s":"u-mah-4-s--2-69d","u-miw-5-s":"u-miw-5-s--3pogj","u-maw-5-s":"u-maw-5-s--epTn_","u-mih-5-s":"u-mih-5-s--3DLqW","u-mah-5-s":"u-mah-5-s--CBchG","u-miw-6-s":"u-miw-6-s--3EhEY","u-maw-6-s":"u-maw-6-s--15A6t","u-mih-6-s":"u-mih-6-s--if4k2","u-mah-6-s":"u-mah-6-s--3QntL","u-miw-7-s":"u-miw-7-s--I70-y","u-maw-7-s":"u-maw-7-s--25N1i","u-mih-7-s":"u-mih-7-s--2Gqi3","u-mah-7-s":"u-mah-7-s--2rDps","u-miw-8-s":"u-miw-8-s--151Rv","u-maw-8-s":"u-maw-8-s--2WVkX","u-mih-8-s":"u-mih-8-s--2-z4s","u-mah-8-s":"u-mah-8-s--3-4Mh","u-miw-9-s":"u-miw-9-s--3mMpB","u-maw-9-s":"u-maw-9-s--IVDj0","u-mih-9-s":"u-mih-9-s--3cgEZ","u-mah-9-s":"u-mah-9-s--3pkZw","u-miw-100-s":"u-miw-100-s--2FN9E","u-maw-100-s":"u-maw-100-s--3NH0D","u-mih-100-s":"u-mih-100-s--3CvGV","u-mah-100-s":"u-mah-100-s--2SM8s","u-maw-none-s":"u-maw-none-s--1B77n","u-mah-none-s":"u-mah-none-s--Qz1rb","u-miw-auto-s":"u-miw-auto-s--1WbjD","u-mih-auto-s":"u-mih-auto-s--2eTUN","u-miw-1-m":"u-miw-1-m--2yuzO","u-maw-1-m":"u-maw-1-m--3q840","u-mih-1-m":"u-mih-1-m--2hhlS","u-mah-1-m":"u-mah-1-m--38QjT","u-miw-2-m":"u-miw-2-m--11Xxh","u-maw-2-m":"u-maw-2-m--34NKm","u-mih-2-m":"u-mih-2-m--1nQX5","u-mah-2-m":"u-mah-2-m--2tki1","u-miw-3-m":"u-miw-3-m--2gG-i","u-maw-3-m":"u-maw-3-m--1WgTV","u-mih-3-m":"u-mih-3-m--1-O73","u-mah-3-m":"u-mah-3-m--3tKhJ","u-miw-4-m":"u-miw-4-m--3diPf","u-maw-4-m":"u-maw-4-m--10erG","u-mih-4-m":"u-mih-4-m--3Wox5","u-mah-4-m":"u-mah-4-m--3ilhH","u-miw-5-m":"u-miw-5-m--_YM0x","u-maw-5-m":"u-maw-5-m--3wCQ5","u-mih-5-m":"u-mih-5-m--2PDtZ","u-mah-5-m":"u-mah-5-m--1yS-8","u-miw-6-m":"u-miw-6-m--C4Ku1","u-maw-6-m":"u-maw-6-m--U9jea","u-mih-6-m":"u-mih-6-m--3xRY9","u-mah-6-m":"u-mah-6-m--2Fks3","u-miw-7-m":"u-miw-7-m--DEaEQ","u-maw-7-m":"u-maw-7-m--CSMBv","u-mih-7-m":"u-mih-7-m--3LeUa","u-mah-7-m":"u-mah-7-m--jcbUJ","u-miw-8-m":"u-miw-8-m--HC3xv","u-maw-8-m":"u-maw-8-m--3-WHa","u-mih-8-m":"u-mih-8-m--3GLHZ","u-mah-8-m":"u-mah-8-m--1SICL","u-miw-9-m":"u-miw-9-m--16gj1","u-maw-9-m":"u-maw-9-m--1m7M7","u-mih-9-m":"u-mih-9-m--20ZE4","u-mah-9-m":"u-mah-9-m--3RJ8m","u-miw-100-m":"u-miw-100-m--mhK9T","u-maw-100-m":"u-maw-100-m--3fwGm","u-mih-100-m":"u-mih-100-m--2zixh","u-mah-100-m":"u-mah-100-m--1HKNy","u-maw-none-m":"u-maw-none-m--3yd6n","u-mah-none-m":"u-mah-none-m--1sG3f","u-miw-auto-m":"u-miw-auto-m--31pbI","u-mih-auto-m":"u-mih-auto-m--3eKnT","u-w-1":"u-w-1--3VH0u","u-h-1":"u-h-1--8lBKM","u-w-2":"u-w-2--39x3l","u-h-2":"u-h-2--19u91","u-w-3":"u-w-3--1nxYM","u-h-3":"u-h-3--Eaqkv","u-w-4":"u-w-4--2aJSh","u-h-4":"u-h-4--2hH6X","u-w-5":"u-w-5--d58zs","u-h-5":"u-h-5--22TfM","u-w-6":"u-w-6--1K2ws","u-h-6":"u-h-6--1oaCr","u-w-7":"u-w-7--b19H1","u-h-7":"u-h-7--2L4Sk","u-w-8":"u-w-8--2z1Kx","u-h-8":"u-h-8--1S7jV","u-w-9":"u-w-9--2-r_m","u-h-9":"u-h-9--2lKoV","u-w-100":"u-w-100--ACXhw","u-h-100":"u-h-100--1wLjF","u-w-auto":"u-w-auto--3FORA","u-h-auto":"u-h-auto--DPkbz","u-w-1-t":"u-w-1-t--3oY-3","u-h-1-t":"u-h-1-t--YEPLy","u-w-2-t":"u-w-2-t--332tV","u-h-2-t":"u-h-2-t--3-2Jx","u-w-3-t":"u-w-3-t--1dQWV","u-h-3-t":"u-h-3-t--yba2Z","u-w-4-t":"u-w-4-t--3CsIY","u-h-4-t":"u-h-4-t--3Ux0e","u-w-5-t":"u-w-5-t--31qUY","u-h-5-t":"u-h-5-t--MV-M2","u-w-6-t":"u-w-6-t--1LsmJ","u-h-6-t":"u-h-6-t--3mfjl","u-w-7-t":"u-w-7-t--DUDUu","u-h-7-t":"u-h-7-t--2XhNh","u-w-8-t":"u-w-8-t--3p43s","u-h-8-t":"u-h-8-t--4W1ot","u-w-9-t":"u-w-9-t--1LCzR","u-h-9-t":"u-h-9-t--QbDMF","u-w-100-t":"u-w-100-t--3Lyij","u-h-100-t":"u-h-100-t--34Gbi","u-w-auto-t":"u-w-auto-t--H5HPc","u-h-auto-t":"u-h-auto-t--TqO6m","u-w-1-s":"u-w-1-s--3f124","u-h-1-s":"u-h-1-s--2hul0","u-w-2-s":"u-w-2-s--100Cj","u-h-2-s":"u-h-2-s--ecToI","u-w-3-s":"u-w-3-s--25EQa","u-h-3-s":"u-h-3-s--1xU7M","u-w-4-s":"u-w-4-s--1-5HO","u-h-4-s":"u-h-4-s--1PiwS","u-w-5-s":"u-w-5-s--1A6nl","u-h-5-s":"u-h-5-s--310oO","u-w-6-s":"u-w-6-s--2ImB6","u-h-6-s":"u-h-6-s--ZfY8m","u-w-7-s":"u-w-7-s--XlUqZ","u-h-7-s":"u-h-7-s--z0dty","u-w-8-s":"u-w-8-s--3zpeE","u-h-8-s":"u-h-8-s--3uHN4","u-w-9-s":"u-w-9-s--tNmXs","u-h-9-s":"u-h-9-s--24gYC","u-w-100-s":"u-w-100-s--TGFKu","u-h-100-s":"u-h-100-s--1UNRx","u-w-auto-s":"u-w-auto-s--1syVB","u-h-auto-s":"u-h-auto-s--2tvot","u-w-1-m":"u-w-1-m--1fPk1","u-h-1-m":"u-h-1-m--aA2U6","u-w-2-m":"u-w-2-m--1oexe","u-h-2-m":"u-h-2-m--3QCwm","u-w-3-m":"u-w-3-m--1RRxK","u-h-3-m":"u-h-3-m--3ptj9","u-w-4-m":"u-w-4-m--11Zpc","u-h-4-m":"u-h-4-m--20rW7","u-w-5-m":"u-w-5-m--3Zsj1","u-h-5-m":"u-h-5-m--1ddoO","u-w-6-m":"u-w-6-m--37zQR","u-h-6-m":"u-h-6-m--hTuca","u-w-7-m":"u-w-7-m--10pP3","u-h-7-m":"u-h-7-m--2tHwk","u-w-8-m":"u-w-8-m--3lZUN","u-h-8-m":"u-h-8-m--fwere","u-w-9-m":"u-w-9-m--6RE2o","u-h-9-m":"u-h-9-m--y3fiN","u-w-100-m":"u-w-100-m--Lu-Xj","u-h-100-m":"u-h-100-m--1WuGH","u-w-auto-m":"u-w-auto-m--3ziIe","u-h-auto-m":"u-h-auto-m--jh31R","u-shake":"u-shake--3X0rg","shake":"shake--Dso-n","u-flex":"u-flex--1Jo2E","u-flex-t":"u-flex-t--3bx5k","u-flex-s":"u-flex-s--bRNZe","u-flex-m":"u-flex-m--1Y3Er","u-inline-flex":"u-inline-flex--3Q8J5","u-inline-flex-t":"u-inline-flex-t--19qEj","u-inline-flex-s":"u-inline-flex-s--1_4en","u-inline-flex-m":"u-inline-flex-m--35LYV","u-flex-none":"u-flex-none--2VWxS","u-flex-none-t":"u-flex-none-t--1mAKW","u-flex-none-s":"u-flex-none-s--1L_69","u-flex-none-m":"u-flex-none-m--22TN5","u-flex-column":"u-flex-column--2s4iH","u-flex-column-t":"u-flex-column-t--3kLMl","u-flex-column-s":"u-flex-column-s--12htc","u-flex-column-m":"u-flex-column-m--3Q_9D","u-flex-row":"u-flex-row--2V77z","u-flex-row-t":"u-flex-row-t--2XMcM","u-flex-row-s":"u-flex-row-s--1YR08","u-flex-row-m":"u-flex-row-m--Up1oP","u-flex-wrap":"u-flex-wrap--2cQ2O","u-flex-wrap-t":"u-flex-wrap-t--1vdOn","u-flex-wrap-s":"u-flex-wrap-s--3kX0q","u-flex-wrap-m":"u-flex-wrap-m--2TD_s","u-flex-nowrap":"u-flex-nowrap--n247O","u-flex-nowrap-t":"u-flex-nowrap-t--tNGMy","u-flex-nowrap-s":"u-flex-nowrap-s--5cJwP","u-flex-nowrap-m":"u-flex-nowrap-m--38LMk","u-flex-wrap-reverse":"u-flex-wrap-reverse--YjBSy","u-flex-wrap-reverse-t":"u-flex-wrap-reverse-t--1clSz","u-flex-wrap-reverse-s":"u-flex-wrap-reverse-s--1O56z","u-flex-wrap-reverse-m":"u-flex-wrap-reverse-m--2iSic","u-flex-column-reverse":"u-flex-column-reverse--2PDG-","u-flex-column-reverse-t":"u-flex-column-reverse-t--3HF6H","u-flex-column-reverse-s":"u-flex-column-reverse-s--2z3o9","u-flex-column-reverse-m":"u-flex-column-reverse-m--1SE83","u-flex-row-reverse":"u-flex-row-reverse--Z9QuU","u-flex-row-reverse-t":"u-flex-row-reverse-t--3hrHN","u-flex-row-reverse-s":"u-flex-row-reverse-s--3lMxz","u-flex-row-reverse-m":"u-flex-row-reverse-m--1hh5_","u-flex-auto":"u-flex-auto--3kbE8","u-flex-auto-t":"u-flex-auto-t--2UDlP","u-flex-auto-s":"u-flex-auto-s--2rxun","u-flex-auto-m":"u-flex-auto-m--LkF1x","u-flex-items-start":"u-flex-items-start--21v8M","u-flex-items-start-t":"u-flex-items-start-t--3XzjB","u-flex-items-start-s":"u-flex-items-start-s--hR4LX","u-flex-items-start-m":"u-flex-items-start-m--8Tp6J","u-flex-items-end":"u-flex-items-end--2vpQQ","u-flex-items-end-t":"u-flex-items-end-t--3lGH8","u-flex-items-end-s":"u-flex-items-end-s--2aYmW","u-flex-items-end-m":"u-flex-items-end-m--Dex4S","u-flex-items-center":"u-flex-items-center--23IR3","u-flex-items-center-t":"u-flex-items-center-t--1lgqA","u-flex-items-center-s":"u-flex-items-center-s--1SHPV","u-flex-items-center-m":"u-flex-items-center-m--2lZuF","u-flex-items-baseline":"u-flex-items-baseline--3yFBu","u-flex-items-baseline-t":"u-flex-items-baseline-t--3vbbI","u-flex-items-baseline-s":"u-flex-items-baseline-s--2W_ZX","u-flex-items-baseline-m":"u-flex-items-baseline-m--2XzRV","u-flex-items-stretch":"u-flex-items-stretch--NBoVs","u-flex-items-stretch-t":"u-flex-items-stretch-t--HwhzZ","u-flex-items-stretch-s":"u-flex-items-stretch-s--2N5XH","u-flex-items-stretch-m":"u-flex-items-stretch-m--285gK","u-flex-self-start":"u-flex-self-start--2SefM","u-flex-self-start-t":"u-flex-self-start-t--1TiAD","u-flex-self-start-s":"u-flex-self-start-s--30pwR","u-flex-self-start-m":"u-flex-self-start-m--1dLa7","u-flex-self-end":"u-flex-self-end--2sE6S","u-flex-self-end-t":"u-flex-self-end-t--1wSzs","u-flex-self-end-s":"u-flex-self-end-s--1b8fR","u-flex-self-end-m":"u-flex-self-end-m--3v-s2","u-flex-self-center":"u-flex-self-center--3mQqU","u-flex-self-center-t":"u-flex-self-center-t--2hIdR","u-flex-self-center-s":"u-flex-self-center-s--3TRR5","u-flex-self-center-m":"u-flex-self-center-m--32ILF","u-flex-self-baseline":"u-flex-self-baseline--3_qpc","u-flex-self-baseline-t":"u-flex-self-baseline-t--3MZz-","u-flex-self-baseline-s":"u-flex-self-baseline-s--2hBRK","u-flex-self-baseline-m":"u-flex-self-baseline-m--2NPnA","u-flex-self-stretch":"u-flex-self-stretch--zx-3B","u-flex-self-stretch-t":"u-flex-self-stretch-t--2V-eb","u-flex-self-stretch-s":"u-flex-self-stretch-s--dFk9R","u-flex-self-stretch-m":"u-flex-self-stretch-m--2ssUS","u-flex-justify-start":"u-flex-justify-start--311kB","u-flex-justify-start-t":"u-flex-justify-start-t--3ykDq","u-flex-justify-start-s":"u-flex-justify-start-s--1CCGA","u-flex-justify-start-m":"u-flex-justify-start-m--17_4p","u-flex-justify-end":"u-flex-justify-end--2hr0W","u-flex-justify-end-t":"u-flex-justify-end-t--3kzy0","u-flex-justify-end-s":"u-flex-justify-end-s--1HhsX","u-flex-justify-end-m":"u-flex-justify-end-m--1UJG-","u-flex-justify-center":"u-flex-justify-center--wBzbs","u-flex-justify-center-t":"u-flex-justify-center-t--2tT9W","u-flex-justify-center-s":"u-flex-justify-center-s--1utWe","u-flex-justify-center-m":"u-flex-justify-center-m--2WuOM","u-flex-justify-between":"u-flex-justify-between--2Q8ZS","u-flex-justify-between-t":"u-flex-justify-between-t--R61QL","u-flex-justify-between-s":"u-flex-justify-between-s--GZoki","u-flex-justify-between-m":"u-flex-justify-between-m--6sNpY","u-flex-justify-around":"u-flex-justify-around--3RClL","u-flex-justify-around-t":"u-flex-justify-around-t--3cj88","u-flex-justify-around-s":"u-flex-justify-around-s--3Dgtv","u-flex-justify-around-m":"u-flex-justify-around-m--S1Mtb","u-flex-content-start":"u-flex-content-start--36ecT","u-flex-content-start-t":"u-flex-content-start-t--2Fe7T","u-flex-content-start-s":"u-flex-content-start-s--3_7Og","u-flex-content-start-m":"u-flex-content-start-m--3EPkS","u-flex-content-end":"u-flex-content-end--1Sly7","u-flex-content-end-t":"u-flex-content-end-t--1MuYO","u-flex-content-end-s":"u-flex-content-end-s--3tBex","u-flex-content-end-m":"u-flex-content-end-m--2n1W7","u-flex-content-center":"u-flex-content-center--1ifW1","u-flex-content-center-t":"u-flex-content-center-t--2EinK","u-flex-content-center-s":"u-flex-content-center-s--2qbo0","u-flex-content-center-m":"u-flex-content-center-m--3zFFn","u-flex-content-between":"u-flex-content-between--pJiz4","u-flex-content-between-t":"u-flex-content-between-t--3AUVq","u-flex-content-between-s":"u-flex-content-between-s--2YJoe","u-flex-content-between-m":"u-flex-content-between-m--2m-yz","u-flex-content-around":"u-flex-content-around--3FiFF","u-flex-content-around-t":"u-flex-content-around-t--HljdH","u-flex-content-around-s":"u-flex-content-around-s--2fj5A","u-flex-content-around-m":"u-flex-content-around-m--1-pLV","u-flex-content-stretch":"u-flex-content-stretch--174IP","u-flex-content-stretch-t":"u-flex-content-stretch-t--qWtlO","u-flex-content-stretch-s":"u-flex-content-stretch-s--3BOsM","u-flex-content-stretch-m":"u-flex-content-stretch-m--3P3KS","u-flex-order-0":"u-flex-order-0--2suRo","u-flex-order-0-t":"u-flex-order-0-t--2xCTQ","u-flex-order-0-s":"u-flex-order-0-s--60dJ2","u-flex-order-0-m":"u-flex-order-0-m--14kGe","u-flex-order-1":"u-flex-order-1--1Xhhp","u-flex-order-1-t":"u-flex-order-1-t--2__ro","u-flex-order-1-s":"u-flex-order-1-s--3JQo2","u-flex-order-1-m":"u-flex-order-1-m--2fQ0L","u-flex-order-2":"u-flex-order-2--Ffvgx","u-flex-order-2-t":"u-flex-order-2-t--3rAx8","u-flex-order-2-s":"u-flex-order-2-s--1p8RM","u-flex-order-2-m":"u-flex-order-2-m--18wWP","u-flex-order-3":"u-flex-order-3--wvilB","u-flex-order-3-t":"u-flex-order-3-t--7d9Fz","u-flex-order-3-s":"u-flex-order-3-s--30Mki","u-flex-order-3-m":"u-flex-order-3-m--2SkKY","u-flex-order-4":"u-flex-order-4--1nt9T","u-flex-order-4-t":"u-flex-order-4-t--2UG07","u-flex-order-4-s":"u-flex-order-4-s--24Wt7","u-flex-order-4-m":"u-flex-order-4-m--3Uy-J","u-flex-order-5":"u-flex-order-5--3aNh3","u-flex-order-5-t":"u-flex-order-5-t--79iKS","u-flex-order-5-s":"u-flex-order-5-s--y9Epz","u-flex-order-5-m":"u-flex-order-5-m--3aCE_","u-flex-order-6":"u-flex-order-6--3Vyxt","u-flex-order-6-t":"u-flex-order-6-t--1SVqM","u-flex-order-6-s":"u-flex-order-6-s--_nIxn","u-flex-order-6-m":"u-flex-order-6-m--3vF4-","u-flex-order-7":"u-flex-order-7--wh9ld","u-flex-order-7-t":"u-flex-order-7-t--1tqFg","u-flex-order-7-s":"u-flex-order-7-s--2S-EJ","u-flex-order-7-m":"u-flex-order-7-m--3wAiY","u-flex-order-8":"u-flex-order-8--3GoA0","u-flex-order-8-t":"u-flex-order-8-t--1tzS7","u-flex-order-8-s":"u-flex-order-8-s--3A_d1","u-flex-order-8-m":"u-flex-order-8-m--1yOzx","u-flex-order-last":"u-flex-order-last--iycIu","u-flex-order-last-t":"u-flex-order-last-t--3snHd","u-flex-order-last-s":"u-flex-order-last-s--2PeQT","u-flex-order-last-m":"u-flex-order-last-m--19U6a","u-flex-grow-0":"u-flex-grow-0--1p6gS","u-flex-grow-0-t":"u-flex-grow-0-t--38wdB","u-flex-grow-0-s":"u-flex-grow-0-s--3YUDp","u-flex-grow-0-m":"u-flex-grow-0-m--2Q7VJ","u-flex-grow-1":"u-flex-grow-1--3MO3C","u-flex-grow-1-t":"u-flex-grow-1-t--1_llt","u-flex-grow-1-s":"u-flex-grow-1-s--FLqvm","u-flex-grow-1-m":"u-flex-grow-1-m--eTqOm","u-flex-shrink-0":"u-flex-shrink-0--2XX2K","u-flex-shrink-0-t":"u-flex-shrink-0-t--1wp__","u-flex-shrink-0-s":"u-flex-shrink-0-s--SvoWo","u-flex-shrink-0-m":"u-flex-shrink-0-m--KXk7-","u-flex-shrink-1":"u-flex-shrink-1--3GwWh","u-flex-shrink-1-t":"u-flex-shrink-1-t--2ANEM","u-flex-shrink-1-s":"u-flex-shrink-1-s--P84ev","u-flex-shrink-1-m":"u-flex-shrink-1-m--20926","u-nolist":"u-nolist--3F7JW","u-nolist-t":"u-nolist-t--3BxA6","u-nolist-s":"u-nolist-s--1ZOyZ","u-nolist-m":"u-nolist-m--3Bkyb","u-o-100":"u-o-100--2qad-","u-o-90":"u-o-90--NuNtO","u-o-80":"u-o-80--18KvO","u-o-70":"u-o-70--mkgyE","u-o-60":"u-o-60--2a_eL","u-o-50":"u-o-50--2pxWq","u-o-40":"u-o-40--27sIg","u-o-30":"u-o-30--2i4gP","u-o-20":"u-o-20--1pDqb","u-o-10":"u-o-10--1mUpe","u-o-05":"u-o-05--1H0uD","u-o-025":"u-o-025--22NxD","u-o-0":"u-o-0--7GTd2","u-ov-visible":"u-ov-visible--5lv2P","u-ov-hidden":"u-ov-hidden--sWwpY","u-ov-scroll":"u-ov-scroll--3HLgf","u-ov-auto":"u-ov-auto--1O4II","u-pos-absolute":"u-pos-absolute--zocdo","u-pos-absolute-t":"u-pos-absolute-t--1-4su","u-pos-absolute-s":"u-pos-absolute-s--1Vcmz","u-pos-absolute-m":"u-pos-absolute-m--3LduC","u-pos-relative":"u-pos-relative--2MWm8","u-pos-relative-t":"u-pos-relative-t--15QQT","u-pos-relative-s":"u-pos-relative-s--3R2IX","u-pos-relative-m":"u-pos-relative-m--3kk8R","u-pos-fixed":"u-pos-fixed--1vQ4F","u-pos-fixed-t":"u-pos-fixed-t--3m6ti","u-pos-fixed-s":"u-pos-fixed-s--gCWNg","u-pos-fixed-m":"u-pos-fixed-m--KHSz6","u-pos-sticky":"u-pos-sticky--XmUk9","u-pos-sticky-t":"u-pos-sticky-t--3d2mX","u-pos-sticky-s":"u-pos-sticky-s--2c00g","u-pos-sticky-m":"u-pos-sticky-m--YaMoQ","u-pos-static":"u-pos-static--1dFKE","u-pos-static-t":"u-pos-static-t--2Zetg","u-pos-static-s":"u-pos-static-s--3iDSN","u-pos-static-m":"u-pos-static-m--1tuql","u-top-xs":"u-top-xs--1JcbL","u-top-s":"u-top-s--2QQsh","u-top-m":"u-top-m--26C5S","u-top-l":"u-top-l--sZal9","u-top-xl":"u-top-xl--Dwf9M","u-top-xxl":"u-top-xxl--2dsr2","u-top-0":"u-top-0--3BCLN","u-bottom-xs":"u-bottom-xs--1rEKy","u-bottom-s":"u-bottom-s--1L52A","u-bottom-m":"u-bottom-m--w1kt7","u-bottom-l":"u-bottom-l--342ze","u-bottom-xl":"u-bottom-xl--5C-n3","u-bottom-xxl":"u-bottom-xxl--zwlm4","u-bottom-0":"u-bottom-0--1BsqT","u-left-xs":"u-left-xs--2aVvu","u-left-s":"u-left-s--3kE3j","u-left-m":"u-left-m--36gt5","u-left-l":"u-left-l--2d-h1","u-left-xl":"u-left-xl--3hFrA","u-left-xxl":"u-left-xxl--gz965","u-left-0":"u-left-0--29kP6","u-right-xs":"u-right-xs--17vUt","u-right-s":"u-right-s--3g3Lq","u-right-m":"u-right-m--2Abg7","u-right-l":"u-right-l--1J_yB","u-right-xl":"u-right-xl--1SaBe","u-right-xxl":"u-right-xxl--3DXPa","u-right-0":"u-right-0--2tFkX","u-title-h1":"u-title-h1--1SAE6","u-title-h2":"u-title-h2--2bUL8","u-title-h3":"u-title-h3--3yxk1","u-title-h4":"u-title-h4--2gAs1","u-text":"u-text--3RI5Y","u-caption":"u-caption--d81VX","u-uppercase":"u-uppercase--3k7q5","c-input-checkbox--svg":"c-input-checkbox--svg--Bogch","c-input-checkbox-icon":"c-input-checkbox-icon--30X0Q","fil-content":"fil-content--3-eRD","--working":"_--working--2fAwj","spin":"spin--3dzoz"};

/***/ }),

/***/ "8x/v":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-folder-add_a1fa6e49fd974460541f6bfb076d37da",
  "use": "icon-folder-add_a1fa6e49fd974460541f6bfb076d37da-usage",
  "viewBox": "0 0 17 16",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17 16\" id=\"icon-folder-add_a1fa6e49fd974460541f6bfb076d37da\">\n  <path fill-rule=\"evenodd\" d=\"M64,34.0068455 C64,33.4507801 64.4509752,33 64.990778,33 L69.5089948,33 C69.7801695,33 70.1569366,33.1569366 70.3483734,33.3483734 L71.6516266,34.6516266 C71.8440279,34.8440279 72.2307968,35 72.5004358,35 L79.0029699,35 C79.5536144,35 80,35.455761 80,36.0024733 L80,44.9914698 C80,46.1007504 79.1054862,47 78.0059397,47 L65.9940603,47 C64.8927712,47 64,46.1029399 64,44.9941413 L64,34.0068455 Z M73,37 L75,37 L75,40 L78,40 L78,42 L75,42 L75,45 L73,45 L73,42 L70,42 L70,40 L73,40 L73,37 Z\" transform=\"translate(-64 -32)\" />\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "9Etc":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return FilenameInput; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_ui_react_Spinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("V2U0");
/* harmony import */ var drive_styles_filenameinput_styl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("mdCN");
/* harmony import */ var drive_styles_filenameinput_styl__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filenameinput_styl__WEBPACK_IMPORTED_MODULE_7__);








var ENTER_KEY = 13;
var ESC_KEY = 27;

var valueIsEmpty = function valueIsEmpty(value) {
  return value.toString() === '';
};

var FilenameInput =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(FilenameInput, _Component);

  function FilenameInput(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, FilenameInput);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(FilenameInput).call(this, props));
    _this.state = {
      value: props.name || '',
      working: false,
      error: false,
      hasBeenSubmitedOrAborted: false
    };
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FilenameInput, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.textInput.focus();
    }
  }, {
    key: "handleKeyDown",
    value: function handleKeyDown(e) {
      if (e.keyCode === ENTER_KEY && !valueIsEmpty(this.state.value)) {
        this.setState({
          hasBeenSubmitedOrAborted: true
        });
        this.submit();
      } else if (e.keyCode === ESC_KEY) {
        this.setState({
          hasBeenSubmitedOrAborted: true
        });
        this.abort();
      }
    }
  }, {
    key: "handleChange",
    value: function handleChange(e) {
      var value = e.target.value;
      this.setState({
        value: value
      });
      this.props.onChange && this.props.onChange(value);
    }
  }, {
    key: "handleBlur",
    value: function handleBlur() {
      // On top of "normal" blurs, the event happens all the time after a submit or an abort, because this component is removed from the DOM while having the focus.
      // we want to do things only on "normal" blurs, *not* after a submit/abort
      if (!this.state.hasBeenSubmitedOrAborted) {
        // when it's a regular blur, we want to abort, except is the value is non-empty
        if (valueIsEmpty(this.state.value)) this.abort(true);else this.submit();
      }
    }
  }, {
    key: "submit",
    value: function submit() {
      var _this2 = this;

      this.setState({
        working: true,
        error: false
      });
      this.props.onSubmit && this.props.onSubmit(this.state.value).then(function () {
        return _this2.setState({
          working: false
        });
      }).catch(function () {
        return _this2.setState({
          working: false,
          error: true
        });
      });
    }
  }, {
    key: "abort",
    value: function abort() {
      var accidental = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      this.props.onAbort && this.props.onAbort(accidental);
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var _this$state = this.state,
          value = _this$state.value,
          working = _this$state.working,
          error = _this$state.error;
      return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
        "data-test-id": "name-input",
        className: drive_styles_filenameinput_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-file-name-input']
      }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("input", {
        type: "text",
        value: value,
        ref: function ref(input) {
          _this3.textInput = input;
        },
        disabled: working,
        onChange: function onChange(e) {
          return _this3.handleChange(e);
        },
        onBlur: function onBlur() {
          return _this3.handleBlur();
        },
        onKeyDown: function onKeyDown(e) {
          return _this3.handleKeyDown(e);
        },
        className: error ? drive_styles_filenameinput_styl__WEBPACK_IMPORTED_MODULE_7___default.a['error'] : null
      }), working && react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_ui_react_Spinner__WEBPACK_IMPORTED_MODULE_6__["default"], null));
    }
  }]);

  return FilenameInput;
}(react__WEBPACK_IMPORTED_MODULE_5__["Component"]);



/***/ }),

/***/ "9Gq+":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themes", function() { return themes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getItemsByCategory", function() { return getItemsByCategory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getItemById", function() { return getItemById; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getThemeByItem", function() { return getThemeByItem; });
var items = [{
  id: '1',
  classification: 'identity_document',
  subClassification: 'national_id_card',
  label: 'national_id_card'
}, {
  id: '2',
  classification: 'identity_document',
  subClassification: 'passport',
  label: 'passport'
}, {
  id: '3',
  classification: 'identity_document',
  subClassification: 'residence_permit',
  label: 'residence_permit'
}, {
  id: '4',
  classification: 'identity_document',
  subClassification: 'family_record_book',
  label: 'family_record_book',
  defaultTheme: 'theme2'
}, {
  id: '5',
  classification: 'certificate',
  subject: 'life',
  label: 'birth_certificate',
  defaultTheme: 'theme1'
}, {
  id: '6',
  classification: 'diploma',
  subClassification: 'car',
  label: 'driver_license',
  defaultTheme: 'theme6'
}, {
  id: '7',
  classification: 'contract',
  subject: 'wedding',
  label: 'wedding'
}, {
  id: '8',
  classification: 'contract',
  subject: 'pacs',
  label: 'pacs'
}, {
  id: '9',
  classification: 'contract',
  subject: 'divorce',
  label: 'divorce'
}, {
  id: '10',
  classification: 'certificate',
  subject: 'family',
  label: 'large_family_card'
}, {
  id: '11',
  classification: 'certificate',
  subject: 'family',
  label: 'caf'
}, {
  id: '12',
  classification: 'diploma',
  label: 'diploma'
}, {
  id: '13',
  classification: 'contract',
  categorie: 'work',
  label: 'work_contract'
}, {
  id: '14',
  classification: 'payslip',
  label: 'pay_sheet'
}, {
  id: '15',
  classification: 'payslip',
  label: 'unemployment_benefit'
}, {
  id: '16',
  classification: 'payslip',
  label: 'pension'
}, {
  id: '17',
  classification: 'payslip',
  label: 'other_revenue'
}, {
  id: '18',
  classification: 'office',
  categorie: 'study',
  label: 'gradebook'
}, {
  id: '19',
  classification: 'certificate',
  subject: 'health',
  label: 'health_book'
}, {
  id: '20',
  classification: 'certificate',
  subject: 'health',
  categorie: 'insurance',
  label: 'insurance_card'
}, {
  id: '21',
  classification: 'report',
  categorie: 'health',
  label: 'prescription'
}, {
  id: '22',
  classification: 'invoicing',
  categorie: 'health',
  label: 'health_invoice'
}, {
  id: '23',
  classification: 'certificate',
  subject: 'car',
  label: 'registration'
}, {
  id: '24',
  classification: 'certificate',
  subject: 'car',
  label: 'car_insurance'
}, {
  id: '25',
  classification: 'invoicing',
  categorie: 'car',
  label: 'mechanic_invoice'
}, {
  id: '26',
  classification: 'invoicing',
  categorie: 'car',
  label: 'transport_invoice'
}, {
  id: '27',
  classification: 'invoicing',
  categorie: 'phone',
  label: 'phone_invoice'
}, {
  id: '28',
  classification: 'invoicing',
  categorie: 'isp',
  label: 'isp_invoice'
}, {
  id: '29',
  classification: 'invoicing',
  categorie: 'energy',
  label: 'energy_invoice'
}, {
  id: '30',
  classification: 'invoicing',
  categorie: 'web',
  label: 'web_service_invoice'
}, {
  id: '31',
  classification: 'contract',
  subject: 'house',
  label: 'lease'
}, {
  id: '32',
  classification: 'invoicing',
  subClassification: 'payment_statement',
  label: 'rent_receipt'
}, {
  id: '33',
  classification: 'contract',
  subject: 'house',
  label: 'house_insurance'
}, {
  id: '34',
  classification: 'tax_return',
  label: 'tax_return'
}, {
  id: '35',
  classification: 'tax_notice',
  label: 'tax_notice'
}, {
  id: '36',
  classification: 'tax_notice',
  label: 'tax_timetable'
}, {
  id: '37',
  classification: 'invoicing',
  label: 'invoices'
}];
var themes = [{
  id: 'theme1',
  label: 'identity',
  icon: 'people',
  file_type_ids: ['1', '2', '3', '4', '5', '6']
}, {
  id: 'theme2',
  label: 'family',
  icon: 'team',
  file_type_ids: ['4', '5', '7', '8', '9', '10', '11']
}, {
  id: 'theme3',
  label: 'work_study',
  icon: 'company',
  file_type_ids: ['12', '13', '14', '15', '16', '17', '18']
}, {
  id: 'theme4',
  label: 'health',
  icon: 'heart',
  file_type_ids: ['19', '20', '21', '22']
}, {
  id: 'theme5',
  label: 'home',
  icon: 'home',
  file_type_ids: ['31', '32', '33', '27', '28', '29']
}, {
  id: 'theme6',
  label: 'transport',
  icon: 'car',
  file_type_ids: ['6', '23', '24', '25', '26']
}, {
  id: 'theme7',
  label: 'tax',
  icon: 'bank',
  file_type_ids: ['34', '35', '36']
}, {
  id: 'theme8',
  label: 'invoice',
  icon: 'euro',
  file_type_ids: ['27', '28', '29', '26', '30']
}];
var getItemsByCategory = function getItemsByCategory(_ref) {
  var label = _ref.label;
  var items = [];
  themes.map(function (theme) {
    if (theme.label === label) {
      theme.file_type_ids.map(function (itemId) {
        items.push(getItemById(itemId));
      });
    }
  });
  return items;
};
var getItemById = function getItemById(id) {
  return items.find(function (item) {
    return item.id === id;
  });
};
var getThemeByItem = function getThemeByItem(item) {
  if (item.defaultTheme) {
    return themes.find(function (theme) {
      return theme.id === item.defaultTheme;
    });
  }

  return themes.find(function (theme) {
    return theme.file_type_ids.includes(item.id);
  });
};

/***/ }),

/***/ "9Xnv":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"Drive","item_recent":"Recent","item_sharings":"Sharings","item_shared":"Shared by me","item_activity":"Activity","item_trash":"Trash","item_settings":"Settings","item_collect":"Administrative","btn-client":"Get Cozy Drive for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Get Cozy Drive for Desktop and synchronise your files safely to make them accessible at all times.","banner-btn-client":"Download","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Drive","title_recent":"Recent","title_sharings":"Sharings","title_shared":"Shared by me","title_activity":"Activity","title_trash":"Trash"},"Toolbar":{"more":"More"},"toolbar":{"item_upload":"Upload","menu_upload":"Upload files","item_more":"More","menu_new_folder":"New folder","menu_select":"Select items","menu_download_folder":"Download folder","menu_download_file":"Download this file","menu_open_cozy":"Open in my Cozy","empty_trash":"Empty trash","share":"Share","trash":"Remove","leave":"Leave shared folder & delete it"},"Share":{"status":{"owner":"Owner","pending":"Pending","ready":"Accepted","refused":"Refused","error":"Error","unregistered":"Error","mail-not-sent":"Pending","revoked":"Error"},"type":{"one-way":"Can View","two-way":"Can Change","desc":{"one-way":"Contacts can view, download, and add the content to their Cozy. If they add the content to their Cozy, they will get updates you make to the content, but they won't be able to update it.","two-way":"Contacts can update, delete and add the content to their Cozy. Updates on the content will be seen on other Cozies."}},"locked-type-file":"Coming soon: you will be able to change permissions you grant on the file.","locked-type-folder":"Coming soon: you will be able to change permissions you grant on the folder.","recipients":{"you":"You","accessCount":"%{count} people have access"},"create-cozy":"Create my cozy","members":{"count":"1 member |||| %{smart_count} members","others":"and 1 other |||| and %{smart_count} others","otherContacts":"other contact |||| other contacts"},"contacts":{"permissionRequired":{"title":"Save your contacts in your Cozy?","desc":"Authorize the application to access to your Cozy's contacts: you'll be able to select them next time.","action":"Authorize access","success":"The application has access to your contacts"}}},"Sharings":{"unavailable":{"title":"Switch online!","message":"An internet connection is needed to display the list of your last sharings."}},"Files":{"share":{"cta":"Share","title":"Share","details":{"title":"Sharing details","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Cozy. You will get updates by the owner, but you won't be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Cozy. Updates you make will be seen on other Cozies."}},"sharedByMe":"Shared by me","sharedWithMe":"Shared with me","sharedBy":"Shared by %{name}","shareByLink":{"subtitle":"By public link","desc":"Anyone with the provided link can see and download your files.","creating":"Creating your link...","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard"},"shareByEmail":{"subtitle":"By email","email":"To:","emailPlaceholder":"Enter the email address or name of the recipient","send":"Send","genericSuccess":"You sent an invite to %{count} contacts.","success":"You sent an invite to %{email}.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won't be synchrnoized anymore.","success":"You removed this shared file from %{email}."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won't be updated between your Cozy anymore.","success":"You were removed from this sharing."},"sharingLink":{"title":"Link to share","copy":"Copy","copied":"Copied"},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Close","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"Name","head_update":"Last update","head_size":"Size","head_status":"Status","head_thumbnail_size":"Switch thumbnail size","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":"Share (Read only)","row_read_write":"Share (Read & Write)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"Load More","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oldest first","head_updated_at_desc":"Most recent first","head_size_asc":"Lightest first","head_size_desc":"Heavier first"}},"SelectionBar":{"selected_count":"item selected |||| items selected","share":"Share","download":"Download","trash":"Remove","destroy":"Delete permanently","rename":"Rename","restore":"Restore","close":"Close","openWith":"Open with","moveto":"Move to","phone-download":"Make available offline","qualify":"Categorize"},"deleteconfirmation":{"title":"Delete this element? |||| Delete these elements?","trash":"It will be moved to the Trash. |||| They will be moved to the Trash.","restore":"You can still restore it whenever you want. |||| You can still restore them whenever you want.","shared":"The following contacts whom you shared it with will keep a copy but your changes won't be synchronized anymore. |||| The following contacts whom you shared them with will keep a copy but your changes won't be synchronized anymore","referenced":"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.","cancel":"Cancel","delete":"Remove"},"emptytrashconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access these files anymore.","restore":"You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete all"},"destroyconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.","restore":"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete permanently"},"quotaalert":{"title":"Your disk space is full :(","desc":" Please remove files and empty your trash before uploading files again.","confirm":"OK"},"loading":{"message":"Loading"},"empty":{"title":"You dont have any files in this folder.","text":"Click the \"upload\" button to add files to this folder.","trash_title":"You dont have any deleted files.","trash_text":"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."},"error":{"open_folder":"Something went wrong when opening the folder.","button":{"reload":"Refresh now"},"download_file":{"offline":"You should be connected to download this file","missing":"This file is missing"}},"Error":{"public_unshared_title":"Sorry, this link is no longer available.","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!"},"alert":{"could_not_open_file":"The file could not be opened","try_again":"An error has occurred, please try again in a moment.","restore_file_success":"The selection has been successfully restored.","trash_file_success":"The selection has been moved to the Trash.","destroy_file_success":"The selection has been deleted permanently.","empty_trash_progress":"Your trash is being emptied. This might take a few moments.","empty_trash_success":"The trash has been emptied.","folder_name":"The element %{folderName} already exists, please choose a new name.","folder_generic":"An error occurred, please try again.","folder_abort":"You need to add a name to your new folder if you would like to save it. Your information has not been saved.","offline":"This feature is not available offline.","preparing":"Preparing your files"},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Create a Cozy or sign in to access Cozy Drive","button":"Sign in","no_account_link":"I don't have a Cozy","create_my_cozy":"Create my Cozy"},"server_selection":{"title":"Sign in","lostpwd":"[I forgot the address of my Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Address of my Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"other","button":"Next","wrong_address_with_email":"You typed an email address. To connect on your cozy you must type its url, something like https://camillenimbus.mycozy.cloud","wrong_address_v2":"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"This address doesnt seem to be a cozy. Please check the address you provide.","wrong_address_cosy":"Woops, the address is not correct. Try with \"cozy\" with a \"z\"!"},"files":{"title":"Access your drive","description":"In order to save your Cozy Drive on your device, the application must access your files."},"photos":{"title":"Backup your photos and videos","description":"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},"contacts":{"title":"Sync your contacts","description":"Save your phone's contact on your Cozy  this will facilitate sharing files with them."},"step":{"button":"Enable now","skip":"Later","next":"Next"},"analytics":{"title":"Help us improve Cozy","description":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},"settings":{"title":"Settings","about":{"title":"About","app_version":"App Version","account":"Account"},"unlink":{"title":"Sign out of your Cozy","description":"By signing out of your Cozy from this device, you will not lose any data in your Cozy. This will remove your offline files from this device related to your Cozy.","button":"Sign out"},"media_backup":{"media_folder":"Photos","backup_folder":"Backed up from my mobile","legacy_backup_folder":"Backuped from my mobile","title":"Media Backup","images":{"title":"Backup images","label":"Backup your images automatically to your Cozy not to ever lose them and share them easily."},"launch":"Launch Backup","stop":"Stop Backup","wifi":{"title":"Backup on WIFI only","label":"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},"media_upload":"%{smart_count} remaining picture |||| %{smart_count} remaining pictures","media_uptodate":"Media backup is up-to-date","preparing":"Searching for media to backup...","no_wifi":"Please connect to a WIFI","quota":"Storage limit nearly reached","quota_contact":"Manage your storage space"},"support":{"title":"Support","analytics":{"title":"Help us improve Cozy","label":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},"feedback":{"title":"Help improve Cozy Drive","description":"Send your feedback to help us improve Cozy Drive. Click on the button below, explain the problem or make a suggestion and send it. You're done!","button":"leave feedback"},"logs":{"title":"Help us to understand your problem","description":"Send the application log to help us improve its quality and stability.","button":"Send my logs","success":"Thanks, we will investigate your problem and contact you soon.","error":"A problem happened, logs couldn't be sent, please try again."}},"contacts":{"title":"Contacts","subtitle":"Import contacts","text":"Import the contacts from your device to your Cozy to easily share content with them."}},"error":{"open_with":{"offline":"You should be connected to open this file","noapp":"No application can open this file"},"make_available_offline":{"offline":"You should be connected to open this file","noapp":"No application can open this file"}},"revoked":{"title":"Access revoked","description":"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.","loginagain":"Log in again","logout":"Log out"},"rating":{"enjoy":{"title":"Enjoying Cozy Drive?","yes":"Yes!","no":"Not really"},"rate":{"title":"Would you mind rating it?","yes":"Let's do that!","no":"No, thanks","later":"Maybe later"},"feedback":{"title":"Would you mind giving us some feedback?","yes":"Send","no":"No, thanks"},"email":{"subject":"Feedback on Cozy Drive","placeholder":"Hello, I think Cozy Drive would be better if"},"alert":{"rated":"Thank you! You're ","declined":"Awesome. You will love the upcoming features. Stay Cozy!","later":"No problem, we'll ask again later.","feedback":"Thank you for the feedback. We'll definitely work on it!"}},"first_sync":{"title":"You are about to start your first photos back up ","tips":"Tips","tip_bed":"Open Cozy Drive before you go to bed or when you don't use your phone.","tip_wifi":"Enable Wi-Fi to preserve your data.","tip_lock":"Disable your lock screen.","result":"In the morning, all your photos will be stored in a safe and secure location.","button":"Got it!"},"notifications":{"backup_paused":"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},"upload":{"alert":{"success":"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.","success_conflicts":"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} file uploaded and %{updatedCount} updated. |||| %{smart_count} files uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} file uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} files uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} file updated. |||| %{smart_count} files updated.","updated_conflicts":"%{smart_count} file updated with %{conflictCount} conflict(s). |||| %{smart_count} files updated with %{conflictCount} conflict(s).","errors":"Errors occurred during the file upload.","network":"You are currenly offline. Please try again once you're connected."}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Uploaded %{done} out of %{total} successfully","close":"close","item":{"pending":"Pending"}},"Viewer":{"close":"Close","noviewer":{"download":"Download this file","openWith":"Open with...","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":"Download"},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":"Retry"},"error":{"noapp":"No application found to handle this file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You're currently offline."}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it's original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it's original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back."},"FileOpenerExternal":{"fileNotFoundError":"Error: file not found"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"You are currently offline and you can't use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}}};

/***/ }),

/***/ "9Xrh":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_flow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("56YH");
/* harmony import */ var lodash_flow__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_flow__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("OjRq");
/* harmony import */ var sharing_propTypes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("G9pQ");
/* harmony import */ var sharing_context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("skT2");
/* harmony import */ var sharing_components_ContactsAndGroupsDataLoader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("2xTg");
/* harmony import */ var sharing_components_ShareModal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("krg7");












var EditableSharingModal = function EditableSharingModal(_ref) {
  var client = _ref.client,
      contacts = _ref.contacts,
      document = _ref.document,
      groups = _ref.groups,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, ["client", "contacts", "document", "groups"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(sharing_components_ContactsAndGroupsDataLoader__WEBPACK_IMPORTED_MODULE_9__["default"], {
    contacts: contacts,
    groups: groups
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(sharing_context__WEBPACK_IMPORTED_MODULE_8__["default"].Consumer, null, function (_ref2) {
    var documentType = _ref2.documentType,
        isOwner = _ref2.isOwner,
        getRecipients = _ref2.getRecipients,
        getSharingLink = _ref2.getSharingLink,
        share = _ref2.share,
        revoke = _ref2.revoke,
        shareByLink = _ref2.shareByLink,
        revokeSharingLink = _ref2.revokeSharingLink,
        hasSharedParent = _ref2.hasSharedParent,
        hasSharedChild = _ref2.hasSharedChild;
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(sharing_components_ShareModal__WEBPACK_IMPORTED_MODULE_10__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      document: document,
      documentType: documentType,
      contacts: contacts,
      createContact: function createContact(contact) {
        return client.create(models__WEBPACK_IMPORTED_MODULE_6__["Contact"].doctype, contact);
      },
      groups: groups,
      recipients: getRecipients(document.id),
      link: getSharingLink(document.id),
      isOwner: isOwner(document.id),
      hasSharedParent: hasSharedParent(document),
      hasSharedChild: hasSharedChild(document),
      onShare: share,
      onRevoke: revoke,
      onShareByLink: shareByLink,
      onRevokeLink: revokeSharingLink
    }, rest));
  }));
};

EditableSharingModal.propTypes = {
  client: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object.isRequired,
  document: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object,
  contacts: sharing_propTypes__WEBPACK_IMPORTED_MODULE_7__["contactsResponseType"].isRequired,
  groups: sharing_propTypes__WEBPACK_IMPORTED_MODULE_7__["groupsResponseType"].isRequired
};

var contactsQuery = function contactsQuery(client) {
  return client.all(models__WEBPACK_IMPORTED_MODULE_6__["Contact"].doctype).where({
    _id: {
      $gt: null
    },
    trashed: {
      $or: [{
        $eq: false
      }, {
        $exists: false
      }]
    },
    $or: [{
      cozy: {
        $not: {
          $size: 0
        }
      }
    }, {
      email: {
        $not: {
          $size: 0
        }
      }
    }]
  }).indexFields(['_id']);
};

var groupsQuery = function groupsQuery(client) {
  return client.all(models__WEBPACK_IMPORTED_MODULE_6__["Group"].doctype);
};

/* harmony default export */ __webpack_exports__["default"] = (lodash_flow__WEBPACK_IMPORTED_MODULE_4___default()(Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["queryConnect"])({
  contacts: {
    query: contactsQuery,
    as: 'contacts'
  },
  groups: {
    query: groupsQuery,
    as: 'groups'
  }
}), cozy_client__WEBPACK_IMPORTED_MODULE_5__["withClient"])(EditableSharingModal));

/***/ }),

/***/ "9xIA":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _Embeder__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("2eL0");
/* harmony import */ var _URLGetter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("j70F");
/* harmony import */ var _SuggestionProvider__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("HtmO");
/* harmony import */ var _Picker___WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("iKCr");








/* global cozy */






var IntentHandler =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(IntentHandler, _React$Component);

  function IntentHandler(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, IntentHandler);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(IntentHandler).call(this, props));
    _this.state = {
      component: null,
      service: null,
      intent: null
    };
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(IntentHandler, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.startService();
    }
  }, {
    key: "startService",
    value: function () {
      var _startService = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var intentId, component, service, intent;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                intentId = this.props.intentId;
                _context.prev = 1;
                _context.next = 4;
                return cozy.client.intents.createService(intentId, window);

              case 4:
                service = _context.sent;
                intent = service.getIntent();

                if (intent.attributes.action === 'OPEN' && intent.attributes.type === 'io.cozy.suggestions') {
                  component = _SuggestionProvider__WEBPACK_IMPORTED_MODULE_10__["default"];
                } else if (intent.attributes.action === 'OPEN' && intent.attributes.type === 'io.cozy.files') {
                  component = _Embeder__WEBPACK_IMPORTED_MODULE_8__["default"];
                } else if (intent.attributes.action === 'PICK' && intent.attributes.type === 'io.cozy.files') {
                  component = _Picker___WEBPACK_IMPORTED_MODULE_11__["default"];
                } else if (intent.attributes.action === 'GET_URL') {
                  component = _URLGetter__WEBPACK_IMPORTED_MODULE_9__["default"];
                }

                this.setState({
                  component: component,
                  service: service,
                  intent: intent
                });
                _context.next = 13;
                break;

              case 10:
                _context.prev = 10;
                _context.t0 = _context["catch"](1);
                service.throw(_context.t0);

              case 13:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[1, 10]]);
      }));

      function startService() {
        return _startService.apply(this, arguments);
      }

      return startService;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
          service = _this$state.service,
          intent = _this$state.intent;
      var ServiceComponent = this.state.component;
      return ServiceComponent ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(ServiceComponent, {
        service: service,
        intent: intent
      }) : null;
    }
  }]);

  return IntentHandler;
}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (IntentHandler);

/***/ }),

/***/ "A3Xe":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "REF_PHOTOS", function() { return REF_PHOTOS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "REF_UPLOAD", function() { return REF_UPLOAD; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "REF_BACKUP", function() { return REF_BACKUP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getReferencedFolders", function() { return getReferencedFolders; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOrCreateFolderWithReference", function() { return getOrCreateFolderWithReference; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("z6Q1");



var REF_PHOTOS = "".concat(drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__["DOCTYPE_APPS"], "/photos");
var REF_UPLOAD = "".concat(drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__["DOCTYPE_APPS"], "/photos/upload");
var REF_BACKUP = "".concat(drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__["DOCTYPE_APPS"], "/photos/mobile");
var getReferencedFolders =
/*#__PURE__*/
function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, reference) {
    var _ref2, included;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return client.collection(drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__["DOCTYPE_FILES"]).findReferencedBy({
              _type: drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__["DOCTYPE_APPS"],
              _id: reference
            });

          case 2:
            _ref2 = _context.sent;
            included = _ref2.included;
            return _context.abrupt("return", included.filter(function (folder) {
              return /^\/\.cozy_trash/.test(folder.attributes.path) === false;
            }));

          case 5:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function getReferencedFolders(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();
var getOrCreateFolderWithReference =
/*#__PURE__*/
function () {
  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(client, path, reference) {
    var existingFolders, collection, dirId, _ref4, dirInfos;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return getReferencedFolders(client, reference);

          case 2:
            existingFolders = _context2.sent;

            if (!existingFolders.length) {
              _context2.next = 7;
              break;
            }

            return _context2.abrupt("return", existingFolders[0]);

          case 7:
            collection = client.collection(drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__["DOCTYPE_FILES"]);
            _context2.next = 10;
            return collection.ensureDirectoryExists(path);

          case 10:
            dirId = _context2.sent;
            _context2.next = 13;
            return collection.addReferencesTo({
              _id: reference,
              _type: drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__["DOCTYPE_APPS"]
            }, [{
              _id: dirId
            }]);

          case 13:
            _context2.next = 15;
            return collection.get(dirId);

          case 15:
            _ref4 = _context2.sent;
            dirInfos = _ref4.data;
            return _context2.abrupt("return", dirInfos);

          case 18:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function getOrCreateFolderWithReference(_x3, _x4, _x5) {
    return _ref3.apply(this, arguments);
  };
}();

/***/ }),

/***/ "AGQC":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7jrE");
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("H+Xc");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("JyWO");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_6__);








var CategoryGridItem = function CategoryGridItem(_ref) {
  var _classNames;

  var isSelected = _ref.isSelected,
      icon = _ref.icon,
      theme = _ref.theme,
      label = _ref.label;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_6___default.a['grid-item'], 'u-pb-half u-ph-half u-bxz  u-ellipsis u-c-pointer', (_classNames = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_classNames, _styles_styl__WEBPACK_IMPORTED_MODULE_6___default.a['border-selected'], isSelected), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_classNames, _styles_styl__WEBPACK_IMPORTED_MODULE_6___default.a['grid-item__selected'], isSelected && label), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_classNames, _styles_styl__WEBPACK_IMPORTED_MODULE_6___default.a['grid-item__selected__without_label'], isSelected && !label), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_classNames, _styles_styl__WEBPACK_IMPORTED_MODULE_6___default.a['border-not-selected'], !isSelected), _classNames))
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "u-pos-relative"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_5__["Icon"], {
    icon: 'file-duotone',
    size: '32',
    color: isSelected ? cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_4___default.a.dodgerBlue : cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_4___default.a.coolGrey
  }), icon && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_5__["Icon"], {
    icon: icon,
    color: isSelected ? cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_4___default.a.dodgerBlue : cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_4___default.a.coolGrey,
    size: '16',
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_6___default.a['icon-absolute-centered'])
  })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "u-flex u-flex-column u-ellipsis u-bxz"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_6___default.a['grid-item-theme'], 'u-ellipsis')
  }, theme), label && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_6___default.a['grid-item-label'], 'u-ellipsis')
  }, label)));
};

CategoryGridItem.propTypes = {
  isSelected: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  icon: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
  theme: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  label: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string
};
/* harmony default export */ __webpack_exports__["default"] = (CategoryGridItem);

/***/ }),

/***/ "AJyi":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"","item_recent":"","item_sharings":"","item_shared":"","item_activity":"","item_trash":"","item_settings":"","item_collect":"","btn-client":" Cozy ","btn-client-web":"Cozy ","btn-client-mobile":" Cozy !","banner-txt-client":" Cozy ","banner-btn-client":"","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"","title_recent":"","title_sharings":"","title_shared":"","title_activity":"","title_trash":""},"Toolbar":{"more":""},"toolbar":{"item_upload":"","menu_upload":"","item_more":"","menu_new_folder":"","menu_select":"","menu_download_folder":"","menu_download_file":"","menu_open_cozy":" Cozy ","empty_trash":"","share":"","trash":"","leave":""},"Share":{"status":{"owner":"","pending":"","ready":"","refused":"","error":"","unregistered":"","mail-not-sent":"","revoked":""},"type":{"one-way":"","two-way":"","desc":{"one-way":"Cozy Cozy","two-way":"Cozy Cozy"}},"locked-type-file":": ","locked-type-folder":": ","recipients":{"you":"","accessCount":"%{count} "},"create-cozy":" Cozy ","members":{"count":"1  |||| %{smart_count} ","others":" 1  ||||  %{smart_count} ","otherContacts":" |||| "},"contacts":{"permissionRequired":{"title":"Cozy ?","desc":"Cozy: ","action":"","success":""}}},"Sharings":{"unavailable":{"title":"!","message":""}},"Files":{"share":{"cta":"","title":"","details":{"title":"","createdAt":" %{date}","ro":"","rw":"","desc":{"ro":" Cozy  ","rw":" Cozy   Cozy "}},"sharedByMe":"","sharedWithMe":"","sharedBy":"%{name} ","shareByLink":{"subtitle":"","desc":"","creating":"...","copy":"","copied":"","failed":""},"shareByEmail":{"subtitle":"","email":":","emailPlaceholder":"","send":"","genericSuccess":"%{count} ","success":" %{email} ","comingsoon":"!  !","onlyByLink":" %{type} ","type":{"file":"","folder":""},"hasSharedParent":"","hasSharedChild":""},"revoke":{"title":"","desc":"","success":" %{email} "},"revokeSelf":{"title":"","desc":" Cozy ","success":""},"sharingLink":{"title":"","copy":"","copied":""},"whoHasAccess":{"title":"1  |||| %{smart_count} "},"protectedShare":{"title":"!","desc":"!"},"close":"","gettingLink":"...","error":{"generic":"","revoke":" "},"specialCase":{"base":" %{type} ","isInSharedFolder":"","hasSharedFolder":""}},"viewer-fallback":"","dropzone":{"teaser":":","noFolderSupport":" "}},"table":{"head_name":"","head_update":"","head_size":"","head_status":"","head_thumbnail_size":"","row_update_format":"yyyy/MM/dd","row_update_format_full":"YYYY/MM/DD","row_read_only":" ()","row_read_write":" ()","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"","head_updated_at_desc":"","head_size_asc":"","head_size_desc":""}},"SelectionBar":{"selected_count":" |||| ","share":"","download":"","trash":"","destroy":"","rename":"","restore":"","close":"","openWith":"...","moveto":"","phone-download":"","qualify":""},"deleteconfirmation":{"title":"? |||| ?","trash":" |||| ","restore":" |||| ","shared":" |||| ","referenced":"","cancel":"","delete":""},"emptytrashconfirmation":{"title":"?","forbidden":"","restore":"","cancel":"","delete":""},"destroyconfirmation":{"title":"?","forbidden":" |||| ","restore":" |||| ","cancel":"","delete":""},"quotaalert":{"title":" :(","desc":"","confirm":"OK"},"loading":{"message":""},"empty":{"title":"","text":"\"\" ","trash_title":"","trash_text":""},"error":{"open_folder":"","button":{"reload":""},"download_file":{"offline":"","missing":""}},"Error":{"public_unshared_title":"","public_unshared_text":" !"},"alert":{"could_not_open_file":"","try_again":"","restore_file_success":"","trash_file_success":"","destroy_file_success":"","empty_trash_progress":"","empty_trash_success":"","folder_name":" %{folderName} ","folder_generic":"","folder_abort":" ","offline":"","preparing":""},"mobile":{"onboarding":{"welcome":{"title":"Cozy ","desc":"Cozy  Cozy ","button":"","no_account_link":" Cozy ","create_my_cozy":" Cozy "},"server_selection":{"title":"","lostpwd":"[ Cozy ](https://manager.cozycloud.cc/cozy/reminder)","label":" Cozy ","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"","button":"","wrong_address_with_email":"Cozy  https://camillenimbus.mycozy.cloud  URL ","wrong_address_v2":" Cozy   [](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":" Cozy  ","wrong_address_cosy":" \"cozy\"  \"z\" !"},"files":{"title":"","description":" Cozy "},"photos":{"title":"","description":" Cozy "},"contacts":{"title":"","description":" Cozy   "},"step":{"button":"","skip":"","next":""},"analytics":{"title":"Cozy ","description":" ()  Cozy  "}},"settings":{"title":"","about":{"title":"","app_version":"","account":""},"unlink":{"title":"Cozy ","description":" Cozy  Cozy  Cozy ","button":""},"media_backup":{"media_folder":"Photos","backup_folder":"","legacy_backup_folder":"","title":"","images":{"title":"","label":" Cozy "},"launch":"","stop":"","wifi":{"title":"WIFI ","label":" WIFI "},"media_upload":"%{smart_count}  |||| %{smart_count} ","media_uptodate":"","preparing":"...","no_wifi":"WIFI ","quota":"","quota_contact":""},"support":{"title":"","analytics":{"title":"Cozy ","label":" ()  Cozy  "},"feedback":{"title":"Cozy ","description":"Cozy !","button":""},"logs":{"title":"","description":"","button":"","success":"","error":""}},"contacts":{"title":"","subtitle":"","text":" Cozy "}},"error":{"open_with":{"offline":"","noapp":""},"make_available_offline":{"offline":"","noapp":""}},"revoked":{"title":"","description":" Cozy  contact@cozycloud.cc   Cozy ","loginagain":"","logout":""},"rating":{"enjoy":{"title":"Cozy ?","yes":"!","no":""},"rate":{"title":"?","yes":"!","no":"","later":""},"feedback":{"title":"?","yes":"","no":""},"email":{"subject":"Cozy ","placeholder":"Cozy ..."},"alert":{"rated":"!  ","declined":" Cozy !","later":"","feedback":" !"}},"first_sync":{"title":" ","tips":"","tip_bed":"Cozy ","tip_wifi":"Wi-Fi ","tip_lock":"","result":"","button":"!"},"notifications":{"backup_paused":" "}},"upload":{"alert":{"success":"%{smart_count}  |||| %{smart_count} ","success_conflicts":"%{smart_count}  %{conflictNumber}  ||||  %{conflictNumber} ","success_updated":"%{smart_count}  %{updatedCount}  |||| %{smart_count}  %{updatedCount} ","success_updated_conflicts":"%{smart_count} , %{updatedCount}  %{conflictCount}  |||| %{smart_count}  %{updatedCount}  %{conflictCount} ","updated":"%{smart_count}  |||| %{smart_count} ","updated_conflicts":"%{smart_count}  %{conflictCount}  |||| %{smart_count}  %{conflictCount} ","errors":"","network":" "}},"intents":{"alert":{"error":""},"picker":{"select":"","cancel":"","new_folder":"","instructions":""}},"UploadQueue":{"header":"%{smart_count}  Cozy  |||| %{smart_count}  Cozy ","header_mobile":" %{done} / %{total}","header_done":"%{done} / %{total} ","close":"","item":{"pending":""}},"Viewer":{"close":"","noviewer":{"download":"","openWith":"...","cta":{"saveTime":"!","installDesktop":"","accessFiles":""}},"actions":{"download":""},"loading":{"error":" ?","retry":""},"error":{"noapp":"","generic":"","noNetwork":""}},"Move":{"to":":","action":"","cancel":"","modalTitle":"","title":"%{smart_count}  |||| %{smart_count} ","success":"%{subject}  %{target}  |||| %{smart_count}  %{target} ","error":" |||| ","cancelled":"%{subject}  |||| %{smart_count} ","cancelledWithRestoreErrors":"%{subject}  |||| %{smart_count}  %{restoreErrorsCount} ","cancelled_error":" |||| "},"FileOpenerExternal":{"fileNotFoundError":": "},"TOS":{"updated":{"title":"GDPR  !","detail":"[](%{link}) 2018  5  25  Cozy ","cta":"","disconnect":"","error":""}},"manifest":{"permissions":{"contacts":{"description":""},"groups":{"description":""}}},"models":{"contact":{"defaultDisplayName":""}},"Scan":{"scan_a_doc":"","save_doc":"","filename":"","save":"","cancel":"","qualify":"","apply":"","error":{"offline":" ","uploading":" ","generic":""},"successful":{"qualified_ok":"!"},"items":{"identity":"ID","family":"","work_study":"","health":"","home":"","transport":"","invoice":"","others":"","national_id_card":"ID ","passport":"","residence_permit":"","family_record_book":"","birth_certificate":"","driver_license":"","wedding":"","pacs":"","divorce":"","large_family_card":"","caf":"","diploma":"","work_contract":"","pay_sheet":"","unemployment_benefit":"","pension":"","other_revenue":"","gradebook":"","health_book":"","insurance_card":"","prescription":"","health_invoice":"","registration":"","car_insurance":"","mechanic_invoice":"","transport_invoice":"","phone_invoice":"","isp_invoice":"ISP ","energy_invoice":"","web_service_invoice":"Web ","lease":"","house_insurance":"","rent_receipt":"","tax_return":"","tax_notice":"","tax_timetable":"","invoices":""},"themes":{"identity":"ID","family":"","work_study":"","health":"","home":"","transport":"","invoice":"","others":"","undefined":"","tax":""}}};

/***/ }),

/***/ "AnwN":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-list_eb4be84b8e983bfc674592d4a3cf78da",
  "use": "icon-list_eb4be84b8e983bfc674592d4a3cf78da-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" id=\"icon-list_eb4be84b8e983bfc674592d4a3cf78da\">\n    <path fill-rule=\"evenodd\" d=\"M0 0h4v4H0V0zm6 0h10v4H6V0zM0 6h4v4H0V6zm6 0h10v4H6V6zm-6 6h4v4H0v-4zm6 0h10v4H6v-4z\" />\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "AzIT":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"coz-btn-client":"coz-btn-client--1LuMZ","coz-banner-client":"coz-banner-client--xEL17","coz-btn-clientMobile":"coz-btn-clientMobile--3n2yA","coz-banner-text":"coz-banner-text--tBptv","close-banner":"close-banner---KAV7","spin":"spin--2_Zjm","shake":"shake--1oABm"};

/***/ }),

/***/ "BEGz":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAuthorized", function() { return isAuthorized; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isRevoked", function() { return isRevoked; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getToken", function() { return getToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getClientSettings", function() { return getClientSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOnboardingInformations", function() { return getOnboardingInformations; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isClientRevoked", function() { return isClientRevoked; });
/* harmony import */ var drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("cSBT");


var getProp = function getProp(state, key) {
  if (state.mobile && state.mobile.authorization && state.mobile.authorization[key] !== undefined) {
    return state.mobile.authorization[key];
  }

  return undefined;
};

var isAuthorized = function isAuthorized(state) {
  return getProp(state, 'authorized');
};
var isRevoked = function isRevoked(state) {
  return getProp(state, 'revoked');
};
var getToken = function getToken(state) {
  return getProp(state, 'token');
};
var getClientSettings = function getClientSettings(state) {
  return getProp(state, 'client');
};
var getOnboardingInformations = function getOnboardingInformations(state) {
  return getProp(state, 'onboarding');
};
var isClientRevoked = function isClientRevoked(error, state) {
  return Object(drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_0__["getServerUrl"])(state) && (error.status === 404 || error.status === 401 || error.message.match(/Client has been revoked/));
};

/***/ }),

/***/ "Bicm":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"shared-tooltip":"shared-tooltip--RvIBh","shared-tooltip-list":"shared-tooltip-list--VnQfr"};

/***/ }),

/***/ "Cm82":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-link_784d8d07b6c9bf8edf4207327b6add94",
  "use": "icon-link_784d8d07b6c9bf8edf4207327b6add94-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-link_784d8d07b6c9bf8edf4207327b6add94\">\n    <defs>\n        <path d=\"M8.87940867,3.87953579 C8.48888438,4.27006009 7.8557194,4.27006009 7.46519511,3.87953579 C7.07467081,3.4890115 7.07467081,2.85584652 7.46519511,2.46532223 L9.05304103,0.877476309 C10.2226142,-0.292096843 12.1218341,-0.292252339 13.289659,0.875572597 L14.4691583,2.05507187 C15.6394269,3.22534048 15.6355011,5.12344332 14.4628542,6.29609024 L10.9986358,9.7603087 C9.4643126,11.2946319 6.92867661,11.3430173 5.46519511,9.87953579 C5.07467081,9.4890115 5.07467081,8.85584652 5.46519511,8.46532223 C5.8557194,8.07479794 6.48888438,8.07479794 6.87940867,8.46532223 C7.54950929,9.13542285 8.81932532,9.11119201 9.5844222,8.34609513 L13.0486407,4.88187668 C13.4415455,4.48897179 13.4428522,3.85719292 13.0549447,3.46928543 L11.8754455,2.28978616 C11.488721,1.90306165 10.855831,1.90311347 10.4672546,2.29168987 L8.87940867,3.87953579 Z M6.46519511,11.4653222 C6.8557194,11.0747979 7.48888438,11.0747979 7.87940867,11.4653222 C8.26993296,11.8558465 8.26993296,12.4890115 7.87940867,12.8795358 L6.29156275,14.4673817 C5.12198959,15.6369549 3.22276968,15.6371104 2.05494474,14.4692854 L0.875445471,13.2897862 C-0.294823143,12.1195175 -0.290897366,10.2214147 0.881749556,9.04876778 L4.34596801,5.58454933 C5.88029117,4.05022616 8.41592716,4.00184073 9.87940867,5.46532223 C10.269933,5.85584652 10.269933,6.4890115 9.87940867,6.87953579 C9.48888438,7.27006009 8.8557194,7.27006009 8.46519511,6.87953579 C7.79509448,6.20943517 6.52527845,6.23366601 5.76018157,6.99876289 L2.29596312,10.4629813 C1.90305823,10.8558862 1.90175154,11.4876651 2.28965903,11.8755726 L3.4691583,13.0550719 C3.85588281,13.4417964 4.48877278,13.4417446 4.87734918,13.0531682 L6.46519511,11.4653222 Z\" id=\"icon-link_784d8d07b6c9bf8edf4207327b6add94_path-1\" />\n    </defs>\n    <g id=\"icon-link_784d8d07b6c9bf8edf4207327b6add94_-icons\" stroke=\"none\" stroke-width=\"1\" fill-rule=\"evenodd\">\n        <g id=\"icon-link_784d8d07b6c9bf8edf4207327b6add94_icons/16/link\">\n            <mask id=\"icon-link_784d8d07b6c9bf8edf4207327b6add94_mask-2\">\n                <use xlink:href=\"#icon-link_784d8d07b6c9bf8edf4207327b6add94_path-1\" />\n            </mask>\n            <use id=\"icon-link_784d8d07b6c9bf8edf4207327b6add94_Mask\" fill-rule=\"nonzero\" xlink:href=\"#icon-link_784d8d07b6c9bf8edf4207327b6add94_path-1\" />\n        </g>\n    </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "Cp2O":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharingTooltip", function() { return SharingTooltip; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TooltipRecipientList", function() { return TooltipRecipientList; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react_tooltip__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("OnOE");
/* harmony import */ var react_tooltip__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_tooltip__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _tooltip_styl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("Bicm");
/* harmony import */ var _tooltip_styl__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_tooltip_styl__WEBPACK_IMPORTED_MODULE_10__);











var SharingTooltip = function SharingTooltip(props) {
  return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_tooltip__WEBPACK_IMPORTED_MODULE_9___default.a, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6___default()({
    place: "bottom",
    effect: "solid",
    className: _tooltip_styl__WEBPACK_IMPORTED_MODULE_10___default.a['shared-tooltip']
  }, props), props.children);
}; // accepts all the props from https://github.com/wwayne/react-tooltip#options

var TooltipRecipientList =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(TooltipRecipientList, _React$Component);

  function TooltipRecipientList() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, TooltipRecipientList);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(TooltipRecipientList).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(TooltipRecipientList, [{
    key: "render",
    value: function render() {
      var t = this.context.t;
      var _this$props = this.props,
          recipientNames = _this$props.recipientNames,
          _this$props$cutoff = _this$props.cutoff,
          cutoff = _this$props$cutoff === void 0 ? 4 : _this$props$cutoff;
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("ul", {
        className: _tooltip_styl__WEBPACK_IMPORTED_MODULE_10___default.a['shared-tooltip-list']
      }, recipientNames.slice(0, cutoff).map(function (name) {
        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("li", {
          key: "key_name_".concat(name)
        }, name);
      }), recipientNames.length > cutoff && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("li", null, t('Share.members.others', {
        smart_count: recipientNames.slice(cutoff).length
      })));
    }
  }]);

  return TooltipRecipientList;
}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(TooltipRecipientList, "contextTypes", {
  t: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired
});

TooltipRecipientList.propTypes = {
  recipientNames: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string),
  cutoff: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.number
};
TooltipRecipientList.defaultProps = {
  recipientNames: [],
  cutoff: 4
};

/***/ }),

/***/ "CsTO":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getServerUrl", function() { return getServerUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isOfflineCapable", function() { return isOfflineCapable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isImagesBackupOn", function() { return isImagesBackupOn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isWifiOnlyOn", function() { return isWifiOnlyOn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAnalyticsOn", function() { return isAnalyticsOn; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("UWrV");


var initialState = {
  serverUrl: '',
  offline: false,
  analytics: false,
  backupImages: false,
  wifiOnly: true
};

var settings = function settings() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case _actions__WEBPACK_IMPORTED_MODULE_1__["SET_URL"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        serverUrl: action.url
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["SET_OFFLINE"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        offline: action.offline
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["SET_ANALYTICS"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        analytics: action.analytics
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["BACKUP_IMAGES"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        backupImages: action.backupImages
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["BACKUP_CONTACTS"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        backupContacts: action.backupContacts
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["WIFI_ONLY"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        wifiOnly: action.wifiOnly
      });

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (settings);

var getSetting = function getSetting(state, key) {
  if (state.mobile && state.mobile.settings && state.mobile.settings[key] !== undefined) {
    return state.mobile.settings[key];
  }

  return undefined;
};

var getServerUrl = function getServerUrl(state) {
  return getSetting(state, 'serverUrl');
};
var isOfflineCapable = function isOfflineCapable(state) {
  return getSetting(state, 'offline');
};
var isImagesBackupOn = function isImagesBackupOn(state) {
  return getSetting(state, 'backupImages');
};
var isWifiOnlyOn = function isWifiOnlyOn(state) {
  return getSetting(state, 'wifiOnly');
};
var isAnalyticsOn = function isAnalyticsOn(state) {
  return getSetting(state, 'analytics');
};

/***/ }),

/***/ "CxWN":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("H+Xc");
/* harmony import */ var _drive_assets_icons_icon_folder_broken_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Xbs7");
/* harmony import */ var _oops_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("/OCp");
/* harmony import */ var _oops_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_oops_styl__WEBPACK_IMPORTED_MODULE_4__);






var reload = function reload() {
  window.location.reload();
};

var Oops = function Oops(_ref) {
  var t = _ref.t;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Empty"], {
    title: t('error.open_folder'),
    icon: _drive_assets_icons_icon_folder_broken_svg__WEBPACK_IMPORTED_MODULE_3__["default"],
    className: _oops_styl__WEBPACK_IMPORTED_MODULE_4___default.a['oops']
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Button"], {
    onClick: reload,
    label: t('error.button.reload')
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_1__["translate"])()(Oops));

/***/ }),

/***/ "D2Hl":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/MKj");
/* harmony import */ var drive_web_modules_filelist_FilenameInput__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("9Etc");
/* harmony import */ var _rename__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("JZSQ");





var RenameInput = function RenameInput(_ref) {
  var name = _ref.name,
      updateRenaming = _ref.updateRenaming,
      rename = _ref.rename,
      abortRenaming = _ref.abortRenaming;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FilenameInput__WEBPACK_IMPORTED_MODULE_2__["default"], {
    name: name,
    onChange: updateRenaming,
    onSubmit: rename,
    onAbort: abortRenaming
  });
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    name: Object(_rename__WEBPACK_IMPORTED_MODULE_3__["getUpdatedName"])(state)
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    updateRenaming: function updateRenaming(name) {
      return dispatch(Object(_rename__WEBPACK_IMPORTED_MODULE_3__["updateFileName"])(name));
    },
    rename: function rename() {
      return dispatch(Object(_rename__WEBPACK_IMPORTED_MODULE_3__["rename"])());
    },
    abortRenaming: function abortRenaming() {
      return dispatch(Object(_rename__WEBPACK_IMPORTED_MODULE_3__["abortRenaming"])());
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(mapStateToProps, mapDispatchToProps)(RenameInput));

/***/ }),

/***/ "DVxU":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("bisv");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_3__);





var UploadProgression = function UploadProgression(_ref) {
  var t = _ref.t,
      current = _ref.current,
      total = _ref.total,
      progress = _ref.progress;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-wrapper']
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("progress", {
    max: total,
    value: current,
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-progress'], _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-progress--global'])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status']
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-progress-pic']
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-content']
  }, t('mobile.settings.media_backup.media_upload', {
    smart_count: total - current
  }), progress !== undefined ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("progress", {
    max: 100,
    value: progress,
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-progress'], _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-progress--individual'])
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['infinite-progress']
  }))));
};

UploadProgression.propTypes = {
  current: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  total: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  progress: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (UploadProgression);

/***/ }),

/***/ "E3qw":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _selectable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TI+A");



var SelectableItem = function SelectableItem(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(props.children, {
    onClick: props.showSelectionBar
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Object(_selectable__WEBPACK_IMPORTED_MODULE_1__["default"])(SelectableItem));

/***/ }),

/***/ "EqME":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SET_TOKEN", function() { return SET_TOKEN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SET_CLIENT", function() { return SET_CLIENT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "REVOKE", function() { return REVOKE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UNREVOKE", function() { return UNREVOKE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UNLINK", function() { return UNLINK; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SET_ONBOARDING", function() { return SET_ONBOARDING; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setClient", function() { return setClient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setToken", function() { return setToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "revokeClient", function() { return revokeClient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "unrevokeClient", function() { return unrevokeClient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "unlink", function() { return unlink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setOnboarding", function() { return setOnboarding; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_mobile_lib_cozy_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q3u0");
/* harmony import */ var drive_store_persistedState__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("1eh9");




var SET_TOKEN = 'SET_TOKEN';
var SET_CLIENT = 'SET_CLIENT';
var REVOKE = 'REVOKE';
var UNREVOKE = 'UNREVOKE';
var UNLINK = 'UNLINK';
var SET_ONBOARDING = 'SET_ONBOARDING';
var setClient = function setClient(client) {
  return {
    type: SET_CLIENT,
    client: client
  };
};
var setToken = function setToken(token) {
  return {
    type: SET_TOKEN,
    token: token
  };
};
var revokeClient = function revokeClient() {
  return {
    type: REVOKE
  };
};
var unrevokeClient = function unrevokeClient() {
  return {
    type: UNREVOKE
  };
};
var unlink = function unlink(client, clientInfo) {
  return (
    /*#__PURE__*/
    function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(dispatch) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                Object(drive_mobile_lib_cozy_helper__WEBPACK_IMPORTED_MODULE_2__["resetClient"])(client, clientInfo);
                _context.next = 3;
                return Object(drive_store_persistedState__WEBPACK_IMPORTED_MODULE_3__["resetPersistedState"])();

              case 3:
                return _context.abrupt("return", dispatch({
                  type: UNLINK
                }));

              case 4:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }()
  );
};
var setOnboarding = function setOnboarding(_ref2) {
  var code = _ref2.code,
      state = _ref2.state,
      cozy_url = _ref2.cozy_url;
  return {
    type: SET_ONBOARDING,
    code: code,
    state: state,
    cozy_url: cozy_url
  };
};

/***/ }),

/***/ "FKqX":
/***/ (function(module) {

module.exports = {"promoteDesktop":{"isActivated":true}};

/***/ }),

/***/ "Fczp":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-list-min_b90fb9f20d1fd4118bc6735785b3db57",
  "use": "icon-list-min_b90fb9f20d1fd4118bc6735785b3db57-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" id=\"icon-list-min_b90fb9f20d1fd4118bc6735785b3db57\">\n    <path fill-rule=\"evenodd\" d=\"M2 13v2H0v-2h2zm14 0v2H4v-2h12zM2 9v2H0V9h2zm14 0v2H4V9h12zM2 5v2H0V5h2zm14 0v2H4V5h12zM2 1v2H0V1h2zm14 0v2H4V1h12z\" />\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "Fnja":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("cLsY");
/* harmony import */ var cozy_ui_react_Button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("KXWi");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("rH+U");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("qxHO");
/* harmony import */ var drive_appMetadata__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("unzg");










/* global cozy */







var FEEDBACK_EMAIL = 'contact@cozycloud.cc';

var FeedbackForm =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(FeedbackForm, _Component);

  function FeedbackForm() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, FeedbackForm);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(FeedbackForm)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "state", {
      sending: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "submitForm",
    /*#__PURE__*/
    function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(e) {
        var t, envInfo, mailContent, mailData;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                e.preventDefault();
                t = _this.context.t;
                envInfo = "Cozy Drive Mobile v".concat(drive_appMetadata__WEBPACK_IMPORTED_MODULE_15__["default"].version) + "\nOn ".concat(navigator.platform) + "\nFrom ".concat(navigator.vendor) + "\n".concat(navigator.userAgent);
                mailContent = _this.textarea.value.toString() + '\n_______________\n' + envInfo;
                mailData = {
                  mode: 'from',
                  to: [{
                    name: 'Support',
                    email: FEEDBACK_EMAIL
                  }],
                  subject: t('mobile.rating.email.subject'),
                  parts: [{
                    type: 'text/plain',
                    body: mailContent
                  }]
                };
                _context.prev = 5;

                _this.setState({
                  sending: true
                });

                Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_14__["logInfo"])("feedback logs: ".concat(_this.textarea.value.toString().substr(0, 40)), cozy.client._url);
                _context.next = 10;
                return cozy.client.jobs.create('sendmail', mailData);

              case 10:
                _context.next = 14;
                break;

              case 12:
                _context.prev = 12;
                _context.t0 = _context["catch"](5);

              case 14:
                _this.clearInput();

                _this.setState({
                  sending: false
                });

                _this.props.onClose(true);

              case 17:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[5, 12]]);
      }));

      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }());

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(FeedbackForm, [{
    key: "registerElement",
    value: function registerElement(element) {
      this.textarea = element;
    }
  }, {
    key: "clearInput",
    value: function clearInput() {
      this.textarea.value = '';
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var onClose = this.props.onClose;
      var sending = this.state.sending;
      var t = this.context.t;
      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_11__["default"], {
        title: t('mobile.rating.feedback.title'),
        dismissAction: function dismissAction() {
          _this2.clearInput();

          onClose(false);
        }
      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_11__["ModalContent"], {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_13___default.a['feedback-form']
      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("form", {
        className: 'coz-form',
        onSubmit: this.submitForm
      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("textarea", {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_13___default.a['feedback-text'],
        placeholder: t('mobile.rating.email.placeholder'),
        ref: this.registerElement.bind(this)
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_13___default.a['button-block']
      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react_Button__WEBPACK_IMPORTED_MODULE_12__["Button"], {
        theme: 'secondary',
        onClick: function onClick(e) {
          e.preventDefault();

          _this2.clearInput();

          onClose(false);
        },
        label: t('mobile.rating.feedback.no')
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react_Button__WEBPACK_IMPORTED_MODULE_12__["Button"], {
        busy: sending,
        label: t('mobile.rating.feedback.yes')
      })))));
    }
  }]);

  return FeedbackForm;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(FeedbackForm, "contextTypes", {
  t: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired
});

FeedbackForm.propTypes = {
  onClose: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (FeedbackForm);

/***/ }),

/***/ "G9pQ":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "contactsResponseType", function() { return contactsResponseType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "groupsResponseType", function() { return groupsResponseType; });
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("OjRq");


var contactsResponseType = prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.shape({
  count: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number,
  data: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.arrayOf(models__WEBPACK_IMPORTED_MODULE_1__["Contact"].propType),
  definition: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object,
  fetchMore: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,
  fetchStatus: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,
  hasMore: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,
  id: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,
  lastError: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,
  lastFetch: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number,
  lastUpdate: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number
});
var groupsResponseType = prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.shape({
  count: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number,
  data: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.arrayOf(models__WEBPACK_IMPORTED_MODULE_1__["Group"].propType),
  definition: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object,
  fetchMore: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,
  fetchStatus: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,
  hasMore: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,
  id: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,
  lastError: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,
  lastFetch: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number,
  lastUpdate: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number
});

/***/ }),

/***/ "GFJL":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _Recipient__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("MzcY");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("H+Xc");












var WhoHasAccess =
/*#__PURE__*/
function (_PureComponent) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(WhoHasAccess, _PureComponent);

  function WhoHasAccess() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, WhoHasAccess);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(WhoHasAccess).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(WhoHasAccess, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          _this$props$isOwner = _this$props.isOwner,
          isOwner = _this$props$isOwner === void 0 ? false : _this$props$isOwner,
          recipients = _this$props.recipients,
          document = _this$props.document,
          documentType = _this$props.documentType,
          onRevoke = _this$props.onRevoke,
          className = _this$props.className;
      var t = this.context.t;
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        className: className
      }, recipients.length > 1 && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__["SubTitle"], null, t("".concat(documentType, ".share.whoHasAccess.title"), {
        smart_count: recipients.length
      })), recipients.map(function (recipient, index) {
        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Recipient__WEBPACK_IMPORTED_MODULE_9__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, recipient, {
          key: "key_r_".concat(index),
          isOwner: isOwner,
          document: document,
          documentType: documentType,
          onRevoke: onRevoke
        }));
      }));
    }
  }]);

  return WhoHasAccess;
}(react__WEBPACK_IMPORTED_MODULE_7__["PureComponent"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(WhoHasAccess, "contextTypes", {
  t: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (WhoHasAccess);

/***/ }),

/***/ "GNTO":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);





var withInstance = function withInstance(client) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
      instance = _useState2[0],
      setInstance = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(),
      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),
      context = _useState4[0],
      setContext = _useState4[1];

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    var fetchData =
    /*#__PURE__*/
    function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var instancePromise, contextPromise, promises, _ref2, _ref3, instanceFetched, contextFetched;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                instancePromise = client.getStackClient().fetchJSON('GET', '/settings/instance');
                contextPromise = client.getStackClient().fetchJSON('GET', '/settings/context');
                promises = [instancePromise, contextPromise];
                _context.next = 6;
                return Promise.all(promises.map(function (p) {
                  return p.catch(function (e) {
                    return e;
                  });
                }));

              case 6:
                _ref2 = _context.sent;
                _ref3 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_ref2, 2);
                instanceFetched = _ref3[0];
                contextFetched = _ref3[1];

                if (!(instanceFetched instanceof Error)) {
                  setInstance(instanceFetched);
                }

                if (!(contextFetched instanceof Error)) {
                  setContext(contextFetched);
                }

                _context.next = 16;
                break;

              case 14:
                _context.prev = 14;
                _context.t0 = _context["catch"](0);

              case 16:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[0, 14]]);
      }));

      return function fetchData() {
        return _ref.apply(this, arguments);
      };
    }();

    fetchData();
  }, []);
  return {
    instance: instance,
    context: context
  };
};

/* harmony default export */ __webpack_exports__["default"] = (withInstance);

/***/ }),

/***/ "GOiR":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_react_Toggle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Vmsy");
/* harmony import */ var react_cozy_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Yo2A");
/* harmony import */ var sharing__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("OsbH");
/* harmony import */ var drive_web_modules_layout_FolderView__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("/mGs");
/* harmony import */ var _DeleteConfirm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("3Cim");
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("Vwdv");
/* harmony import */ var _rename__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("JZSQ");
/* harmony import */ var _files__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("ommj");
/* harmony import */ var drive_web_modules_actionmenu_MenuItem__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("s4+x");
/* harmony import */ var drive_web_modules_move_MoveModal__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("+m2E");
/* harmony import */ var drive_web_modules_drive_Toolbar_components_EditDocumentQualification__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("5Cvz");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("yEaX");
/* harmony import */ var drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("iTW1");
/* harmony import */ var drive_web_modules_navigation_duck_async__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("Kn6A");
/* harmony import */ var drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("32XB");
/* harmony import */ var drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_20__);



/* global __TARGET__ */




















var ShareMenuItem = function ShareMenuItem(_ref, _ref2) {
  var t = _ref2.t;

  var docId = _ref.docId,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, ["docId"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(sharing__WEBPACK_IMPORTED_MODULE_8__["SharedDocument"], {
    docId: docId
  }, function (_ref3) {
    var isSharedWithMe = _ref3.isSharedWithMe;
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(drive_web_modules_actionmenu_MenuItem__WEBPACK_IMPORTED_MODULE_14__["default"], rest, isSharedWithMe ? t('Files.share.sharedWithMe') : t('Files.share.cta'), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(sharing__WEBPACK_IMPORTED_MODULE_8__["SharedRecipients"], {
      className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_20___default.a['fil-actionmenu-recipients'],
      docId: docId,
      size: "small"
    }));
  });
};

ShareMenuItem.contextTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired
};
var MakeAvailableOfflineMenuItem = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])(function (state, ownProps) {
  return {
    checked: Object(drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_18__["isAvailableOffline"])(state, ownProps.file.id)
  };
}, function (dispatch, ownProps) {
  return {
    onToggle: function onToggle() {
      return dispatch(Object(drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_18__["toggleAvailableOffline"])(ownProps.file));
    }
  };
})(function (_ref4) {
  var checked = _ref4.checked,
      onToggle = _ref4.onToggle,
      children = _ref4.children,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref4, ["checked", "onToggle", "children"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(drive_web_modules_actionmenu_MenuItem__WEBPACK_IMPORTED_MODULE_14__["default"], rest, children, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_react_Toggle__WEBPACK_IMPORTED_MODULE_6__["default"], {
    id: children,
    checked: checked,
    onToggle: onToggle
  }));
});

var isAnyFileReferencedByAlbum = function isAnyFileReferencedByAlbum(files) {
  for (var i = 0, l = files.length; i < l; ++i) {
    if (Object(_files__WEBPACK_IMPORTED_MODULE_13__["isReferencedByAlbum"])(files[i])) return true;
  }

  return false;
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    isRenaming: Object(_rename__WEBPACK_IMPORTED_MODULE_12__["isRenaming"])(state),
    renamingFile: Object(_rename__WEBPACK_IMPORTED_MODULE_12__["getRenamingFile"])(state),
    Toolbar: _Toolbar__WEBPACK_IMPORTED_MODULE_11__["default"]
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch, ownProps) {
  var hasWriteAccess = ownProps.hasWriteAccess,
      canMove = ownProps.canMove;
  return {
    actions: Object.assign({}, ownProps.actions, {
      selection: {
        share: {
          action: function action(selected) {
            return dispatch(Object(react_cozy_helpers__WEBPACK_IMPORTED_MODULE_7__["showModal"])(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(sharing__WEBPACK_IMPORTED_MODULE_8__["ShareModal"], {
              document: selected[0],
              documentType: "Files",
              sharingDesc: selected[0].name
            })));
          },
          displayCondition: function displayCondition(selections) {
            return hasWriteAccess && selections.length === 1;
          },
          //eslint-disable-next-line
          Component: function Component(_ref5) {
            var files = _ref5.files,
                rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref5, ["files"]);

            return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ShareMenuItem, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
              docId: files[0].id
            }, rest));
          }
        },
        download:  false ? undefined : {
          action: function action(files) {
            return dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_17__["downloadFiles"])(files));
          }
        },
        trash: {
          action: function action(files) {
            return dispatch(Object(react_cozy_helpers__WEBPACK_IMPORTED_MODULE_7__["showModal"])(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_DeleteConfirm__WEBPACK_IMPORTED_MODULE_10__["default"], {
              files: files,
              referenced: isAnyFileReferencedByAlbum(files),
              onConfirm: function onConfirm() {
                return dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_17__["trashFiles"])(files));
              }
            })));
          },
          displayCondition: function displayCondition() {
            return hasWriteAccess;
          }
        },
        openWith: {
          action: function action(files) {
            return dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_17__["openFileWith"])(files[0].id, files[0].name));
          },
          displayCondition: function displayCondition(selections) {
            return  false && false;
          }
        },
        rename: {
          action: function action(selected) {
            return dispatch(Object(_rename__WEBPACK_IMPORTED_MODULE_12__["startRenamingAsync"])(selected[0]));
          },
          displayCondition: function displayCondition(selections) {
            return hasWriteAccess && selections.length === 1;
          }
        },
        moveto: {
          action: function action(selected) {
            return dispatch(Object(react_cozy_helpers__WEBPACK_IMPORTED_MODULE_7__["showModal"])(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(drive_web_modules_move_MoveModal__WEBPACK_IMPORTED_MODULE_15__["default"], {
              entries: selected
            })));
          },
          displayCondition: function displayCondition() {
            return canMove;
          }
        },
        qualify: {
          action: function action(selected) {
            return dispatch(Object(react_cozy_helpers__WEBPACK_IMPORTED_MODULE_7__["showModal"])(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(drive_web_modules_drive_Toolbar_components_EditDocumentQualification__WEBPACK_IMPORTED_MODULE_16__["default"], {
              document: selected[0],
              onQualified: function onQualified(file) {
                dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_17__["updateFile"])(Object(drive_web_modules_navigation_duck_async__WEBPACK_IMPORTED_MODULE_19__["extractFileAttributes"])(file)));
              }
            })));
          },
          displayCondition: function displayCondition(selections) {
            return selections.length === 1 && Object(_files__WEBPACK_IMPORTED_MODULE_13__["isFile"])(selections[0]);
          }
        },
        'phone-download': {
          displayCondition: function displayCondition(selections) {
            return  false && false;
          },
          //eslint-disable-next-line
          Component: function Component(_ref6) {
            var files = _ref6.files,
                rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref6, ["files"]);

            return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(MakeAvailableOfflineMenuItem, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
              file: files[0]
            }, rest));
          }
        }
      }
    })
  };
};

var ConnectedFolderView = Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_5__["translate"])()(Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])(mapStateToProps, mapDispatchToProps)(drive_web_modules_layout_FolderView__WEBPACK_IMPORTED_MODULE_9__["default"]));

var FolderViewWithSharingContext = function FolderViewWithSharingContext(props) {
  return (// props.displayedFolder is null on the recent file view for example
    !props.displayedFolder ? react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ConnectedFolderView, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
      hasWriteAccess: false
    })) : react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(sharing__WEBPACK_IMPORTED_MODULE_8__["SharedDocument"], {
      docId: props.displayedFolder.id
    }, function (_ref7) {
      var hasWriteAccess = _ref7.hasWriteAccess;
      return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ConnectedFolderView, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
        hasWriteAccess: hasWriteAccess
      }));
    })
  );
};

/* harmony default export */ __webpack_exports__["default"] = (FolderViewWithSharingContext);

/***/ }),

/***/ "GeHB":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-pen-write-16_2d81809ca299a1197d20de636609807e",
  "use": "icon-pen-write-16_2d81809ca299a1197d20de636609807e-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-pen-write-16_2d81809ca299a1197d20de636609807e\">\n    <defs>\n        <path d=\"M9.5,3.50347728 L12.5,6.50347728 L3.03771973,16.0034773 L0,16.0034773 L0,13.0288679 L9.5,3.50347728 Z M14.9121541,0.915631358 L15.0878459,1.0913232 C15.8637772,1.86725444 15.8697383,3.14159072 15.0922712,3.92874355 L14.0307617,5.00347728 L11,2.00347728 L12.0892639,0.914213423 C12.8691444,0.13433284 14.1322429,0.135720196 14.9121541,0.915631358 Z M7,14.0034773 L12.9970707,14.0034773 C13.5509732,14.0034773 14,14.4473421 14,15.0034773 C14,15.555762 13.5536886,16.0034773 13.0024554,16.0034773 L5,16.0034773 L7,14.0034773 Z\" id=\"icon-pen-write-16_2d81809ca299a1197d20de636609807e_path-1\" />\n    </defs>\n    <g id=\"icon-pen-write-16_2d81809ca299a1197d20de636609807e_icons/16/pen-write\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <mask id=\"icon-pen-write-16_2d81809ca299a1197d20de636609807e_mask-2\" fill=\"white\">\n            <use xlink:href=\"#icon-pen-write-16_2d81809ca299a1197d20de636609807e_path-1\" />\n        </mask>\n        <use id=\"icon-pen-write-16_2d81809ca299a1197d20de636609807e_Mask\" fill=\"#95999d\" fill-opacity=\"0.5\" xlink:href=\"#icon-pen-write-16_2d81809ca299a1197d20de636609807e_path-1\" />\n    </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "GpAf":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/MKj");
/* harmony import */ var react_cozy_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("Yo2A");
/* harmony import */ var sharing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("OsbH");
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("fD9B");






var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    share: function share(displayedFolder) {
      return dispatch(Object(react_cozy_helpers__WEBPACK_IMPORTED_MODULE_2__["showModal"])(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(sharing__WEBPACK_IMPORTED_MODULE_3__["ShareModal"], {
        document: displayedFolder,
        documentType: "Files",
        sharingDesc: displayedFolder.name
      })));
    }
  };
};

var shareContainer = function shareContainer(component) {
  return Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(null, mapDispatchToProps)(Object(_toolbar__WEBPACK_IMPORTED_MODULE_4__["default"])(component));
};

/* harmony default export */ __webpack_exports__["default"] = (shareContainer);

/***/ }),

/***/ "Gsrt":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("buk/");
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("OjRq");
/* harmony import */ var drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("ommj");
/* harmony import */ var drive_lib_getMimeTypeIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("QQky");
/* harmony import */ var _MenuItem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("s4+x");
/* harmony import */ var drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("32XB");
/* harmony import */ var drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_8__);










var Menu = function Menu(props) {
  var t = props.t,
      file = props.file,
      actions = props.actions,
      onClose = props.onClose;
  var actionNames = Object.keys(actions).filter(function (actionName) {
    var action = actions[actionName];
    return action.displayCondition === undefined || action.displayCondition([file]);
  });
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["ActionMenu"], {
    className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-mobileactionmenu'],
    onClose: onClose
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MenuHeaderFile, {
    file: file,
    t: t
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("hr", null), actionNames.map(function (actionName) {
    var Component = actions[actionName].Component || _MenuItem__WEBPACK_IMPORTED_MODULE_7__["default"];
    var action = actions[actionName].action;
    var onClick = !action ? undefined : function () {
      var promise = action([file]);
      onClose();
      return promise;
    };
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, {
      key: actionName,
      className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_8___default.a["fil-action-".concat(actionName)],
      onClick: onClick,
      files: [file]
    }, t("SelectionBar.".concat(actionName)));
  }));
};

var MenuHeaderFile = function MenuHeaderFile(_ref) {
  var file = _ref.file,
      t = _ref.t;

  var _CozyFile$splitFilena = models__WEBPACK_IMPORTED_MODULE_4__["CozyFile"].splitFilename(file),
      filename = _CozyFile$splitFilena.filename,
      extension = _CozyFile$splitFilena.extension;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: 'u-p-1 u-flex u-flex-items-center'
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Icon"], {
    icon: Object(drive_lib_getMimeTypeIcon__WEBPACK_IMPORTED_MODULE_6__["default"])(Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_5__["isDirectory"])(file), file.name, file.mime),
    size: 32,
    className: "u-mr-1"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-mobileactionmenu-header'])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-mobileactionmenu-file-name']
  }, filename), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-mobileactionmenu-file-ext']
  }, extension)), file.metadata && file.metadata.label && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-coolGrey u-fz-tiny u-fs-normal u-flex u-flex-items-center"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Icon"], {
    icon: "qualify",
    size: "10"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Caption"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-mobileactionmenu-category'])
  }, t("Scan.items.".concat(file.metadata.label)))))));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])()(Menu));

/***/ }),

/***/ "Gts3":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"","item_recent":"","item_sharings":"","item_shared":"","item_activity":"","item_trash":"","item_settings":"","item_collect":"","btn-client":" Cozy Drive","btn-client-web":" Cozy","btn-client-mobile":" Cozy Drive","banner-txt-client":" Cozy Drive ","banner-btn-client":"","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"","title_recent":"","title_sharings":"","title_shared":"","title_activity":"","title_trash":""},"Toolbar":{"more":""},"toolbar":{"item_upload":"","menu_upload":"","item_more":"","menu_new_folder":"","menu_select":"","menu_download_folder":"","menu_download_file":"","menu_open_cozy":" Cozy ","empty_trash":"","share":"","trash":"","leave":""},"Share":{"status":{"owner":"","pending":"","ready":"","refused":"","error":"","unregistered":"","mail-not-sent":"","revoked":""},"type":{"one-way":"","two-way":"","desc":{"one-way":"Contacts can view, download, and add the content to their Cozy. If they add the content to their Cozy, they will get updates you make to the content, but they won't be able to update it.","two-way":"Contacts can update, delete and add the content to their Cozy. Updates on the content will be seen on other Cozies."}},"locked-type-file":"Coming soon: you will be able to change permissions you grant on the file.","locked-type-folder":"Coming soon: you will be able to change permissions you grant on the folder.","recipients":{"you":"","accessCount":"%{count} "},"create-cozy":" Cozy","members":{"count":"1 member |||| %{smart_count} members","others":" 1  ||||  %{smart_count} ","otherContacts":" |||| "},"contacts":{"permissionRequired":{"title":" Cozy ","desc":" Cozy ","action":"","success":""}}},"Sharings":{"unavailable":{"title":"","message":""}},"Files":{"share":{"cta":"","title":"","details":{"title":"","createdAt":" %{date}","ro":"","rw":"","desc":{"ro":"You can view, download, and add this content to your Cozy. You will get updates by the owner, but you won't be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Cozy. Updates you make will be seen on other Cozies."}},"sharedByMe":"","sharedWithMe":"","sharedBy":" %{name} ","shareByLink":{"subtitle":"","desc":"","creating":"...","copy":"","copied":"","failed":""},"shareByEmail":{"subtitle":"","email":"","emailPlaceholder":"","send":"","genericSuccess":" %{count} ","success":" %{email}","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"","folder":""},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won't be synchrnoized anymore.","success":"You removed this shared file from %{email}."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won't be updated between your Cozy anymore.","success":"You were removed from this sharing."},"sharingLink":{"title":"Link to share","copy":"","copied":""},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":"","desc":"Share anything by email with your family and friends!"},"close":"","gettingLink":"...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"","head_update":"","head_size":"","head_status":"","head_thumbnail_size":"Switch thumbnail size","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":"","row_read_write":"","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"","head_updated_at_desc":"","head_size_asc":"","head_size_desc":""}},"SelectionBar":{"selected_count":"item selected |||| items selected","share":"","download":"","trash":"","destroy":"","rename":"","restore":"","close":"","openWith":" ... ","moveto":"...","phone-download":"","qualify":"Categorize"},"deleteconfirmation":{"title":"Delete this element? |||| Delete these elements?","trash":"It will be moved to the Trash. |||| They will be moved to the Trash.","restore":"You can still restore it whenever you want. |||| You can still restore them whenever you want.","shared":"The following contacts whom you shared it with will keep a copy but your changes won't be synchronized anymore. |||| The following contacts whom you shared them with will keep a copy but your changes won't be synchronized anymore","referenced":"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.","cancel":"","delete":""},"emptytrashconfirmation":{"title":"","forbidden":"You won't be able to access these files anymore.","restore":"You won't be able to restore these files if you didn't make a backup.","cancel":"","delete":""},"destroyconfirmation":{"title":"","forbidden":"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.","restore":"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.","cancel":"","delete":""},"quotaalert":{"title":" :(","desc":"","confirm":"OK"},"loading":{"message":""},"empty":{"title":"","text":" \"\" ","trash_title":"","trash_text":"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."},"error":{"open_folder":"Something went wrong when opening the folder.","button":{"reload":""},"download_file":{"offline":"","missing":""}},"Error":{"public_unshared_title":"","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!"},"alert":{"could_not_open_file":"","try_again":"An error has occurred, please try again in a moment.","restore_file_success":"The selection has been successfully restored.","trash_file_success":"The selection has been moved to the Trash.","destroy_file_success":"The selection has been deleted permanently.","empty_trash_progress":"Your trash is being emptied. This might take a few moments.","empty_trash_success":"The trash has been emptied.","folder_name":"The element %{folderName} already exists, please choose a new name.","folder_generic":"An error occurred, please try again.","folder_abort":"You need to add a name to your new folder if you would like to save it. Your information has not been saved.","offline":"This feature is not available offline.","preparing":"Preparing your files"},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Create a Cozy or sign in to access Cozy Drive","button":"Sign in","no_account_link":"I don't have a Cozy","create_my_cozy":"Create my Cozy"},"server_selection":{"title":"Sign in","lostpwd":"[I forgot the address of my Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Address of my Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"other","button":"Next","wrong_address_with_email":"You typed an email address. To connect on your cozy you must type its url, something like https://camillenimbus.mycozy.cloud","wrong_address_v2":"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"This address doesnt seem to be a cozy. Please check the address you provide.","wrong_address_cosy":"Woops, the address is not correct. Try with \"cozy\" with a \"z\"!"},"files":{"title":"Access your drive","description":"In order to save your Cozy Drive on your device, the application must access your files."},"photos":{"title":"Backup your photos and videos","description":"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},"contacts":{"title":"Sync your contacts","description":"Save your phone's contact on your Cozy  this will facilitate sharing files with them."},"step":{"button":"Enable now","skip":"Later","next":"Next"},"analytics":{"title":"Help us improve Cozy","description":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},"settings":{"title":"","about":{"title":"","app_version":"App ","account":""},"unlink":{"title":" Cozy ","description":" Cozy Cozy  Cozy ","button":""},"media_backup":{"media_folder":"","backup_folder":"","legacy_backup_folder":"","title":"","images":{"title":"","label":" Cozy "},"launch":"","stop":"","wifi":{"title":" WIFI ","label":" WIFI "},"media_upload":" %{smart_count}  ||||  %{smart_count}","media_uptodate":"","preparing":"...","no_wifi":" WIFI","quota":"","quota_contact":""},"support":{"title":"","analytics":{"title":" Cozy","label":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},"feedback":{"title":"Help improve Cozy Drive","description":"Send your feedback to help us improve Cozy Drive. Click on the button below, explain the problem or make a suggestion and send it. You're done!","button":"leave feedback"},"logs":{"title":"Help us to understand your problem","description":"Send the application log to help us improve its quality and stability.","button":"Send my logs","success":"Thanks, we will investigate your problem and contact you soon.","error":"A problem happened, logs couldn't be sent, please try again."}},"contacts":{"title":"Contacts","subtitle":"Import contacts","text":"Import the contacts from your device to your Cozy to easily share content with them."}},"error":{"open_with":{"offline":"You should be connected to open this file","noapp":"No application can open this file"},"make_available_offline":{"offline":"You should be connected to open this file","noapp":"No application can open this file"}},"revoked":{"title":"Access revoked","description":"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.","loginagain":"Log in again","logout":"Log out"},"rating":{"enjoy":{"title":"Enjoying Cozy Drive?","yes":"Yes!","no":"Not really"},"rate":{"title":"Would you mind rating it?","yes":"Let's do that!","no":"No, thanks","later":"Maybe later"},"feedback":{"title":"Would you mind giving us some feedback?","yes":"Send","no":"No, thanks"},"email":{"subject":"Feedback on Cozy Drive","placeholder":"Hello, I think Cozy Drive would be better if"},"alert":{"rated":"Thank you! You're ","declined":"Awesome. You will love the upcoming features. Stay Cozy!","later":"No problem, we'll ask again later.","feedback":"Thank you for the feedback. We'll definitely work on it!"}},"first_sync":{"title":"You are about to start your first photos back up ","tips":"Tips","tip_bed":"Open Cozy Drive before you go to bed or when you don't use your phone.","tip_wifi":"Enable Wi-Fi to preserve your data.","tip_lock":"Disable your lock screen.","result":"In the morning, all your photos will be stored in a safe and secure location.","button":"Got it!"},"notifications":{"backup_paused":"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},"upload":{"alert":{"success":"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.","success_conflicts":"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} file uploaded and %{updatedCount} updated. |||| %{smart_count} files uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} file uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} files uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} file updated. |||| %{smart_count} files updated.","updated_conflicts":"%{smart_count} file updated with %{conflictCount} conflict(s). |||| %{smart_count} files updated with %{conflictCount} conflict(s).","errors":"Errors occurred during the file upload.","network":"You are currenly offline. Please try again once you're connected."}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Uploaded %{done} out of %{total} successfully","close":"close","item":{"pending":"Pending"}},"Viewer":{"close":"Close","noviewer":{"download":"Download this file","openWith":"Open with...","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":"Download"},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":"Retry"},"error":{"noapp":"No application found to handle this file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You're currently offline."}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it's original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it's original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back."},"FileOpenerExternal":{"fileNotFoundError":"Error: file not found"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"You are currently offline and you can't use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}}};

/***/ }),

/***/ "H0cq":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6",
  "use": "icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6\">\n    <defs>\n        <path d=\"M3.00247329,2 C2.45576096,2 2,1.55228475 2,1 C2,0.443864822 2.44882258,0 3.00247329,0 L12.9975267,0 C13.544239,0 14,0.44771525 14,1 C14,1.55613518 13.5511774,2 12.9975267,2 L13,2 L13,3 C13,3.55613518 12.6840146,4.31598541 12.2942268,4.70577316 L9,8 L12.2942268,11.2942268 C12.6840146,11.6840146 13,12.4438648 13,13 L13,14 L12.9975267,14 C13.5511774,14 14,14.4438648 14,15 C14,15.5522847 13.544239,16 12.9975267,16 L3.00247329,16 C2.44882258,16 2,15.5561352 2,15 C2,14.4477153 2.45576096,14 3.00247329,14 L3,14 L3,13 C3,12.4477153 3.31277239,11.6872276 3.70577316,11.2942268 L7,8 L3.70577316,4.70577316 C3.31277239,4.31277239 3,3.55228475 3,3 L3,2 L3.00247329,2 Z M4.5,3 C4.5,3.55228475 4.83559471,4.28765261 5.25944787,4.65095532 L8,7 L10.7405521,4.65095532 C11.1599836,4.29144262 11.5,3.54681396 11.5,3 L4.5,3 Z\" id=\"icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6_path-1\" />\n    </defs>\n    <g id=\"icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6_-icons\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6_icons/16/hourglass\">\n            <mask id=\"icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6_mask-2\" fill=\"white\">\n                <use xlink:href=\"#icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6_path-1\" />\n            </mask>\n            <use id=\"icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6_Mask\" fill=\"#95999d\" fill-opacity=\"0.5\" xlink:href=\"#icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6_path-1\" />\n        </g>\n    </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "HK68":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("fvjX");
/* harmony import */ var redux_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("1mXj");
/* harmony import */ var redux_logger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(redux_logger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var redux_raven_middleware__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("5yeP");
/* harmony import */ var redux_raven_middleware__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(redux_raven_middleware__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("4kcP");
/* harmony import */ var redux_thunk__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("sINF");
/* harmony import */ var _rootReducer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("huNH");
/* harmony import */ var _persistedState__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("1eh9");
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("qxHO");
/* global __DEVELOPMENT__, __TARGET__ */









var configureStore = function configureStore(client, t) {
  var initialState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var middlewares = [redux_thunk__WEBPACK_IMPORTED_MODULE_4__["default"].withExtraArgument({
    client: client,
    t: t
  })];

  if (false) {}

  if (Object(cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_3__["shouldEnableTracking"])() && Object(cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_3__["getTracker"])()) {
    middlewares.push(Object(cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_3__["createTrackerMiddleware"])());
  }

  middlewares.push(Object(redux_logger__WEBPACK_IMPORTED_MODULE_1__["createLogger"])(loggerOptions())); // Enable Redux dev tools

  var composeEnhancers =  true && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || redux__WEBPACK_IMPORTED_MODULE_0__["compose"];
  var rootReducer = Object(_rootReducer__WEBPACK_IMPORTED_MODULE_5__["default"])(client);
  var store = Object(redux__WEBPACK_IMPORTED_MODULE_0__["createStore"])(rootReducer, initialState, composeEnhancers(redux__WEBPACK_IMPORTED_MODULE_0__["applyMiddleware"].apply(void 0, middlewares)));

  if (false) {}

  client.setStore(store);
  return store;
};

var loggerOptions = function loggerOptions() {
  return  true ? {} : undefined;
};

/* harmony default export */ __webpack_exports__["default"] = (configureStore);

/***/ }),

/***/ "HtmO":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _FuzzyPathSearch__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("Opa8");
/* harmony import */ var drive_lib_getFileMimetype__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("Ieni");









/* global cozy */



var TYPE_DIRECTORY = 'directory';

var SuggestionProvider =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(SuggestionProvider, _React$Component);

  function SuggestionProvider() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, SuggestionProvider);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(SuggestionProvider).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(SuggestionProvider, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this = this;

      var intent = this.props.intent;
      this.hasIndexedFiles = false; // re-attach the message listener for the intent to receive the suggestion requests

      window.addEventListener('message', function (event) {
        if (event.origin !== intent.attributes.client) return null;
        var _event$data = event.data,
            query = _event$data.query,
            id = _event$data.id; // sometimes we get messages with undefined query & id, no idea why

        if (query && id) {
          _this.provideSuggestions(query, id, intent);
        }
      });
    }
  }, {
    key: "provideSuggestions",
    value: function () {
      var _provideSuggestions = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(query, id, intent) {
        var searchResults;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (this.hasIndexedFiles) {
                  _context.next = 3;
                  break;
                }

                _context.next = 3;
                return this.indexFiles();

              case 3:
                searchResults = this.fuzzyPathSearch.search(query);
                window.parent.postMessage({
                  type: "intent-".concat(intent._id, ":data"),
                  id: id,
                  suggestions: searchResults.map(function (result) {
                    return {
                      id: result.id,
                      title: result.name,
                      subtitle: result.path,
                      term: result.name,
                      onSelect: 'open:' + result.url,
                      icon: result.icon
                    };
                  })
                }, intent.attributes.client);

              case 5:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function provideSuggestions(_x, _x2, _x3) {
        return _provideSuggestions.apply(this, arguments);
      }

      return provideSuggestions;
    }() // fetches pretty much all the files and preloads FuzzyPathSearch

  }, {
    key: "indexFiles",
    value: function () {
      var _indexFiles = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3() {
        var _this2 = this;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                return _context3.abrupt("return", new Promise(
                /*#__PURE__*/
                function () {
                  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
                  /*#__PURE__*/
                  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(resolve) {
                    var resp, files, folders, notInTrash, notOrphans, normalizedFiles;
                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
                      while (1) {
                        switch (_context2.prev = _context2.next) {
                          case 0:
                            _context2.next = 2;
                            return cozy.client.fetchJSON('GET', "/data/io.cozy.files/_all_docs?include_docs=true");

                          case 2:
                            resp = _context2.sent;
                            files = resp.rows.filter(function (row) {
                              return !row.doc.hasOwnProperty('views');
                            }).map(function (row) {
                              return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({
                                id: row.id
                              }, row.doc);
                            });
                            folders = files.filter(function (file) {
                              return file.type === TYPE_DIRECTORY;
                            });

                            notInTrash = function notInTrash(file) {
                              return !file.trashed && !/^\/\.cozy_trash/.test(file.path);
                            };

                            notOrphans = function notOrphans(file) {
                              return folders.find(function (folder) {
                                return folder._id === file.dir_id;
                              }) !== undefined;
                            };

                            normalizedFiles = files.filter(notInTrash).filter(notOrphans).map(function (file) {
                              var isDir = file.type === TYPE_DIRECTORY;
                              var dirId = isDir ? file._id : file.dir_id;
                              var urlToFolder = "".concat(window.location.origin, "/#/folder/").concat(dirId);
                              var path, url;

                              if (isDir) {
                                path = file.path;
                                url = urlToFolder;
                              } else {
                                var parentDir = folders.find(function (folder) {
                                  return folder._id === file.dir_id;
                                });
                                path = parentDir && parentDir.path ? parentDir.path : '';
                                url = "".concat(urlToFolder, "/file/").concat(file._id);
                              }

                              return {
                                id: file._id,
                                name: file.name,
                                path: path,
                                url: url,
                                icon: getIconUrl(file)
                              };
                            });
                            _this2.fuzzyPathSearch = new _FuzzyPathSearch__WEBPACK_IMPORTED_MODULE_9__["default"](normalizedFiles);
                            _this2.hasIndexedFiles = true;
                            resolve();

                          case 11:
                          case "end":
                            return _context2.stop();
                        }
                      }
                    }, _callee2);
                  }));

                  return function (_x4) {
                    return _ref.apply(this, arguments);
                  };
                }()));

              case 1:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3);
      }));

      function indexFiles() {
        return _indexFiles.apply(this, arguments);
      }

      return indexFiles;
    }()
  }, {
    key: "render",
    value: function render() {
      return null;
    }
  }]);

  return SuggestionProvider;
}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component);

var iconsContext = __webpack_require__("KZBK");

var icons = iconsContext.keys().reduce(function (acc, item) {
  acc[item.replace(/\.\/icon-type-(.*)\.svg/, '$1')] = iconsContext(item);
  return acc;
}, {});

function getIconUrl(file) {
  var keyIcon = file.type === TYPE_DIRECTORY ? 'folder' : Object(drive_lib_getFileMimetype__WEBPACK_IMPORTED_MODULE_10__["getFileMimetype"])(icons)(file.mime, file.name) || 'files';
  var icon = icons[keyIcon].default;
  return "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='".concat(icon.viewBox, "'>").concat(icon.content, "<use href='#").concat(icon.id, "' x='0' y='0' width='32' height='32'/></svg>").replace(/#/g, '%23');
}

/* harmony default export */ __webpack_exports__["default"] = (SuggestionProvider);

/***/ }),

/***/ "Hwxy":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("/MKj");
/* harmony import */ var drive_store_configureStore__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("HK68");











var withReduxStore = function withReduxStore(WrappedComponent) {
  var WithReduxStore =
  /*#__PURE__*/
  function (_Component) {
    _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(WithReduxStore, _Component);

    function WithReduxStore() {
      _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, WithReduxStore);

      return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(WithReduxStore).apply(this, arguments));
    }

    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(WithReduxStore, [{
      key: "render",
      value: function render() {
        var _this$context = this.context,
            client = _this$context.client,
            t = _this$context.t;
        var store = Object(drive_store_configureStore__WEBPACK_IMPORTED_MODULE_9__["default"])(client, t);
        return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_8__["Provider"], {
          store: store
        }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(WrappedComponent, this.props));
      }
    }]);

    return WithReduxStore;
  }(react__WEBPACK_IMPORTED_MODULE_6__["Component"]);

  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(WithReduxStore, "contextTypes", {
    t: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,
    client: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object.isRequired
  });

  WithReduxStore.displayName = "WithReduxStore(".concat(WrappedComponent.displayName || WrappedComponent.name || 'Component', ")");
  return WithReduxStore;
};

/* harmony default export */ __webpack_exports__["default"] = (withReduxStore);

/***/ }),

/***/ "I2Z/":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"u-shake":"u-shake--1_JDP","shake":"shake--Y2Op3","u-o-100":"u-o-100--2d2Nz","u-o-90":"u-o-90--31pSb","u-o-80":"u-o-80--3Ihkd","u-o-70":"u-o-70--YQ27F","u-o-60":"u-o-60--nEE6D","u-o-50":"u-o-50--3dLGa","u-o-40":"u-o-40--imJPw","u-o-30":"u-o-30--IxP_u","u-o-20":"u-o-20--32XM7","u-o-10":"u-o-10--1iaz5","u-o-05":"u-o-05--atgef","u-o-025":"u-o-025--3L2f7","u-o-0":"u-o-0--1NtAo","shared-badge":"shared-badge--2cmgU","--small":"_--small--thdoQ","shared-badge-icon":"shared-badge-icon--V-RtM","--xsmall":"_--xsmall--3hL0z","--by-me":"_--by-me--3gc-L","--with-me":"_--with-me--32UlG","spin":"spin--2woLM"};

/***/ }),

/***/ "IAkC":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var copy_text_to_clipboard__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("WWur");
/* harmony import */ var copy_text_to_clipboard__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(copy_text_to_clipboard__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var cozy_ui_react_Toggle__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("Vmsy");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("67rm");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("OTOu");
/* harmony import */ var _share_styl__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("jrFr");
/* harmony import */ var _share_styl__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_share_styl__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("7jrE");
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_19__);





















var ShareByLink =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(ShareByLink, _React$Component);

  function ShareByLink() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, ShareByLink);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(ShareByLink)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "state", {
      loading: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "toggleShareLink", function (checked) {
      if (checked) {
        _this.createShareLink();
      } else {
        _this.deleteShareLink();
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "copyLinkToClipboard", function () {
      if (copy_text_to_clipboard__WEBPACK_IMPORTED_MODULE_12___default()(_this.props.link)) cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_15__["default"].success("".concat(_this.props.documentType, ".share.shareByLink.copied"));else cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_15__["default"].error("".concat(_this.props.documentType, ".share.shareByLink.failed"));
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(ShareByLink, [{
    key: "createShareLink",
    value: function () {
      var _createShareLink = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                this.setState(function (state) {
                  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
                    loading: true
                  });
                });
                _context.next = 4;
                return this.props.onEnable(this.props.document);

              case 4:
                _context.next = 10;
                break;

              case 6:
                _context.prev = 6;
                _context.t0 = _context["catch"](0);
                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_15__["default"].error("".concat(this.props.documentType, ".share.error.generic"));
                lib_logger__WEBPACK_IMPORTED_MODULE_17__["default"].log(_context.t0);

              case 10:
                _context.prev = 10;
                this.setState(function (state) {
                  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
                    loading: false
                  });
                });
                return _context.finish(10);

              case 13:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[0, 6, 10, 13]]);
      }));

      function createShareLink() {
        return _createShareLink.apply(this, arguments);
      }

      return createShareLink;
    }()
  }, {
    key: "deleteShareLink",
    value: function () {
      var _deleteShareLink = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.prev = 0;
                this.setState(function (state) {
                  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
                    loading: true
                  });
                });
                _context2.next = 4;
                return this.props.onDisable(this.props.document);

              case 4:
                _context2.next = 10;
                break;

              case 6:
                _context2.prev = 6;
                _context2.t0 = _context2["catch"](0);
                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_15__["default"].error("".concat(this.props.documentType, ".share.error.revoke"));
                lib_logger__WEBPACK_IMPORTED_MODULE_17__["default"].log(_context2.t0);

              case 10:
                _context2.prev = 10;
                this.setState(function (state) {
                  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
                    loading: false
                  });
                });
                return _context2.finish(10);

              case 13:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this, [[0, 6, 10, 13]]);
      }));

      function deleteShareLink() {
        return _deleteShareLink.apply(this, arguments);
      }

      return deleteShareLink;
    }()
  }, {
    key: "render",
    value: function render() {
      var t = this.context.t;
      var loading = this.state.loading;
      var _this$props = this.props,
          checked = _this$props.checked,
          documentType = _this$props.documentType;
      return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div", {
        "data-test-id": "share-by-link",
        className: classnames__WEBPACK_IMPORTED_MODULE_16___default()(_share_styl__WEBPACK_IMPORTED_MODULE_18___default.a['share-bylink-header'], 'u-mt-1', 'u-mb-1')
      }, react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["SubTitle"], null, t("".concat(documentType, ".share.shareByLink.subtitle"))), loading && react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["Spinner"], {
        color: cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_19___default.a.dodgerBlue
      }), loading && react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("span", {
        className: _share_styl__WEBPACK_IMPORTED_MODULE_18___default.a['share-bylink-header-creating']
      }, t("".concat(documentType, ".share.shareByLink.creating"))), checked && react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("span", {
        className: _share_styl__WEBPACK_IMPORTED_MODULE_18___default.a['share-bylink-header-dot']
      }), checked && react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("button", {
        "data-test-url": this.props.link,
        className: _share_styl__WEBPACK_IMPORTED_MODULE_18___default.a['share-bylink-header-copybtn'],
        onClick: this.copyLinkToClipboard
      }, t("".concat(documentType, ".share.shareByLink.copy"))), react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_react_Toggle__WEBPACK_IMPORTED_MODULE_13__["default"], {
        id: "share-toggle",
        name: "share",
        checked: checked,
        disabled: loading,
        onToggle: this.toggleShareLink
      })), react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div", {
        className: _share_styl__WEBPACK_IMPORTED_MODULE_18___default.a['share-bylink-desc']
      }, t("".concat(documentType, ".share.shareByLink.desc"))));
    }
  }]);

  return ShareByLink;
}(react__WEBPACK_IMPORTED_MODULE_10___default.a.Component);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(ShareByLink, "contextTypes", {
  t: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (ShareByLink);

/***/ }),

/***/ "IFEr":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "track", function() { return track; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isLinux", function() { return isLinux; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAndroid", function() { return isAndroid; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIOS", function() { return isIOS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DESKTOP_BANNER", function() { return DESKTOP_BANNER; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NOVIEWER_DESKTOP_CTA", function() { return NOVIEWER_DESKTOP_CTA; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isClientAlreadyInstalled", function() { return isClientAlreadyInstalled; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("4kcP");



/* global cozy */

var track = function track(element) {
  var tracker = Object(cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_2__["getTracker"])();
  tracker && tracker.push(['trackEvent', 'interaction', 'desktop-prompt', element]);
};
var isLinux = function isLinux() {
  return window.navigator && window.navigator.appVersion.indexOf('Win') === -1 && window.navigator.appVersion.indexOf('Mac') === -1;
};
var isAndroid = function isAndroid() {
  return window.navigator.userAgent && window.navigator.userAgent.indexOf('Android') >= 0;
};
var isIOS = function isIOS() {
  return window.navigator.userAgent && /iPad|iPhone|iPod/.test(window.navigator.userAgent);
};
var DESKTOP_BANNER = 'desktop_banner';
var NOVIEWER_DESKTOP_CTA = 'noviewer_desktop_cta';
var isClientAlreadyInstalled =
/*#__PURE__*/
function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    var resp;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return cozy.client.fetchJSON('GET', '/settings/clients');

          case 2:
            resp = _context.sent;
            return _context.abrupt("return", resp.some(function (device) {
              return device.attributes.software_id === 'github.com/cozy-labs/cozy-desktop';
            }));

          case 4:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function isClientAlreadyInstalled() {
    return _ref.apply(this, arguments);
  };
}();

/***/ }),

/***/ "Ieni":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFileMimetype", function() { return getFileMimetype; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var mime_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("zB2q");
/* harmony import */ var mime_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mime_types__WEBPACK_IMPORTED_MODULE_1__);



var getMimetypeFromFilename = function getMimetypeFromFilename(name) {
  return mime_types__WEBPACK_IMPORTED_MODULE_1___default.a.lookup(name) || 'application/octet-stream';
};

var mappingMimetypeSubtype = {
  word: 'text',
  text: 'text',
  zip: 'zip',
  pdf: 'pdf',
  spreadsheet: 'sheet',
  excel: 'sheet',
  sheet: 'sheet',
  presentation: 'slide',
  powerpoint: 'slide'
};
var getFileMimetype = function getFileMimetype(collection) {
  return function () {
    var mime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
    var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
    var mimetype = mime === 'application/octet-stream' ? getMimetypeFromFilename(name.toLowerCase()) : mime;

    var _mimetype$split = mimetype.split('/'),
        _mimetype$split2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_mimetype$split, 2),
        type = _mimetype$split2[0],
        subtype = _mimetype$split2[1];

    if (collection[type]) {
      return type;
    }

    if (type === 'application') {
      var existingType = subtype.match(Object.keys(mappingMimetypeSubtype).join('|'));
      return existingType ? mappingMimetypeSubtype[existingType[0]] : undefined;
    }

    return undefined;
  };
};

/***/ }),

/***/ "Ik8/":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _picker_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("u0tP");
/* harmony import */ var _picker_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_picker_styl__WEBPACK_IMPORTED_MODULE_2__);




var OriginHint = function OriginHint(_ref, _ref2) {
  var title = _ref.title,
      icon = _ref.icon;
  var t = _ref2.t;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _picker_styl__WEBPACK_IMPORTED_MODULE_2___default.a['origin-info']
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, icon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    className: _picker_styl__WEBPACK_IMPORTED_MODULE_2___default.a['origin-info-icon'],
    src: icon
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _picker_styl__WEBPACK_IMPORTED_MODULE_2___default.a['origin-info-text']
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, title), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, t('intents.picker.instructions'))));
};

OriginHint.contextTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (OriginHint);

/***/ }),

/***/ "IkgV":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharingFetcher", function() { return SharingFetcher; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPEN_FOLDER_FROM_SHARINGS", function() { return OPEN_FOLDER_FROM_SHARINGS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPEN_FOLDER_FROM_SHARINGS_SUCCESS", function() { return OPEN_FOLDER_FROM_SHARINGS_SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPEN_FOLDER_FROM_SHARINGS_FAILURE", function() { return OPEN_FOLDER_FROM_SHARINGS_FAILURE; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("/MKj");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_web_modules_drive_Container__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("GOiR");
/* harmony import */ var drive_web_modules_navigation_duck_actions__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("QwUF");
/* harmony import */ var sharing_components_SharedDocuments__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("PkQS");
/* harmony import */ var cozy_client_dist_utils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("gfRN");
/* harmony import */ var cozy_client_dist_utils__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_utils__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("yEaX");





















var SharingFetcher =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9___default()(SharingFetcher, _React$Component);

  function SharingFetcher(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this, SharingFetcher);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(SharingFetcher).call(this, props));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default()(_this), "state", {
      error: null
    });

    _this.fetchSharedFiles = null;
    _this.fetchSharedParents = null;
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(SharingFetcher, [{
    key: "fetchSharedDocuments",
    value: function () {
      var _fetchSharedDocuments = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {
        var sharedDocuments, client, resp, parentIds, parentsResp, parents, files, filesWithPath;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                sharedDocuments = this.props.sharedDocuments;
                client = this.context.client;
                _context.prev = 2;
                this.props.startFetch();
                this.setState({
                  error: null
                });
                this.fetchSharedFiles = Object(cozy_client_dist_utils__WEBPACK_IMPORTED_MODULE_19__["cancelable"])(client.collection('io.cozy.files').all({
                  keys: sharedDocuments
                }));
                _context.next = 8;
                return this.fetchSharedFiles;

              case 8:
                resp = _context.sent;
                parentIds = resp.data.map(function (f) {
                  return f.dir_id;
                });
                this.fetchSharedParents = Object(cozy_client_dist_utils__WEBPACK_IMPORTED_MODULE_19__["cancelable"])(client.collection('io.cozy.files').all({
                  keys: parentIds
                }));
                _context.next = 13;
                return this.fetchSharedParents;

              case 13:
                parentsResp = _context.sent;
                parents = parentsResp.data;
                files = resp.data.sort(function (a, b) {
                  if (a.type === 'directory' && b.type !== 'directory') return -1;else if (a.type !== 'directory' && b.type === 'directory') return 1;else return a.name.localeCompare(b.name);
                });
                filesWithPath = files.map(function (file) {
                  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default()({}, file, {
                    path: parents.find(function (d) {
                      return d.id === file.dir_id;
                    }).path
                  });
                });
                this.props.fetchSuccess(filesWithPath);
                _context.next = 23;
                break;

              case 20:
                _context.prev = 20;
                _context.t0 = _context["catch"](2);

                // if the error is a cancelable promise, don't use setState since the component is not mounted anymore
                if (_context.t0.canceled !== true) {
                  this.setState({
                    error: _context.t0
                  });
                  this.props.fetchFailure(_context.t0);
                }

              case 23:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[2, 20]]);
      }));

      function fetchSharedDocuments() {
        return _fetchSharedDocuments.apply(this, arguments);
      }

      return fetchSharedDocuments;
    }()
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      if (!lodash_get__WEBPACK_IMPORTED_MODULE_14___default()(this.props, 'params.folderId')) {
        this.fetchSharedDocuments();
      } else {
        this.props.onFolderOpen(this.props.params.folderId, false);
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      //In order to not dispatch fetch success, we cancel the promises
      if (this.fetchSharedFiles) this.fetchSharedFiles.cancel();
      if (this.fetchSharedParents) this.fetchSharedParents.cancel();
    }
  }, {
    key: "componentDidUpdate",
    value: function () {
      var _componentDidUpdate = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(prevProps) {
        var sharedDocuments, hasNewSharings, isOnSharingsRoot, wasOnSharingsRoot, movedToSharedRoot, movedAwayFromSharedRoot;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                sharedDocuments = this.props.sharedDocuments;
                hasNewSharings = sharedDocuments.length !== prevProps.sharedDocuments.length || sharedDocuments.find(function (id) {
                  return !prevProps.sharedDocuments.includes(id);
                }) !== undefined;
                isOnSharingsRoot = !this.props.params.folderId;
                wasOnSharingsRoot = !prevProps.params.folderId;
                movedToSharedRoot = isOnSharingsRoot && !wasOnSharingsRoot;
                movedAwayFromSharedRoot = !isOnSharingsRoot && wasOnSharingsRoot;

                if (isOnSharingsRoot && hasNewSharings) {
                  // in case the list of sharings changes while we're on the sharings view root
                  this.fetchSharedDocuments();
                } else if (movedToSharedRoot) {
                  // if we start the navigation inside a folder in the sharing view, and navigate back to the root, we need to load the root content again
                  this.fetchSharedDocuments();
                } else if (movedAwayFromSharedRoot) {
                  // in case we open a folder from the root to the sharing view
                  this.props.onFolderOpen(this.props.params.folderId);
                }

              case 7:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function componentDidUpdate(_x) {
        return _componentDidUpdate.apply(this, arguments);
      }

      return componentDidUpdate;
    }()
  }, {
    key: "render",
    value: function render() {
      var otherProps = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, this.props);

      var error = this.state.error;
      var t = this.context.t;
      return error ? react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_15__["Empty"], {
        icon: "cozy",
        title: t('Sharings.unavailable.title'),
        text: t('Sharings.unavailable.message')
      }) : react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(drive_web_modules_drive_Container__WEBPACK_IMPORTED_MODULE_16__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        isTrashContext: false,
        canSort: false,
        canDrop: false,
        canUpload: false,
        canCreateFolder: false,
        canMove: false,
        withFilePath: true
      }, otherProps));
    }
  }]);

  return SharingFetcher;
}(react__WEBPACK_IMPORTED_MODULE_11___default.a.Component);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(SharingFetcher, "contextTypes", {
  client: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.object.isRequired,
  t: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.func.isRequired
});

var ConnectedSharingFetcher = Object(react_redux__WEBPACK_IMPORTED_MODULE_12__["connect"])(null, function (dispatch, ownProps) {
  return {
    startFetch: function startFetch() {
      return dispatch({
        type: drive_web_modules_navigation_duck_actions__WEBPACK_IMPORTED_MODULE_17__["FETCH_SHARINGS"],
        meta: {
          cancelSelection: true
        }
      });
    },
    fetchSuccess: function fetchSuccess(files) {
      return dispatch({
        type: drive_web_modules_navigation_duck_actions__WEBPACK_IMPORTED_MODULE_17__["FETCH_SHARINGS_SUCCESS"],
        fileCount: files.length,
        files: files
      });
    },
    fetchFailure: function fetchFailure(e) {
      return dispatch({
        type: drive_web_modules_navigation_duck_actions__WEBPACK_IMPORTED_MODULE_17__["FETCH_SHARINGS_FAILURE"],
        error: e
      });
    },
    onFolderOpen: function onFolderOpen(folderId) {
      var forceRoutePush = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
      dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_20__["openFolder"])(folderId, OPEN_FOLDER_FROM_SHARINGS, OPEN_FOLDER_FROM_SHARINGS_SUCCESS, OPEN_FOLDER_FROM_SHARINGS_FAILURE));
      if (forceRoutePush) ownProps.router.push(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_20__["getFolderUrl"])(folderId, ownProps.location));
    }
  };
})(SharingFetcher);

var SharingsContainer = function SharingsContainer(props) {
  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(sharing_components_SharedDocuments__WEBPACK_IMPORTED_MODULE_18__["default"], null, function (_ref) {
    var sharedDocuments = _ref.sharedDocuments;
    return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(ConnectedSharingFetcher, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
      sharedDocuments: sharedDocuments
    }));
  });
};

var OPEN_FOLDER_FROM_SHARINGS = 'OPEN_FOLDER_FROM_SHARINGS';
var OPEN_FOLDER_FROM_SHARINGS_SUCCESS = 'OPEN_FOLDER_FROM_SHARINGS_SUCCESS';
var OPEN_FOLDER_FROM_SHARINGS_FAILURE = 'OPEN_FOLDER_FROM_SHARINGS_FAILURE';
/* harmony default export */ __webpack_exports__["default"] = (SharingsContainer);

/***/ }),

/***/ "J3YJ":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var drive_styles_topbar_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("XxWZ");
/* harmony import */ var drive_styles_topbar_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(drive_styles_topbar_styl__WEBPACK_IMPORTED_MODULE_3__);


/* global __TARGET__ */




var Topbar = function Topbar(_ref) {
  var _classNames;

  var children = _ref.children,
      _ref$hideOnMobile = _ref.hideOnMobile,
      hideOnMobile = _ref$hideOnMobile === void 0 ? true : _ref$hideOnMobile;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(drive_styles_topbar_styl__WEBPACK_IMPORTED_MODULE_3___default.a['fil-topbar'], (_classNames = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_classNames, drive_styles_topbar_styl__WEBPACK_IMPORTED_MODULE_3___default.a['mobile'], "browser" === 'mobile'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_classNames, drive_styles_topbar_styl__WEBPACK_IMPORTED_MODULE_3___default.a['hidden-mobile'], hideOnMobile), _classNames))
  }, children);
};

/* harmony default export */ __webpack_exports__["default"] = (Topbar);

/***/ }),

/***/ "JZSQ":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RENAME_SUCCESS", function() { return RENAME_SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isRenaming", function() { return isRenaming; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRenamingFile", function() { return getRenamingFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getUpdatedName", function() { return getUpdatedName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startRenaming", function() { return startRenaming; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateFileName", function() { return updateFileName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "abortRenaming", function() { return abortRenaming; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renamed", function() { return renamed; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startRenamingAsync", function() { return startRenamingAsync; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rename", function() { return rename; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("67rm");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("yEaX");
/* harmony import */ var drive_web_modules_navigation_duck_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("QwUF");
/* harmony import */ var drive_web_modules_navigation_duck_async__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Kn6A");
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("OTOu");




/* global cozy */

 // TODO: Not cool to have to do this... Code below should probably be moved into the local state
// of the RenameInput



 // constants

var START_RENAMING = 'START_RENAMING';
var ABORT_RENAMING = 'ABORT_RENAMING';
var RENAME_SUCCESS = 'RENAME_SUCCESS';
var UPDATE_FILE_NAME = 'UPDATE_FILE_NAME'; // reducers

var initialState = {
  file: null,
  name: null
};

var renameReducer = function renameReducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case START_RENAMING:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default()({}, state, {
        file: action.file,
        name: action.file.name
      });

    case UPDATE_FILE_NAME:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default()({}, state, {
        name: action.name
      });

    case RENAME_SUCCESS:
    case ABORT_RENAMING:
      return initialState;

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (renameReducer); // selectors

var isRenaming = function isRenaming(state) {
  return state.rename !== initialState;
};
var getRenamingFile = function getRenamingFile(state) {
  return state.rename.file;
};
var getUpdatedName = function getUpdatedName(state) {
  return state.rename.name;
}; // action creators sync

var startRenaming = function startRenaming(file) {
  return {
    type: START_RENAMING,
    file: file,
    meta: drive_web_modules_navigation_duck_actions__WEBPACK_IMPORTED_MODULE_5__["META_DEFAULTS"]
  };
};
var updateFileName = function updateFileName(name) {
  return {
    type: UPDATE_FILE_NAME,
    name: name
  };
};
var abortRenaming = function abortRenaming() {
  return {
    type: ABORT_RENAMING
  };
};
var renamed = function renamed(file) {
  return {
    type: RENAME_SUCCESS,
    file: file
  };
}; // action creators async

var startRenamingAsync = function startRenamingAsync(file) {
  return (
    /*#__PURE__*/
    function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(dispatch) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return dispatch(startRenaming(file));

              case 2:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }()
  );
};
var rename = function rename() {
  return (
    /*#__PURE__*/
    function () {
      var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(dispatch, getState) {
        var state, files, renamingFile, updatedName, isExisting, updated;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                state = getState();
                files = Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_4__["getVisibleFiles"])(state);
                renamingFile = getRenamingFile(state);
                updatedName = getUpdatedName(state);
                isExisting = files.find(function (f) {
                  return f.name === updatedName;
                });

                if (!isExisting) {
                  _context2.next = 13;
                  break;
                }

                if (!(isExisting.id === renamingFile.id)) {
                  _context2.next = 11;
                  break;
                }

                dispatch(abortRenaming());
                return _context2.abrupt("return");

              case 11:
                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].error('alert.folder_name', {
                  folderName: name
                });
                throw new Error('alert.folder_name');

              case 13:
                _context2.prev = 13;
                _context2.next = 16;
                return cozy.client.files.updateAttributesById(renamingFile.id, {
                  name: updatedName
                });

              case 16:
                updated = _context2.sent;
                dispatch(renamed(Object(drive_web_modules_navigation_duck_async__WEBPACK_IMPORTED_MODULE_6__["extractFileAttributes"])(updated)));
                _context2.next = 23;
                break;

              case 20:
                _context2.prev = 20;
                _context2.t0 = _context2["catch"](13);
                lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].warn(_context2.t0);

              case 23:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, null, [[13, 20]]);
      }));

      return function (_x2, _x3) {
        return _ref2.apply(this, arguments);
      };
    }()
  );
};

/***/ }),

/***/ "JyWO":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"icon-absolute-centered":"icon-absolute-centered--2BEDt","border-selected":"border-selected--1Z4EY","border-not-selected":"border-not-selected--5buCm","modal-header":"modal-header--1ZOlH","modal-footer":"modal-footer--2KRCJ","grid-item":"grid-item--1COfN","grid-item-title":"grid-item-title--2zXa_","grid-item__selected__without_label":"grid-item__selected__without_label--1R12P","grid-item__selected":"grid-item__selected--9qm7N","grid-item-theme":"grid-item-theme--18BCl","grid-item-label":"grid-item-label--tTes4"};

/***/ }),

/***/ "KEqR":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"Drive","item_recent":"Recent","item_sharings":"Sharings","item_shared":"Shared by me","item_activity":"Activity","item_trash":"Trash","item_settings":"Settings","item_collect":"Administrative","btn-client":"Get Cozy Drive for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Get Cozy Drive for Desktop and synchronise your files safely to make them accessible at all times.","banner-btn-client":"Download","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Drive","title_recent":"Recent","title_sharings":"Sharings","title_shared":"Shared by me","title_activity":"Activity","title_trash":"Trash"},"Toolbar":{"more":"More"},"toolbar":{"item_upload":"Upload","menu_upload":"Upload files","item_more":"More","menu_new_folder":"New folder","menu_select":"Select items","menu_download_folder":"Download folder","menu_download_file":"Download this file","menu_open_cozy":"Open in my Cozy","empty_trash":"Empty trash","share":"Share","trash":"Remove","leave":"Leave shared folder & delete it"},"Share":{"status":{"owner":"Owner","pending":"Pending","ready":"Accepted","refused":"Refused","error":"Error","unregistered":"Error","mail-not-sent":"Pending","revoked":"Error"},"type":{"one-way":"Can View","two-way":"Can Change","desc":{"one-way":"Contacts can view, download, and add the content to their Cozy. If they add the content to their Cozy, they will get updates you make to the content, but they won't be able to update it.","two-way":"Contacts can update, delete and add the content to their Cozy. Updates on the content will be seen on other Cozies."}},"locked-type-file":"Coming soon: you will be able to change permissions you grant on the file.","locked-type-folder":"Coming soon: you will be able to change permissions you grant on the folder.","recipients":{"you":"You","accessCount":"%{count} people have access"},"create-cozy":"Create my cozy","members":{"count":"1 member |||| %{smart_count} members","others":"and 1 other |||| and %{smart_count} others","otherContacts":"other contact |||| other contacts"},"contacts":{"permissionRequired":{"title":"Save your contacts in your Cozy?","desc":"Authorize the application to access to your Cozy's contacts: you'll be able to select them next time.","action":"Authorize access","success":"The application has access to your contacts"}}},"Sharings":{"unavailable":{"title":"Switch online!","message":"An internet connection is needed to display the list of your last sharings."}},"Files":{"share":{"cta":"Share","title":"Share","details":{"title":"Sharing details","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Cozy. You will get updates by the owner, but you won't be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Cozy. Updates you make will be seen on other Cozies."}},"sharedByMe":"Shared by me","sharedWithMe":"Shared with me","sharedBy":"Shared by %{name}","shareByLink":{"subtitle":"By public link","desc":"Anyone with the provided link can see and download your files.","creating":"Creating your link...","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard"},"shareByEmail":{"subtitle":"By email","email":"To:","emailPlaceholder":"Enter the email address or name of the recipient","send":"Send","genericSuccess":"You sent an invite to %{count} contacts.","success":"You sent an invite to %{email}.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won't be synchrnoized anymore.","success":"You removed this shared file from %{email}."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won't be updated between your Cozy anymore.","success":"You were removed from this sharing."},"sharingLink":{"title":"Link to share","copy":"Copy","copied":"Copied"},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Close","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"Name","head_update":"Last update","head_size":"Size","head_status":"Status","head_thumbnail_size":"Switch thumbnail size","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":"Share (Read only)","row_read_write":"Share (Read & Write)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"Load More","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oldest first","head_updated_at_desc":"Most recent first","head_size_asc":"Lightest first","head_size_desc":"Heavier first"}},"SelectionBar":{"selected_count":"item selected |||| items selected","share":"Share","download":"Download","trash":"Remove","destroy":"Delete permanently","rename":"Rename","restore":"Restore","close":"Close","openWith":"Open with","moveto":"Move to","phone-download":"Make available offline","qualify":"Categorize"},"deleteconfirmation":{"title":"Delete this element? |||| Delete these elements?","trash":"It will be moved to the Trash. |||| They will be moved to the Trash.","restore":"You can still restore it whenever you want. |||| You can still restore them whenever you want.","shared":"The following contacts whom you shared it with will keep a copy but your changes won't be synchronized anymore. |||| The following contacts whom you shared them with will keep a copy but your changes won't be synchronized anymore","referenced":"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.","cancel":"Cancel","delete":"Remove"},"emptytrashconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access these files anymore.","restore":"You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete all"},"destroyconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.","restore":"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete permanently"},"quotaalert":{"title":"Your disk space is full :(","desc":" Please remove files and empty your trash before uploading files again.","confirm":"OK"},"loading":{"message":"Loading"},"empty":{"title":"You dont have any files in this folder.","text":"Click the \"upload\" button to add files to this folder.","trash_title":"You dont have any deleted files.","trash_text":"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."},"error":{"open_folder":"Something went wrong when opening the folder.","button":{"reload":"Refresh now"},"download_file":{"offline":"You should be connected to download this file","missing":"This file is missing"}},"Error":{"public_unshared_title":"Sorry, this link is no longer available.","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!"},"alert":{"could_not_open_file":"The file could not be opened","try_again":"An error has occurred, please try again in a moment.","restore_file_success":"The selection has been successfully restored.","trash_file_success":"The selection has been moved to the Trash.","destroy_file_success":"The selection has been deleted permanently.","empty_trash_progress":"Your trash is being emptied. This might take a few moments.","empty_trash_success":"The trash has been emptied.","folder_name":"The element %{folderName} already exists, please choose a new name.","folder_generic":"An error occurred, please try again.","folder_abort":"You need to add a name to your new folder if you would like to save it. Your information has not been saved.","offline":"This feature is not available offline.","preparing":"Preparing your files"},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Create a Cozy or sign in to access Cozy Drive","button":"Sign in","no_account_link":"I don't have a Cozy","create_my_cozy":"Create my Cozy"},"server_selection":{"title":"Sign in","lostpwd":"[I forgot the address of my Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Address of my Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"other","button":"Next","wrong_address_with_email":"You typed an email address. To connect on your cozy you must type its url, something like https://camillenimbus.mycozy.cloud","wrong_address_v2":"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"This address doesnt seem to be a cozy. Please check the address you provide.","wrong_address_cosy":"Woops, the address is not correct. Try with \"cozy\" with a \"z\"!"},"files":{"title":"Access your drive","description":"In order to save your Cozy Drive on your device, the application must access your files."},"photos":{"title":"Backup your photos and videos","description":"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},"contacts":{"title":"Sync your contacts","description":"Save your phone's contact on your Cozy  this will facilitate sharing files with them."},"step":{"button":"Enable now","skip":"Later","next":"Next"},"analytics":{"title":"Help us improve Cozy","description":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},"settings":{"title":"Settings","about":{"title":"About","app_version":"App Version","account":"Account"},"unlink":{"title":"Sign out of your Cozy","description":"By signing out of your Cozy from this device, you will not lose any data in your Cozy. This will remove your offline files from this device related to your Cozy.","button":"Sign out"},"media_backup":{"media_folder":"Photos","backup_folder":"Backed up from my mobile","legacy_backup_folder":"Backuped from my mobile","title":"Media Backup","images":{"title":"Backup images","label":"Backup your images automatically to your Cozy not to ever lose them and share them easily."},"launch":"Launch Backup","stop":"Stop Backup","wifi":{"title":"Backup on WIFI only","label":"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},"media_upload":"%{smart_count} remaining picture |||| %{smart_count} remaining pictures","media_uptodate":"Media backup is up-to-date","preparing":"Searching for media to backup...","no_wifi":"Please connect to a WIFI","quota":"Storage limit nearly reached","quota_contact":"Manage your storage space"},"support":{"title":"Support","analytics":{"title":"Help us improve Cozy","label":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},"feedback":{"title":"Help improve Cozy Drive","description":"Send your feedback to help us improve Cozy Drive. Click on the button below, explain the problem or make a suggestion and send it. You're done!","button":"leave feedback"},"logs":{"title":"Help us to understand your problem","description":"Send the application log to help us improve its quality and stability.","button":"Send my logs","success":"Thanks, we will investigate your problem and contact you soon.","error":"A problem happened, logs couldn't be sent, please try again."}},"contacts":{"title":"Contacts","subtitle":"Import contacts","text":"Import the contacts from your device to your Cozy to easily share content with them."}},"error":{"open_with":{"offline":"You should be connected to open this file","noapp":"No application can open this file"},"make_available_offline":{"offline":"You should be connected to open this file","noapp":"No application can open this file"}},"revoked":{"title":"Access revoked","description":"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.","loginagain":"Log in again","logout":"Log out"},"rating":{"enjoy":{"title":"Enjoying Cozy Drive?","yes":"Yes!","no":"Not really"},"rate":{"title":"Would you mind rating it?","yes":"Let's do that!","no":"No, thanks","later":"Maybe later"},"feedback":{"title":"Would you mind giving us some feedback?","yes":"Send","no":"No, thanks"},"email":{"subject":"Feedback on Cozy Drive","placeholder":"Hello, I think Cozy Drive would be better if"},"alert":{"rated":"Thank you! You're ","declined":"Awesome. You will love the upcoming features. Stay Cozy!","later":"No problem, we'll ask again later.","feedback":"Thank you for the feedback. We'll definitely work on it!"}},"first_sync":{"title":"You are about to start your first photos back up ","tips":"Tips","tip_bed":"Open Cozy Drive before you go to bed or when you don't use your phone.","tip_wifi":"Enable Wi-Fi to preserve your data.","tip_lock":"Disable your lock screen.","result":"In the morning, all your photos will be stored in a safe and secure location.","button":"Got it!"},"notifications":{"backup_paused":"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},"upload":{"alert":{"success":"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.","success_conflicts":"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} file uploaded and %{updatedCount} updated. |||| %{smart_count} files uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} file uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} files uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} file updated. |||| %{smart_count} files updated.","updated_conflicts":"%{smart_count} file updated with %{conflictCount} conflict(s). |||| %{smart_count} files updated with %{conflictCount} conflict(s).","errors":"Errors occurred during the file upload.","network":"You are currenly offline. Please try again once you're connected."}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Uploaded %{done} out of %{total} successfully","close":"close","item":{"pending":"Pending"}},"Viewer":{"close":"Close","noviewer":{"download":"Download this file","openWith":"Open with...","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":"Download"},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":"Retry"},"error":{"noapp":"No application found to handle this file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You're currently offline."}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it's original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it's original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back."},"FileOpenerExternal":{"fileNotFoundError":"Error: file not found"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"You are currently offline and you can't use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}}};

/***/ }),

/***/ "KOJc":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmptyDrive", function() { return EmptyDrive; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmptyPhotos", function() { return EmptyPhotos; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmptyTrash", function() { return EmptyTrash; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_assets_icons_icon_type_folder_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("w0Z6");
/* harmony import */ var photos_assets_icons_icon_main_app_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("a4ea");
/* harmony import */ var drive_assets_icons_icon_trash_big_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Wu9Y");







var EmptyIcon = {
  drive: drive_assets_icons_icon_type_folder_svg__WEBPACK_IMPORTED_MODULE_4__["default"],
  photos: photos_assets_icons_icon_main_app_svg__WEBPACK_IMPORTED_MODULE_5__["default"],
  trash: drive_assets_icons_icon_trash_big_svg__WEBPACK_IMPORTED_MODULE_6__["default"]
};
var EmptyCanvas = Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_2__["translate"])()(function (_ref) {
  var t = _ref.t,
      type = _ref.type,
      canUpload = _ref.canUpload,
      localeKey = _ref.localeKey;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__["Empty"], {
    "data-test-id": "empty-folder",
    icon: EmptyIcon[type],
    title: localeKey ? t("empty.".concat(localeKey, "_title")) : t('empty.title'),
    text: localeKey && t("empty.".concat(localeKey, "_text")) || canUpload && t('empty.text')
  });
});
/* harmony default export */ __webpack_exports__["default"] = (EmptyCanvas);
var EmptyDrive = function EmptyDrive(props) {
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(EmptyCanvas, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    type: "drive"
  }, props));
};
var EmptyPhotos = function EmptyPhotos(props) {
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(EmptyCanvas, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    type: "photos"
  }, props));
};
var EmptyTrash = function EmptyTrash(props) {
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(EmptyCanvas, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    type: "trash",
    localeKey: "trash"
  }, props));
};

/***/ }),

/***/ "KVWx":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"fil-path-backdrop":"fil-path-backdrop--2HADh","fil-path-title":"fil-path-title--3H8Ph","fil-path-link":"fil-path-link--15Jew","fil-path-separator":"fil-path-separator--3inNH","fil-path-previous":"fil-path-previous--259U0","fil-path-down":"fil-path-down--1ckv2","fil-path-current-name":"fil-path-current-name--2SD2e","fil-path-current":"fil-path-current--1UBXf","deployed":"deployed--2RCVz","inlined":"inlined--RyWPf","fil-path-link-name":"fil-path-link-name--1t04B","mobile":"mobile--3-x59"};

/***/ }),

/***/ "KZBK":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./icon-type-audio.svg": "hehj",
	"./icon-type-bin.svg": "Qi6R",
	"./icon-type-code.svg": "5lZ0",
	"./icon-type-files.svg": "nhFO",
	"./icon-type-folder.svg": "w0Z6",
	"./icon-type-image.svg": "TD9l",
	"./icon-type-note.svg": "3nSB",
	"./icon-type-pdf.svg": "gbp9",
	"./icon-type-sheet.svg": "0GJX",
	"./icon-type-slide.svg": "f/2S",
	"./icon-type-text.svg": "xNZN",
	"./icon-type-video.svg": "T3Sg",
	"./icon-type-zip.svg": "pr+u"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "KZBK";

/***/ }),

/***/ "KaFd":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("bisv");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_3__);





var UploadPreparing = function UploadPreparing(_ref) {
  var t = _ref.t;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-wrapper']
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['infinite-progress'], _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['infinite-progress--global'])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status'], _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status--waiting'])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-content']
  }, t('mobile.settings.media_backup.preparing'))));
};

UploadPreparing.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (UploadPreparing);

/***/ }),

/***/ "KftE":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCANNER_IDLE", function() { return SCANNER_IDLE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCANNER_DONE", function() { return SCANNER_DONE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCANNER_UPLOADING", function() { return SCANNER_UPLOADING; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("Le8U");
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(cozy_doctypes__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _ScannerQualification__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("zLEy");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("H+Xc");
/* harmony import */ var _withOffline__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("Tcnr");

















var SCANNER_IDLE = 'idle';
var SCANNER_DONE = 'done';
var SCANNER_UPLOADING = 'uploading';
/**
 * LoadingScreen is used to create a better transition between
 * the native camera and the Qualification Modale.
 *
 * This Overlay has to be in a Modal since the menu item can be
 * closed
 *
 */

var Scanner =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(Scanner, _React$Component);

  function Scanner(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, Scanner);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Scanner).call(this, props));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "state", {
      status: SCANNER_IDLE,
      error: null,
      filename: '',
      shouldShowScannerQualification: false,
      imageURI: '',
      loadingScreen: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "onSuccess",
    /*#__PURE__*/
    function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(imageURI) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _this.setState({
                  error: null,
                  loadingScreen: false,
                  shouldShowScannerQualification: true,
                  imageURI: imageURI
                });

              case 1:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "onUpload",
    /*#__PURE__*/
    function () {
      var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee4(imageURI, qualification) {
        var filename,
            generateName,
            name,
            _this$props,
            dirId,
            onConflict,
            onBeforeUpload,
            onFinish,
            onResolvedLocalFS,
            onError,
            _args4 = arguments;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                filename = _args4.length > 2 && _args4[2] !== undefined ? _args4[2] : '';
                generateName = _this.props.generateName;
                name = filename === '' ? generateName() : filename;

                _this.setState({
                  status: SCANNER_UPLOADING,
                  filename: name
                });

                _this$props = _this.props, dirId = _this$props.dirId, onConflict = _this$props.onConflict, onBeforeUpload = _this$props.onBeforeUpload, onFinish = _this$props.onFinish;

                onResolvedLocalFS =
                /*#__PURE__*/
                function () {
                  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
                  /*#__PURE__*/
                  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(fileEntry) {
                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {
                      while (1) {
                        switch (_context3.prev = _context3.next) {
                          case 0:
                            fileEntry.file(function (file) {
                              var reader = new FileReader();
                              reader.onloadend =
                              /*#__PURE__*/
                              _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
                              /*#__PURE__*/
                              _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2() {
                                var newFile;
                                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
                                  while (1) {
                                    switch (_context2.prev = _context2.next) {
                                      case 0:
                                        _context2.prev = 0;
                                        if (onBeforeUpload) onBeforeUpload();
                                        _context2.next = 4;
                                        return _this.uploadFileWithConflictStrategy(name, reader.result, dirId, onConflict, qualification);

                                      case 4:
                                        newFile = _context2.sent;

                                        //It's possible that the filename as changed, so let's update it
                                        if (onConflict === 'rename') {
                                          _this.setState({
                                            filename: newFile.data.name
                                          });
                                        }

                                        if (onFinish) onFinish();
                                        _context2.next = 12;
                                        break;

                                      case 9:
                                        _context2.prev = 9;
                                        _context2.t0 = _context2["catch"](0);

                                        _this.setState({
                                          error: _context2.t0
                                        });

                                      case 12:
                                        _context2.prev = 12;

                                        _this.setState({
                                          status: SCANNER_DONE
                                        });

                                        return _context2.finish(12);

                                      case 15:
                                      case "end":
                                        return _context2.stop();
                                    }
                                  }
                                }, _callee2, null, [[0, 9, 12, 15]]);
                              })); // Read the file as an ArrayBuffer

                              reader.readAsArrayBuffer(file);
                            }, function (err) {
                              _this.setState({
                                error: err
                              });

                              _this.setState({
                                status: SCANNER_DONE
                              });

                              console.error('error getting fileentry file!' + err);
                            });

                          case 1:
                          case "end":
                            return _context3.stop();
                        }
                      }
                    }, _callee3);
                  }));

                  return function onResolvedLocalFS(_x4) {
                    return _ref3.apply(this, arguments);
                  };
                }();

                onError = function onError(error) {
                  _this.setState({
                    error: error
                  });

                  _this.setState({
                    status: SCANNER_DONE
                  });
                };
                /**
                 * file:/// can not be converted to a fileEntry without the Cordova's File plugin.
                 * `resolveLocalFileSystemURL` is provided by this plugin and can resolve the native
                 * path to a fileEntry readable by a `FileReader`
                 *
                 * When we finished to read the fileEntry as buffer, we start the upload process
                 *
                 */


                window.resolveLocalFileSystemURL(imageURI, onResolvedLocalFS, onError);

              case 8:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4);
      }));

      return function (_x2, _x3) {
        return _ref2.apply(this, arguments);
      };
    }());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "onFail", function (message) {
      _this.setState({
        loadingScreen: false
      });

      console.log('failed', message);
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "startScanner", function () {
      try {
        //
        _this.setState({
          loadingScreen: true
        });

        _this.defaultPluginConfig = {
          quality: 80,
          destinationType: window.navigator.camera.DestinationType.FILE_URI,
          sourceTypes: window.navigator.camera.PictureSourceType.CAMERA,
          correctOrientation: true
        };
        window.navigator.camera.getPicture(_this.onSuccess, _this.onFail, _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, _this.defaultPluginConfig, _this.props.pluginConfig));
      } catch (e) {
        console.error('You have to install cordova camera plugin', e);
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "onClear", function () {
      _this.setState({
        filename: undefined
      });
    });

    if (!cozy_doctypes__WEBPACK_IMPORTED_MODULE_13__["CozyFile"].cozyClient) cozy_doctypes__WEBPACK_IMPORTED_MODULE_13__["CozyFile"].registerClient(_this.props.client);
    return _this;
  }
  /**
   *
   * @param {String} imageURI native path to the file (file:///var....)
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(Scanner, [{
    key: "uploadFileWithConflictStrategy",
    //TODO Put this in Files Doctypes

    /**
     *
     * @param {String} name File Name
     * @param {ArrayBuffer} file data
     * @param {String} dirId dir id when to upload
     * @param {String} onConflict Actually only 2 hardcoded strategies 'erase' or 'rename'
     * @param {Object} metadata An object containing the wanted metadata to attach
     */
    value: function () {
      var _uploadFileWithConflictStrategy = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee5(name, file, dirId, onConflict, metadata) {
        var client, filesCollection, path, existingFile, _existingFile$data, fileId, _dirId, resp, _CozyFile$splitFilena, filename, extension, newFileName;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                client = this.props.client;
                filesCollection = client.collection('io.cozy.files');
                _context5.next = 4;
                return cozy_doctypes__WEBPACK_IMPORTED_MODULE_13__["CozyFile"].getFullpath(dirId, name);

              case 4:
                path = _context5.sent;
                _context5.prev = 5;
                _context5.next = 8;
                return filesCollection.statByPath(path);

              case 8:
                existingFile = _context5.sent;
                _existingFile$data = existingFile.data, fileId = _existingFile$data.id, _dirId = _existingFile$data.dir_id;

                if (!(onConflict === 'erase')) {
                  _context5.next = 17;
                  break;
                }

                _context5.next = 13;
                return filesCollection.updateFile(file, {
                  dirId: _dirId,
                  fileId: fileId,
                  name: name,
                  metadata: metadata
                });

              case 13:
                resp = _context5.sent;
                return _context5.abrupt("return", resp);

              case 17:
                _CozyFile$splitFilena = cozy_doctypes__WEBPACK_IMPORTED_MODULE_13__["CozyFile"].splitFilename({
                  name: name,
                  type: 'file'
                }), filename = _CozyFile$splitFilena.filename, extension = _CozyFile$splitFilena.extension;
                newFileName = cozy_doctypes__WEBPACK_IMPORTED_MODULE_13__["CozyFile"].generateNewFileNameOnConflict(filename) + extension; //recall itself with the newFilename.

                return _context5.abrupt("return", this.uploadFileWithConflictStrategy(newFileName, file, _dirId, onConflict, metadata));

              case 20:
                _context5.next = 29;
                break;

              case 22:
                _context5.prev = 22;
                _context5.t0 = _context5["catch"](5);

                if (!/Not Found/.test(_context5.t0)) {
                  _context5.next = 28;
                  break;
                }

                _context5.next = 27;
                return this.upload(name, file, dirId, metadata);

              case 27:
                return _context5.abrupt("return", _context5.sent);

              case 28:
                throw _context5.t0;

              case 29:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this, [[5, 22]]);
      }));

      function uploadFileWithConflictStrategy(_x5, _x6, _x7, _x8, _x9) {
        return _uploadFileWithConflictStrategy.apply(this, arguments);
      }

      return uploadFileWithConflictStrategy;
    }()
  }, {
    key: "upload",
    value: function () {
      var _upload = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee6(name, file, dirId, metadata) {
        var client;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                client = this.props.client;
                return _context6.abrupt("return", client.collection('io.cozy.files').createFile(file, {
                  name: name,
                  dirId: dirId,
                  contentType: 'image/jpeg',
                  lastModifiedDate: new Date(),
                  metadata: metadata
                }));

              case 2:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function upload(_x10, _x11, _x12, _x13) {
        return _upload.apply(this, arguments);
      }

      return upload;
    }()
  }, {
    key: "render",

    /**
     * Si pas de dirId => FilePicker
     */
    value: function render() {
      var _this2 = this;

      var _this$props2 = this.props,
          children = _this$props2.children,
          isOffline = _this$props2.isOffline;
      var _this$state = this.state,
          status = _this$state.status,
          error = _this$state.error,
          filename = _this$state.filename,
          shouldShowScannerQualification = _this$state.shouldShowScannerQualification,
          imageURI = _this$state.imageURI,
          loadingScreen = _this$state.loadingScreen;

      if (loadingScreen) {
        return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_15__["Modal"], {
          mobileFullscreen: true,
          closable: false,
          className: "u-bg-black u-mih-100"
        });
      }

      if (shouldShowScannerQualification) return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_ScannerQualification__WEBPACK_IMPORTED_MODULE_14__["default"], {
        onSave:
        /*#__PURE__*/
        function () {
          var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
          /*#__PURE__*/
          _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee7(qualification, filename) {
            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee7$(_context7) {
              while (1) {
                switch (_context7.prev = _context7.next) {
                  case 0:
                    _this2.setState({
                      shouldShowScannerQualification: false
                    });

                    _context7.next = 3;
                    return _this2.onUpload(imageURI, qualification, filename);

                  case 3:
                    return _context7.abrupt("return", _context7.sent);

                  case 4:
                  case "end":
                    return _context7.stop();
                }
              }
            }, _callee7);
          }));

          return function (_x14, _x15) {
            return _ref5.apply(this, arguments);
          };
        }(),
        dismissAction: function dismissAction() {
          window.navigator.camera.cleanup(function () {}, function () {});

          _this2.setState({
            shouldShowScannerQualification: false
          });
        }
      });
      return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_10___default.a.Fragment, null, children({
        error: error,
        status: status,
        filename: filename,
        startScanner: this.startScanner,
        onClear: this.onClear,
        online: !isOffline
      }));
    }
  }]);

  return Scanner;
}(react__WEBPACK_IMPORTED_MODULE_10___default.a.Component);

Scanner.defaultProps = {
  pluginConfig: {}
  /**
   *
   */

};
Scanner.propTypes = {
  isOffline: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Object(_withOffline__WEBPACK_IMPORTED_MODULE_16__["default"])(Object(cozy_client__WEBPACK_IMPORTED_MODULE_11__["withClient"])(Scanner)));

/***/ }),

/***/ "Kn6A":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAdapter", function() { return getAdapter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "extractFileAttributes", function() { return extractFileAttributes; });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var drive_constants_config_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Z7XG");
/* harmony import */ var drive_mobile_modules_replication_duck__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("bMkt");
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("OTOu");







/* global cozy */




var Stack = function Stack() {
  var _this = this;

  _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this, Stack);

  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(this, "getFolder",
  /*#__PURE__*/
  function () {
    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(folderId) {
      var folder, parentId, parent, files;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return cozy.client.files.statById(folderId, false, {
                limit: drive_constants_config_js__WEBPACK_IMPORTED_MODULE_6__["FILES_FETCH_LIMIT"]
              });

            case 2:
              folder = _context.sent;
              parentId = folder.attributes.dir_id;
              _context.t0 = !!parentId;

              if (!_context.t0) {
                _context.next = 9;
                break;
              }

              _context.next = 8;
              return cozy.client.files.statById(parentId, false).catch(function (ex) {
                if (ex.status === 403) {
                  lib_logger__WEBPACK_IMPORTED_MODULE_8__["default"].warn("User don't have access to parent folder");
                } else {
                  throw ex;
                }
              });

            case 8:
              _context.t0 = _context.sent;

            case 9:
              parent = _context.t0;
              files = folder.relations('contents').filter(function (f) {
                return f !== undefined;
              }).map(function (f) {
                return extractFileAttributes(f);
              }) || [];
              return _context.abrupt("return", _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default()({}, extractFileAttributes(folder), {
                contents: {
                  data: files,
                  meta: {
                    count: folder.relationships.contents.meta.count
                  }
                },
                parent: !!parent && extractFileAttributes(parent)
              }));

            case 12:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));

    return function (_x) {
      return _ref.apply(this, arguments);
    };
  }());

  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(this, "getFolderContents",
  /*#__PURE__*/
  function () {
    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(folderId) {
      var skip,
          limit,
          folder,
          files,
          _args2 = arguments;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              skip = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : 0;
              limit = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : drive_constants_config_js__WEBPACK_IMPORTED_MODULE_6__["FILES_FETCH_LIMIT"];
              _context2.next = 4;
              return cozy.client.files.statById(folderId, false, {
                skip: skip,
                limit: limit
              });

            case 4:
              folder = _context2.sent;
              // folder.relations('contents') returns null when the trash is empty
              // the filter call is a temporary fix due to a cozy-client-js bug
              files = folder.relations('contents').filter(function (f) {
                return f !== undefined;
              }) || [];
              return _context2.abrupt("return", files.map(function (c) {
                return extractFileAttributes(c);
              }));

            case 7:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2);
    }));

    return function (_x2) {
      return _ref2.apply(this, arguments);
    };
  }());

  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(this, "getSortedFolder",
  /*#__PURE__*/
  function () {
    var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(folderId, sortAttribute) {
      var sortOrder,
          skip,
          limit,
          isFirstLoad,
          folders,
          folderSortingOrder,
          allFolders,
          files,
          _args3 = arguments;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              sortOrder = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : 'asc';
              skip = _args3.length > 3 && _args3[3] !== undefined ? _args3[3] : 0;
              limit = _args3.length > 4 && _args3[4] !== undefined ? _args3[4] : drive_constants_config_js__WEBPACK_IMPORTED_MODULE_6__["FILES_FETCH_LIMIT"];
              isFirstLoad = skip === 0;
              folders = [];

              if (!isFirstLoad) {
                _context3.next = 11;
                break;
              }

              // on first load, fetch *all* the folders, so we can subsequently focus on files
              folderSortingOrder = sortAttribute === 'name' ? sortOrder : 'asc';
              _context3.next = 9;
              return _this.query({
                folderId: folderId,
                type: 'directory',
                sortAttribute: sortAttribute,
                sortOrder: folderSortingOrder,
                skip: 0,
                limit: null
              });

            case 9:
              allFolders = _context3.sent;
              // filter out the trash, faster in js than with pouch
              folders = allFolders.filter(function (folder) {
                return folder._id !== drive_constants_config_js__WEBPACK_IMPORTED_MODULE_6__["TRASH_DIR_ID"];
              });

            case 11:
              _context3.next = 13;
              return _this.query({
                folderId: folderId,
                type: 'file',
                sortAttribute: sortAttribute,
                sortOrder: sortOrder,
                skip: skip,
                limit: limit
              });

            case 13:
              files = _context3.sent;
              return _context3.abrupt("return", [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(folders), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(files)));

            case 15:
            case "end":
              return _context3.stop();
          }
        }
      }, _callee3);
    }));

    return function (_x3, _x4) {
      return _ref3.apply(this, arguments);
    };
  }());

  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(this, "query",
  /*#__PURE__*/
  function () {
    var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee4(_ref4) {
      var folderId, type, sortAttribute, sortOrder, skip, limit, index, response;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee4$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
              folderId = _ref4.folderId, type = _ref4.type, sortAttribute = _ref4.sortAttribute, sortOrder = _ref4.sortOrder, skip = _ref4.skip, limit = _ref4.limit;
              _context4.next = 3;
              return _this.getIndex(sortAttribute, ['dir_id', 'type', sortAttribute]);

            case 3:
              index = _context4.sent;
              _context4.next = 6;
              return cozy.client.files.query(index, {
                selector: _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()({
                  dir_id: folderId,
                  type: type
                }, sortAttribute, {
                  $gt: null
                }),
                sort: [{
                  dir_id: sortOrder
                }, {
                  type: sortOrder
                }, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()({}, sortAttribute, sortOrder)],
                skip: skip,
                limit: limit,
                wholeResponse: true
              });

            case 6:
              response = _context4.sent;
              return _context4.abrupt("return", response.data.map(function (f) {
                return extractFileAttributes(f);
              }));

            case 8:
            case "end":
              return _context4.stop();
          }
        }
      }, _callee4);
    }));

    return function (_x5) {
      return _ref5.apply(this, arguments);
    };
  }());

  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(this, "getIndex",
  /*#__PURE__*/
  function () {
    var _ref7 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee5(name, fields) {
      var index;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee5$(_context5) {
        while (1) {
          switch (_context5.prev = _context5.next) {
            case 0:
              if (!_this.indexes[name]) {
                _context5.next = 4;
                break;
              }

              return _context5.abrupt("return", _this.indexes[name]);

            case 4:
              _context5.next = 6;
              return cozy.client.data.defineIndex('io.cozy.files', fields);

            case 6:
              index = _context5.sent;
              _this.indexes[name] = index;
              return _context5.abrupt("return", index);

            case 9:
            case "end":
              return _context5.stop();
          }
        }
      }, _callee5);
    }));

    return function (_x6, _x7) {
      return _ref7.apply(this, arguments);
    };
  }());

  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(this, "getRecentFiles",
  /*#__PURE__*/
  _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee6() {
    var index, resp;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            _context6.next = 2;
            return _this.getIndex('recent', ['updated_at', 'trashed']);

          case 2:
            index = _context6.sent;
            _context6.next = 5;
            return cozy.client.files.query(index, {
              selector: {
                updated_at: {
                  $gt: null
                },
                trashed: false
              },
              sort: [{
                updated_at: 'desc'
              }, {
                trashed: 'desc'
              }],
              limit: drive_constants_config_js__WEBPACK_IMPORTED_MODULE_6__["FILES_FETCH_LIMIT"],
              wholeResponse: true
            });

          case 5:
            resp = _context6.sent;
            return _context6.abrupt("return", resp.data.map(function (f) {
              return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default()({}, f, {
                _id: f.id,
                _type: f.type
              }, f.attributes);
            }));

          case 7:
          case "end":
            return _context6.stop();
        }
      }
    }, _callee6);
  })));

  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(this, "getFilesInBatch", function (ids) {
    return cozy.client.fetchJSON('POST', '/data/io.cozy.files/_all_docs?include_docs=true', {
      keys: ids
    });
  });

  this.indexes = {};
};

var PouchDB = function PouchDB(_ref9) {
  var _this2 = this;

  var byName = _ref9.byName,
      byUpdatedAt = _ref9.byUpdatedAt,
      bySize = _ref9.bySize,
      recent = _ref9.recent;

  _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this, PouchDB);

  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(this, "normalizeFileFromPouchDB", function (f) {
    return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default()({}, f, {
      id: f._id,
      _type: 'io.cozy.files'
    });
  });

  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(this, "getFolder",
  /*#__PURE__*/
  function () {
    var _ref10 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee7(folderId) {
      var db, folder, parent, files;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee7$(_context7) {
        while (1) {
          switch (_context7.prev = _context7.next) {
            case 0:
              db = cozy.client.offline.getDatabase('io.cozy.files');
              _context7.next = 3;
              return db.get(folderId);

            case 3:
              folder = _context7.sent;
              _context7.t0 = !!folder.dir_id;

              if (!_context7.t0) {
                _context7.next = 9;
                break;
              }

              _context7.next = 8;
              return db.get(folder.dir_id);

            case 8:
              _context7.t0 = _context7.sent;

            case 9:
              parent = _context7.t0;
              _context7.next = 12;
              return _this2.getSortedFolder(folderId, 'name', 'asc');

            case 12:
              files = _context7.sent;
              return _context7.abrupt("return", _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default()({}, _this2.normalizeFileFromPouchDB(folder), {
                contents: {
                  data: files,
                  meta: {}
                },
                parent: !!parent && _this2.normalizeFileFromPouchDB(parent)
              }));

            case 14:
            case "end":
              return _context7.stop();
          }
        }
      }, _callee7);
    }));

    return function (_x8) {
      return _ref10.apply(this, arguments);
    };
  }());

  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(this, "getFolderContents", function (folderId) {
    var skip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : drive_constants_config_js__WEBPACK_IMPORTED_MODULE_6__["FILES_FETCH_LIMIT"];
    return _this2.getSortedFolder(folderId, 'name', 'asc', skip, limit);
  });

  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(this, "getSortedFolder",
  /*#__PURE__*/
  function () {
    var _ref11 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee8(folderId, sortAttribute) {
      var sortOrder,
          skip,
          limit,
          isFirstLoad,
          folders,
          folderSortingOrder,
          allFolders,
          files,
          _args8 = arguments;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee8$(_context8) {
        while (1) {
          switch (_context8.prev = _context8.next) {
            case 0:
              sortOrder = _args8.length > 2 && _args8[2] !== undefined ? _args8[2] : 'asc';
              skip = _args8.length > 3 && _args8[3] !== undefined ? _args8[3] : 0;
              limit = _args8.length > 4 && _args8[4] !== undefined ? _args8[4] : drive_constants_config_js__WEBPACK_IMPORTED_MODULE_6__["FILES_FETCH_LIMIT"];
              isFirstLoad = skip === 0;
              folders = [];

              if (!isFirstLoad) {
                _context8.next = 11;
                break;
              }

              // on first load, fetch *all* the folders, so we can subsequently focus on files
              folderSortingOrder = sortAttribute === 'name' ? sortOrder : 'asc';
              _context8.next = 9;
              return _this2.query({
                folderId: folderId,
                type: 'directory',
                sortAttribute: 'name',
                sortOrder: folderSortingOrder,
                skip: 0,
                limit: null
              });

            case 9:
              allFolders = _context8.sent;
              // filter out the trash, faster in js than with pouch
              folders = allFolders.filter(function (folder) {
                return folder._id !== drive_constants_config_js__WEBPACK_IMPORTED_MODULE_6__["TRASH_DIR_ID"];
              });

            case 11:
              _context8.next = 13;
              return _this2.query({
                folderId: folderId,
                type: 'file',
                sortAttribute: sortAttribute,
                sortOrder: sortOrder,
                skip: skip,
                limit: limit
              });

            case 13:
              files = _context8.sent;
              return _context8.abrupt("return", [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(folders), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(files)));

            case 15:
            case "end":
              return _context8.stop();
          }
        }
      }, _callee8);
    }));

    return function (_x9, _x10) {
      return _ref11.apply(this, arguments);
    };
  }());

  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(this, "query",
  /*#__PURE__*/
  function () {
    var _ref13 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee9(_ref12) {
      var folderId, type, sortAttribute, sortOrder, skip, limit, db, index, response;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee9$(_context9) {
        while (1) {
          switch (_context9.prev = _context9.next) {
            case 0:
              folderId = _ref12.folderId, type = _ref12.type, sortAttribute = _ref12.sortAttribute, sortOrder = _ref12.sortOrder, skip = _ref12.skip, limit = _ref12.limit;
              db = cozy.client.offline.getDatabase('io.cozy.files');
              index = _this2.indexes[sortAttribute];
              if (!index) lib_logger__WEBPACK_IMPORTED_MODULE_8__["default"].warn("No suitable index found for atribute ".concat(sortAttribute, ". This might be slow."));
              _context9.next = 6;
              return db.find({
                selector: _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()({
                  dir_id: folderId,
                  type: type
                }, sortAttribute, {
                  $gt: null
                }),
                use_index: index,
                sort: [{
                  dir_id: sortOrder
                }, {
                  type: sortOrder
                }, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()({}, sortAttribute, sortOrder)],
                skip: skip,
                limit: limit
              });

            case 6:
              response = _context9.sent;
              return _context9.abrupt("return", response.docs.map(_this2.normalizeFileFromPouchDB));

            case 8:
            case "end":
              return _context9.stop();
          }
        }
      }, _callee9);
    }));

    return function (_x11) {
      return _ref13.apply(this, arguments);
    };
  }());

  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(this, "getRecentFiles",
  /*#__PURE__*/
  _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee10() {
    var db, files;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee10$(_context10) {
      while (1) {
        switch (_context10.prev = _context10.next) {
          case 0:
            db = cozy.client.offline.getDatabase('io.cozy.files');
            _context10.next = 3;
            return db.query(_this2.indexes.recent, {
              limit: drive_constants_config_js__WEBPACK_IMPORTED_MODULE_6__["FILES_FETCH_LIMIT"],
              include_docs: true,
              descending: true
            });

          case 3:
            files = _context10.sent;
            return _context10.abrupt("return", files.rows.map(function (f) {
              return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default()({}, f.doc, {
                id: f.id,
                _type: 'io.cozy.files'
              });
            }));

          case 5:
          case "end":
            return _context10.stop();
        }
      }
    }, _callee10);
  })));

  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(this, "getFilesInBatch", function (ids) {
    var db = cozy.client.offline.getDatabase('io.cozy.files');
    return db.allDocs({
      include_docs: true,
      keys: ids
    });
  });

  this.indexes = {
    name: byName,
    updated_at: byUpdatedAt,
    size: bySize,
    recent: recent
  };
};

var StackAdapter = new Stack();
var getAdapter = function getAdapter(state) {
  return Object(drive_mobile_modules_replication_duck__WEBPACK_IMPORTED_MODULE_7__["shouldWorkFromPouchDB"])(state) ? new PouchDB(Object(drive_mobile_modules_replication_duck__WEBPACK_IMPORTED_MODULE_7__["getPouchIndexes"])(state)) : StackAdapter;
};
var extractFileAttributes = function extractFileAttributes(f) {
  var id = f.id || f._id;
  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default()({}, f.attributes, {
    id: id,
    _id: id,
    _type: 'io.cozy.files',
    links: f.links,
    relationships: f.relationships
  });
};

/***/ }),

/***/ "MCe/":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("z+SL");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("buk/");
/* harmony import */ var _delete__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("ebEV");





var DeleteItem = Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])()(function (_ref) {
  var t = _ref.t,
      isSharedWithMe = _ref.isSharedWithMe,
      displayedFolder = _ref.displayedFolder,
      trashFolder = _ref.trashFolder,
      onLeave = _ref.onLeave;
  return isSharedWithMe ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    "data-test-id": "fil-action-delete",
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_2___default.a['fil-action-delete']),
    onClick: function onClick() {
      return onLeave(displayedFolder).then(function () {
        return trashFolder(displayedFolder);
      });
    }
  }, t('toolbar.leave')) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    "data-test-id": "fil-action-delete",
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_2___default.a['fil-action-delete']),
    onClick: function onClick() {
      return trashFolder(displayedFolder);
    }
  }, t('toolbar.trash'));
});
/* harmony default export */ __webpack_exports__["default"] = (Object(_delete__WEBPACK_IMPORTED_MODULE_4__["default"])(DeleteItem));

/***/ }),

/***/ "MM/P":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"u-shake":"u-shake--nuBmh","shake":"shake--lpeSa","u-o-100":"u-o-100--3su7-","u-o-90":"u-o-90--3yl8f","u-o-80":"u-o-80--21qpX","u-o-70":"u-o-70--3_en4","u-o-60":"u-o-60--gYFeo","u-o-50":"u-o-50--thX1V","u-o-40":"u-o-40--3p3K-","u-o-30":"u-o-30--2-49_","u-o-20":"u-o-20--10CPa","u-o-10":"u-o-10--3ZS1T","u-o-05":"u-o-05--290NQ","u-o-025":"u-o-025--N7xEh","u-o-0":"u-o-0--2w0iM","fil-confirm-text":"fil-confirm-text--1mg03","icon-trash":"icon-trash--2KM7n","icon-restore":"icon-restore--pj-pW","icon-shared":"icon-shared--2V24-","icon-referenced":"icon-referenced--sXXbJ","icon-forbidden":"icon-forbidden--mnnYN","fil-confirm-recipients":"fil-confirm-recipients--ktcey","spin":"spin--oXa2w"};

/***/ }),

/***/ "Mc+O":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"Drive","item_recent":"Recent","item_sharings":"Sharings","item_shared":"Shared by me","item_activity":"Activity","item_trash":"Trash","item_settings":"Settings","item_collect":"Administrative","btn-client":"Get Cozy Drive for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Get Cozy Drive for Desktop and synchronise your files safely to make them accessible at all times.","banner-btn-client":"Download","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Drive","title_recent":"Recent","title_sharings":"Sharings","title_shared":"Shared by me","title_activity":"Activity","title_trash":"Trash"},"Toolbar":{"more":"More"},"toolbar":{"item_upload":"Upload","menu_upload":"Upload files","item_more":"More","menu_new_folder":"New folder","menu_select":"Select items","menu_download_folder":"Download folder","menu_download_file":"Download this file","menu_open_cozy":"Open in my Cozy","empty_trash":"Empty trash","share":"Share","trash":"Remove","leave":"Leave shared folder & delete it"},"Share":{"status":{"owner":"Owner","pending":"Pending","ready":"Accepted","refused":"Refused","error":"Error","unregistered":"Error","mail-not-sent":"Pending","revoked":"Error"},"type":{"one-way":"Can View","two-way":"Can Change","desc":{"one-way":"Contacts can view, download, and add the content to their Cozy. If they add the content to their Cozy, they will get updates you make to the content, but they won't be able to update it.","two-way":"Contacts can update, delete and add the content to their Cozy. Updates on the content will be seen on other Cozies."}},"locked-type-file":"Coming soon: you will be able to change permissions you grant on the file.","locked-type-folder":"Coming soon: you will be able to change permissions you grant on the folder.","recipients":{"you":"You","accessCount":"%{count} people have access"},"create-cozy":"Create my cozy","members":{"count":"1 member |||| %{smart_count} members","others":"and 1 other |||| and %{smart_count} others","otherContacts":"other contact |||| other contacts"},"contacts":{"permissionRequired":{"title":"Save your contacts in your Cozy?","desc":"Authorize the application to access to your Cozy's contacts: you'll be able to select them next time.","action":"Authorize access","success":"The application has access to your contacts"}}},"Sharings":{"unavailable":{"title":"Switch online!","message":"An internet connection is needed to display the list of your last sharings."}},"Files":{"share":{"cta":"Share","title":"Share","details":{"title":"Sharing details","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Cozy. You will get updates by the owner, but you won't be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Cozy. Updates you make will be seen on other Cozies."}},"sharedByMe":"Shared by me","sharedWithMe":"Shared with me","sharedBy":"Shared by %{name}","shareByLink":{"subtitle":"By public link","desc":"Anyone with the provided link can see and download your files.","creating":"Creating your link...","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard"},"shareByEmail":{"subtitle":"By email","email":"To:","emailPlaceholder":"Enter the email address or name of the recipient","send":"Send","genericSuccess":"You sent an invite to %{count} contacts.","success":"You sent an invite to %{email}.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won't be synchrnoized anymore.","success":"You removed this shared file from %{email}."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won't be updated between your Cozy anymore.","success":"You were removed from this sharing."},"sharingLink":{"title":"Link to share","copy":"Copy","copied":"Copied"},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Close","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"Name","head_update":"Last update","head_size":"Size","head_status":"Status","head_thumbnail_size":"Switch thumbnail size","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":"Share (Read only)","row_read_write":"Share (Read & Write)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"Load More","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oldest first","head_updated_at_desc":"Most recent first","head_size_asc":"Lightest first","head_size_desc":"Heavier first"}},"SelectionBar":{"selected_count":"item selected |||| items selected","share":"Share","download":"Download","trash":"Remove","destroy":"Delete permanently","rename":"Rename","restore":"Restore","close":"Close","openWith":"Open with","moveto":"Move to","phone-download":"Make available offline","qualify":"Categorize"},"deleteconfirmation":{"title":"Delete this element? |||| Delete these elements?","trash":"It will be moved to the Trash. |||| They will be moved to the Trash.","restore":"You can still restore it whenever you want. |||| You can still restore them whenever you want.","shared":"The following contacts whom you shared it with will keep a copy but your changes won't be synchronized anymore. |||| The following contacts whom you shared them with will keep a copy but your changes won't be synchronized anymore","referenced":"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.","cancel":"Cancel","delete":"Remove"},"emptytrashconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access these files anymore.","restore":"You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete all"},"destroyconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.","restore":"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete permanently"},"quotaalert":{"title":"Your disk space is full :(","desc":" Please remove files and empty your trash before uploading files again.","confirm":"OK"},"loading":{"message":"Loading"},"empty":{"title":"You dont have any files in this folder.","text":"Click the \"upload\" button to add files to this folder.","trash_title":"You dont have any deleted files.","trash_text":"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."},"error":{"open_folder":"Something went wrong when opening the folder.","button":{"reload":"Refresh now"},"download_file":{"offline":"You should be connected to download this file","missing":"This file is missing"}},"Error":{"public_unshared_title":"Sorry, this link is no longer available.","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!"},"alert":{"could_not_open_file":"The file could not be opened","try_again":"An error has occurred, please try again in a moment.","restore_file_success":"The selection has been successfully restored.","trash_file_success":"The selection has been moved to the Trash.","destroy_file_success":"The selection has been deleted permanently.","empty_trash_progress":"Your trash is being emptied. This might take a few moments.","empty_trash_success":"The trash has been emptied.","folder_name":"The element %{folderName} already exists, please choose a new name.","folder_generic":"An error occurred, please try again.","folder_abort":"You need to add a name to your new folder if you would like to save it. Your information has not been saved.","offline":"This feature is not available offline.","preparing":"Preparing your files"},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Create a Cozy or sign in to access Cozy Drive","button":"Sign in","no_account_link":"I don't have a Cozy","create_my_cozy":"Create my Cozy"},"server_selection":{"title":"Sign in","lostpwd":"[I forgot the address of my Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Address of my Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"other","button":"Next","wrong_address_with_email":"You typed an email address. To connect on your cozy you must type its url, something like https://camillenimbus.mycozy.cloud","wrong_address_v2":"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"This address doesnt seem to be a cozy. Please check the address you provide.","wrong_address_cosy":"Woops, the address is not correct. Try with \"cozy\" with a \"z\"!"},"files":{"title":"Access your drive","description":"In order to save your Cozy Drive on your device, the application must access your files."},"photos":{"title":"Backup your photos and videos","description":"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},"contacts":{"title":"Sync your contacts","description":"Save your phone's contact on your Cozy  this will facilitate sharing files with them."},"step":{"button":"Enable now","skip":"Later","next":"Next"},"analytics":{"title":"Help us improve Cozy","description":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},"settings":{"title":"Settings","about":{"title":"About","app_version":"App Version","account":"Account"},"unlink":{"title":"Sign out of your Cozy","description":"By signing out of your Cozy from this device, you will not lose any data in your Cozy. This will remove your offline files from this device related to your Cozy.","button":"Sign out"},"media_backup":{"media_folder":"Photos","backup_folder":"Backed up from my mobile","legacy_backup_folder":"Backuped from my mobile","title":"Media Backup","images":{"title":"Backup images","label":"Backup your images automatically to your Cozy not to ever lose them and share them easily."},"launch":"Launch Backup","stop":"Stop Backup","wifi":{"title":"Backup on WIFI only","label":"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},"media_upload":"%{smart_count} remaining picture |||| %{smart_count} remaining pictures","media_uptodate":"Media backup is up-to-date","preparing":"Searching for media to backup...","no_wifi":"Please connect to a WIFI","quota":"Storage limit nearly reached","quota_contact":"Manage your storage space"},"support":{"title":"Support","analytics":{"title":"Help us improve Cozy","label":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},"feedback":{"title":"Help improve Cozy Drive","description":"Send your feedback to help us improve Cozy Drive. Click on the button below, explain the problem or make a suggestion and send it. You're done!","button":"leave feedback"},"logs":{"title":"Help us to understand your problem","description":"Send the application log to help us improve its quality and stability.","button":"Send my logs","success":"Thanks, we will investigate your problem and contact you soon.","error":"A problem happened, logs couldn't be sent, please try again."}},"contacts":{"title":"Contacts","subtitle":"Import contacts","text":"Import the contacts from your device to your Cozy to easily share content with them."}},"error":{"open_with":{"offline":"You should be connected to open this file","noapp":"No application can open this file"},"make_available_offline":{"offline":"You should be connected to open this file","noapp":"No application can open this file"}},"revoked":{"title":"Access revoked","description":"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.","loginagain":"Log in again","logout":"Log out"},"rating":{"enjoy":{"title":"Enjoying Cozy Drive?","yes":"Yes!","no":"Not really"},"rate":{"title":"Would you mind rating it?","yes":"Let's do that!","no":"No, thanks","later":"Maybe later"},"feedback":{"title":"Would you mind giving us some feedback?","yes":"Send","no":"No, thanks"},"email":{"subject":"Feedback on Cozy Drive","placeholder":"Hello, I think Cozy Drive would be better if"},"alert":{"rated":"Thank you! You're ","declined":"Awesome. You will love the upcoming features. Stay Cozy!","later":"No problem, we'll ask again later.","feedback":"Thank you for the feedback. We'll definitely work on it!"}},"first_sync":{"title":"You are about to start your first photos back up ","tips":"Tips","tip_bed":"Open Cozy Drive before you go to bed or when you don't use your phone.","tip_wifi":"Enable Wi-Fi to preserve your data.","tip_lock":"Disable your lock screen.","result":"In the morning, all your photos will be stored in a safe and secure location.","button":"Got it!"},"notifications":{"backup_paused":"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},"upload":{"alert":{"success":"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.","success_conflicts":"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} file uploaded and %{updatedCount} updated. |||| %{smart_count} files uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} file uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} files uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} file updated. |||| %{smart_count} files updated.","updated_conflicts":"%{smart_count} file updated with %{conflictCount} conflict(s). |||| %{smart_count} files updated with %{conflictCount} conflict(s).","errors":"Errors occurred during the file upload.","network":"You are currenly offline. Please try again once you're connected."}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Uploaded %{done} out of %{total} successfully","close":"close","item":{"pending":"Pending"}},"Viewer":{"close":"Close","noviewer":{"download":"Download this file","openWith":"Open with...","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":"Download"},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":"Retry"},"error":{"noapp":"No application found to handle this file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You're currently offline."}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it's original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it's original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back."},"FileOpenerExternal":{"fileNotFoundError":"Error: file not found"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"You are currently offline and you can't use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}}};

/***/ }),

/***/ "Mlvp":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"coz-menu-inner":"coz-menu-inner--1HCUw","coz-menu":"coz-menu--2DvlI","coz-menu-inner--opened":"coz-menu-inner--opened--1fdzR","coz-menu-item":"coz-menu-item--2MxiQ","cozy-menu-overlay":"cozy-menu-overlay--3Khoc"};

/***/ }),

/***/ "MpOc":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/MKj");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("67rm");
/* harmony import */ var drive_web_modules_filelist_FilenameInput__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("9Etc");
/* harmony import */ var drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("37ak");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("yEaX");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8__);










var AddFolder = function AddFolder(_ref) {
  var f = _ref.f,
      visible = _ref.visible,
      onSubmit = _ref.onSubmit,
      onAbort = _ref.onAbort;
  return !visible ? null : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-content-row']
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-content-file-select'])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-content-file'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-file-folder'])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FilenameInput__WEBPACK_IMPORTED_MODULE_5__["default"], {
    onSubmit: onSubmit,
    onAbort: onAbort
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-content-date'])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("time", {
    dateTime: ""
  }, f(Date.now(), 'MMM D, YYYY'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-content-size'])
  }, "\u2014"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-content-status'])
  }, "\u2014"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-content-file-action'])
  }));
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    visible: Object(drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_6__["isTypingNewFolderName"])(state)
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    onSubmit: function onSubmit(name) {
      return dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_7__["createFolder"])(name)).then(function () {
        return dispatch(Object(drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_6__["hideNewFolderInput"])());
      });
    },
    onAbort: function onAbort(accidental) {
      if (accidental) {
        cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_4__["default"].info('alert.folder_abort');
      }

      dispatch(Object(drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_6__["hideNewFolderInput"])());
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])()(Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(mapStateToProps, mapDispatchToProps)(AddFolder)));

/***/ }),

/***/ "MzcY":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecipientsAvatars", function() { return RecipientsAvatars; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserAvatar", function() { return UserAvatar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecipientWithoutStatus", function() { return RecipientWithoutStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecipientPlusX", function() { return RecipientPlusX; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("H+Xc");
/* harmony import */ var _components_Menu_Menuawaremobile__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("cQrJ");
/* harmony import */ var _Avatar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("1tzb");
/* harmony import */ var _recipient_styl__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("1BUi");
/* harmony import */ var _recipient_styl__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_recipient_styl__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _assets_icons_icon_hourglass_16_svg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("H0cq");
/* harmony import */ var _assets_icons_icon_eye_16_svg__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("42zN");
/* harmony import */ var _assets_icons_icon_pen_write_16_svg__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("GeHB");
/* harmony import */ var _assets_icons_icon_trash_red_svg__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("osKR");
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("OjRq");
/* harmony import */ var sharing_components_Identity__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("71Dd");
























var MAX_DISPLAYED_RECIPIENTS = 3;
var DEFAULT_DISPLAY_NAME = 'models.contact.defaultDisplayName';
var RecipientsAvatars = function RecipientsAvatars(_ref) {
  var recipients = _ref.recipients,
      link = _ref.link,
      _ref$size = _ref.size,
      size = _ref$size === void 0 ? 'small-plus' : _ref$size,
      className = _ref.className,
      onClick = _ref.onClick;
  // we reverse the recipients array because we use `flex-direction: row-reverse` to display them correctly
  // we slice first to clone the original array because reverse() mutates it
  var reversedRecipients = recipients.slice().reverse();
  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()(_recipient_styl__WEBPACK_IMPORTED_MODULE_17___default.a['recipients-avatars'], _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()({}, _recipient_styl__WEBPACK_IMPORTED_MODULE_17___default.a['--interactive'], onClick), className),
    onClick: onClick
  }, link && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_Avatar__WEBPACK_IMPORTED_MODULE_16__["AvatarLink"], {
    size: size
  }), recipients.length > MAX_DISPLAYED_RECIPIENTS && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_Avatar__WEBPACK_IMPORTED_MODULE_16__["AvatarPlusX"], {
    extraRecipients: reversedRecipients.slice(MAX_DISPLAYED_RECIPIENTS).map(function (recipient) {
      return models__WEBPACK_IMPORTED_MODULE_22__["Contact"].getDisplayName(recipient);
    }),
    size: size
  }), reversedRecipients.slice(0, MAX_DISPLAYED_RECIPIENTS).map(function (recipient, idx) {
    return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_Avatar__WEBPACK_IMPORTED_MODULE_16__["Avatar"], {
      key: idx,
      text: models__WEBPACK_IMPORTED_MODULE_22__["Contact"].getInitials(recipient),
      size: size,
      textId: models__WEBPACK_IMPORTED_MODULE_22__["Contact"].getDisplayName(recipient)
    });
  }));
};
var UserAvatar = function UserAvatar(_ref2) {
  var url = _ref2.url,
      size = _ref2.size,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_9___default()(_ref2, ["url", "size"]);

  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
    className: _recipient_styl__WEBPACK_IMPORTED_MODULE_17___default.a['avatar']
  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_Avatar__WEBPACK_IMPORTED_MODULE_16__["Avatar"], {
    text: models__WEBPACK_IMPORTED_MODULE_22__["Contact"].getInitials(rest),
    size: size,
    textId: models__WEBPACK_IMPORTED_MODULE_22__["Contact"].getDisplayName(rest)
  }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(sharing_components_Identity__WEBPACK_IMPORTED_MODULE_23__["default"], {
    name: models__WEBPACK_IMPORTED_MODULE_22__["Contact"].getDisplayName(rest),
    details: url
  }));
};

var Status =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(Status, _Component);

  function Status() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, Status);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Status)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "state", {
      revoking: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "onRevoke",
    /*#__PURE__*/
    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {
      var _this$props, onRevoke, document, sharingId, index;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _this$props = _this.props, onRevoke = _this$props.onRevoke, document = _this$props.document, sharingId = _this$props.sharingId, index = _this$props.index;

              _this.setState({
                revoking: true
              });

              _context.next = 4;
              return onRevoke(document, sharingId, index);

            case 4:
              _this.setState({
                revoking: false
              });

            case 5:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    })));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "getStatusIcon", function (type) {
      switch (type) {
        case 'one-way':
          return _assets_icons_icon_eye_16_svg__WEBPACK_IMPORTED_MODULE_19__["default"];

        case 'two-way':
          return _assets_icons_icon_pen_write_16_svg__WEBPACK_IMPORTED_MODULE_20__["default"];

        default:
          return _assets_icons_icon_hourglass_16_svg__WEBPACK_IMPORTED_MODULE_18__["default"];
      }
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(Status, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          isOwner = _this$props2.isOwner,
          status = _this$props2.status,
          instance = _this$props2.instance,
          type = _this$props2.type,
          documentType = _this$props2.documentType,
          name = _this$props2.name;
      var _this$context = this.context,
          t = _this$context.t,
          client = _this$context.client;
      var revoking = this.state.revoking;
      var isMe = instance !== undefined && instance === client.options.uri && !isOwner;
      var shouldShowMenu = !revoking && status !== 'owner' && (isMe || isOwner);
      return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_12___default()(_recipient_styl__WEBPACK_IMPORTED_MODULE_17___default.a['recipient-status'], 'u-ml-1')
      }, revoking && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["Spinner"], null), !shouldShowMenu && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("span", {
        className: _recipient_styl__WEBPACK_IMPORTED_MODULE_17___default.a['recipient-owner']
      }, t("Share.status.".concat(status))), shouldShowMenu && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components_Menu_Menuawaremobile__WEBPACK_IMPORTED_MODULE_15__["default"], {
        text: status === 'ready' && type ? t("Share.type.".concat(type)) : t("Share.status.".concat(status)),
        className: _recipient_styl__WEBPACK_IMPORTED_MODULE_17___default.a['recipient-menu'],
        buttonClassName: _recipient_styl__WEBPACK_IMPORTED_MODULE_17___default.a['recipient-menu-btn'],
        position: 'right',
        popover: true,
        itemsStyle: {
          maxWidth: '280px'
        },
        name: name
      }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["MenuItem"], {
        icon: react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["Icon"], {
          icon: this.getStatusIcon(status)
        })
      }, status === 'ready' && type ? t("Share.type.".concat(type)) : t("Share.status.".concat(status))), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("hr", null), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["MenuItem"], {
        onSelect: this.onRevoke,
        onClick: this.onRevoke,
        icon: react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["Icon"], {
          icon: _assets_icons_icon_trash_red_svg__WEBPACK_IMPORTED_MODULE_21__["default"]
        })
      }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
        className: _recipient_styl__WEBPACK_IMPORTED_MODULE_17___default.a['action-unshare']
      }, isOwner ? t("".concat(documentType, ".share.revoke.title")) : t("".concat(documentType, ".share.revokeSelf.title"))), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("p", {
        className: _recipient_styl__WEBPACK_IMPORTED_MODULE_17___default.a['action-unshare-desc']
      }, isOwner ? t("".concat(documentType, ".share.revoke.desc")) : t("".concat(documentType, ".share.revokeSelf.desc"))))));
    }
  }]);

  return Status;
}(react__WEBPACK_IMPORTED_MODULE_11__["Component"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(Status, "contextTypes", {
  t: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.func.isRequired,
  client: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.object.isRequired
});

var StatusWithBreakpoints = Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["withBreakpoints"])()(Status);

var Recipient = function Recipient(props, _ref4) {
  var client = _ref4.client,
      t = _ref4.t;

  var instance = props.instance,
      isOwner = props.isOwner,
      status = props.status,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_9___default()(props, ["instance", "isOwner", "status"]);

  var isMe = isOwner && status === 'owner' || instance === client.options.uri;
  var defaultDisplayName = t(DEFAULT_DISPLAY_NAME);
  var defaultInitials = defaultDisplayName[0].toUpperCase();
  var name = models__WEBPACK_IMPORTED_MODULE_22__["Contact"].getDisplayName(rest, defaultDisplayName);
  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()(_recipient_styl__WEBPACK_IMPORTED_MODULE_17___default.a['recipient'], 'u-mt-1')
  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_Avatar__WEBPACK_IMPORTED_MODULE_16__["Avatar"], {
    text: models__WEBPACK_IMPORTED_MODULE_22__["Contact"].getInitials(rest, defaultInitials),
    size: 'small-plus',
    textId: name
  }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
    className: _recipient_styl__WEBPACK_IMPORTED_MODULE_17___default.a['recipient-ident-status']
  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(sharing_components_Identity__WEBPACK_IMPORTED_MODULE_23__["default"], {
    name: isMe ? t('Share.recipients.you') : name,
    details: instance
  }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(StatusWithBreakpoints, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
    name: name
  }))));
};

Recipient.contextTypes = {
  client: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.object.isRequired,
  t: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Recipient);
var RecipientWithoutStatus = function RecipientWithoutStatus(_ref5) {
  var instance = _ref5.instance,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_9___default()(_ref5, ["instance"]);

  var name = models__WEBPACK_IMPORTED_MODULE_22__["Contact"].getDisplayName(rest);
  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
    className: _recipient_styl__WEBPACK_IMPORTED_MODULE_17___default.a['recipient']
  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_Avatar__WEBPACK_IMPORTED_MODULE_16__["Avatar"], {
    text: models__WEBPACK_IMPORTED_MODULE_22__["Contact"].getInitials(rest),
    size: 'small-plus',
    textId: name
  }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
    className: _recipient_styl__WEBPACK_IMPORTED_MODULE_17___default.a['recipient-ident-status']
  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(sharing_components_Identity__WEBPACK_IMPORTED_MODULE_23__["default"], {
    name: name,
    details: instance
  })));
};
var RecipientPlusX = function RecipientPlusX(_ref6, _ref7) {
  var extraRecipients = _ref6.extraRecipients;
  var t = _ref7.t;
  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
    className: _recipient_styl__WEBPACK_IMPORTED_MODULE_17___default.a['recipient']
  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_Avatar__WEBPACK_IMPORTED_MODULE_16__["AvatarPlusX"], {
    extraRecipients: extraRecipients.map(function (recipient) {
      return models__WEBPACK_IMPORTED_MODULE_22__["Contact"].getDisplayName(recipient);
    })
  }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
    className: _recipient_styl__WEBPACK_IMPORTED_MODULE_17___default.a['recipient-ident-status']
  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(sharing_components_Identity__WEBPACK_IMPORTED_MODULE_23__["default"], {
    name: t('Share.members.otherContacts', extraRecipients.length)
  })));
};
RecipientPlusX.contextTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.func.isRequired
};

/***/ }),

/***/ "NI1l":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"Dysk","item_recent":"Biece","item_sharings":"Sharings","item_shared":"Udostpnione przeze mnie","item_activity":"Aktywnoci","item_trash":"Kosze","item_settings":"Ustawienia","item_collect":"Administrative","btn-client":"Get Cozy Drive for desktop","btn-client-web":"Pobierz Cozy","btn-client-mobile":"Pobierz Cozy Drive na urzdzenie mobilne","banner-txt-client":"Get Cozy Drive for Desktop and synchronise your files safely to make them accessible at all times.","banner-btn-client":"Download","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Dysk","title_recent":"Biece","title_sharings":"Sharings","title_shared":"Udostpnione przeze mnie","title_activity":"Aktywnoci","title_trash":"Kosze"},"Toolbar":{"more":"Wicej"},"toolbar":{"item_upload":"Przelij","menu_upload":"Przelij pliki","item_more":"Wicej","menu_new_folder":"Nowy folder","menu_select":"Wybierz elementy","menu_download_folder":"Pobierz folder","menu_download_file":"Download this file","menu_open_cozy":"Open in my Cozy","empty_trash":"Oprnij kosz","share":"Udostpnij","trash":"Remove","leave":"Opu udostpniony folder i usu go"},"Share":{"status":{"owner":"Owner","pending":"Oczekujce","ready":"Accepted","refused":"Odrzucone","error":"Bd","unregistered":"Bd","mail-not-sent":"Pending","revoked":"Bd"},"type":{"one-way":"Can View","two-way":"Moe zmienia","desc":{"one-way":"Contacts can view, download, and add the content to their Cozy. If they add the content to their Cozy, they will get updates you make to the content, but they won't be able to update it.","two-way":"Contacts can update, delete and add the content to their Cozy. Updates on the content will be seen on other Cozies."}},"locked-type-file":"Coming soon: you will be able to change permissions you grant on the file.","locked-type-folder":"Coming soon: you will be able to change permissions you grant on the folder.","recipients":{"you":"You","accessCount":"%{count} people have access"},"create-cozy":"Create my cozy","members":{"count":"1 member |||| %{smart_count} members","others":"and 1 other |||| and %{smart_count} others","otherContacts":"other contact |||| other contacts"},"contacts":{"permissionRequired":{"title":"Save your contacts in your Cozy?","desc":"Authorize the application to access to your Cozy's contacts: you'll be able to select them next time.","action":"Authorize access","success":"The application has access to your contacts"}}},"Sharings":{"unavailable":{"title":"Switch online!","message":"An internet connection is needed to display the list of your last sharings."}},"Files":{"share":{"cta":"Udostpnij","title":"Udostpnij","details":{"title":"Szczegy udostpniania","createdAt":"Utworzone %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Cozy. You will get updates by the owner, but you won't be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Cozy. Updates you make will be seen on other Cozies."}},"sharedByMe":"Udostpnione przeze mnie","sharedWithMe":"Udostpnione dla mnie","sharedBy":"Shared by %{name}","shareByLink":{"subtitle":"By public link","desc":"Kady posiadajcy ten lim moe zobaczy i pobra Twoje pliki.","creating":"Creating your link...","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard"},"shareByEmail":{"subtitle":"By email","email":"Do:","emailPlaceholder":"Enter the email address or name of the recipient","send":"Wylij","genericSuccess":"Wysae zaproszenie do %{count} kontaktw.","success":"Wysae zaproszenie do %{email}.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won't be synchrnoized anymore.","success":"You removed this shared file from %{email}."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won't be updated between your Cozy anymore.","success":"You were removed from this sharing."},"sharingLink":{"title":"Link to share","copy":"Copy","copied":"Copied"},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Close","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"Name","head_update":"Last update","head_size":"Size","head_status":"Status","head_thumbnail_size":"Switch thumbnail size","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":"Share (Read only)","row_read_write":"Share (Read & Write)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"Load More","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oldest first","head_updated_at_desc":"Most recent first","head_size_asc":"Lightest first","head_size_desc":"Heavier first"}},"SelectionBar":{"selected_count":"item selected |||| items selected","share":"Share","download":"Download","trash":"Remove","destroy":"Delete permanently","rename":"Rename","restore":"Restore","close":"Close","openWith":"Open with","moveto":"Move to","phone-download":"Make available offline","qualify":"Categorize"},"deleteconfirmation":{"title":"Delete this element? |||| Delete these elements?","trash":"It will be moved to the Trash. |||| They will be moved to the Trash.","restore":"You can still restore it whenever you want. |||| You can still restore them whenever you want.","shared":"The following contacts whom you shared it with will keep a copy but your changes won't be synchronized anymore. |||| The following contacts whom you shared them with will keep a copy but your changes won't be synchronized anymore","referenced":"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.","cancel":"Cancel","delete":"Remove"},"emptytrashconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access these files anymore.","restore":"You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete all"},"destroyconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.","restore":"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete permanently"},"quotaalert":{"title":"Your disk space is full :(","desc":" Please remove files and empty your trash before uploading files again.","confirm":"OK"},"loading":{"message":"Loading"},"empty":{"title":"You dont have any files in this folder.","text":"Click the \"upload\" button to add files to this folder.","trash_title":"You dont have any deleted files.","trash_text":"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."},"error":{"open_folder":"Something went wrong when opening the folder.","button":{"reload":"Refresh now"},"download_file":{"offline":"You should be connected to download this file","missing":"This file is missing"}},"Error":{"public_unshared_title":"Sorry, this link is no longer available.","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!"},"alert":{"could_not_open_file":"The file could not be opened","try_again":"An error has occurred, please try again in a moment.","restore_file_success":"The selection has been successfully restored.","trash_file_success":"The selection has been moved to the Trash.","destroy_file_success":"The selection has been deleted permanently.","empty_trash_progress":"Your trash is being emptied. This might take a few moments.","empty_trash_success":"The trash has been emptied.","folder_name":"The element %{folderName} already exists, please choose a new name.","folder_generic":"An error occurred, please try again.","folder_abort":"You need to add a name to your new folder if you would like to save it. Your information has not been saved.","offline":"This feature is not available offline.","preparing":"Preparing your files"},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Create a Cozy or sign in to access Cozy Drive","button":"Sign in","no_account_link":"I don't have a Cozy","create_my_cozy":"Create my Cozy"},"server_selection":{"title":"Sign in","lostpwd":"[I forgot the address of my Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Address of my Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"other","button":"Next","wrong_address_with_email":"You typed an email address. To connect on your cozy you must type its url, something like https://camillenimbus.mycozy.cloud","wrong_address_v2":"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"This address doesnt seem to be a cozy. Please check the address you provide.","wrong_address_cosy":"Woops, the address is not correct. Try with \"cozy\" with a \"z\"!"},"files":{"title":"Access your drive","description":"In order to save your Cozy Drive on your device, the application must access your files."},"photos":{"title":"Backup your photos and videos","description":"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},"contacts":{"title":"Sync your contacts","description":"Save your phone's contact on your Cozy  this will facilitate sharing files with them."},"step":{"button":"Enable now","skip":"Later","next":"Next"},"analytics":{"title":"Help us improve Cozy","description":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},"settings":{"title":"Settings","about":{"title":"About","app_version":"App Version","account":"Account"},"unlink":{"title":"Sign out of your Cozy","description":"By signing out of your Cozy from this device, you will not lose any data in your Cozy. This will remove your offline files from this device related to your Cozy.","button":"Sign out"},"media_backup":{"media_folder":"Photos","backup_folder":"Backed up from my mobile","legacy_backup_folder":"Backuped from my mobile","title":"Media Backup","images":{"title":"Backup images","label":"Backup your images automatically to your Cozy not to ever lose them and share them easily."},"launch":"Launch Backup","stop":"Stop Backup","wifi":{"title":"Backup on WIFI only","label":"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},"media_upload":"%{smart_count} remaining picture |||| %{smart_count} remaining pictures","media_uptodate":"Media backup is up-to-date","preparing":"Searching for media to backup...","no_wifi":"Please connect to a WIFI","quota":"Storage limit nearly reached","quota_contact":"Manage your storage space"},"support":{"title":"Support","analytics":{"title":"Help us improve Cozy","label":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},"feedback":{"title":"Help improve Cozy Drive","description":"Send your feedback to help us improve Cozy Drive. Click on the button below, explain the problem or make a suggestion and send it. You're done!","button":"leave feedback"},"logs":{"title":"Help us to understand your problem","description":"Send the application log to help us improve its quality and stability.","button":"Send my logs","success":"Thanks, we will investigate your problem and contact you soon.","error":"A problem happened, logs couldn't be sent, please try again."}},"contacts":{"title":"Contacts","subtitle":"Import contacts","text":"Import the contacts from your device to your Cozy to easily share content with them."}},"error":{"open_with":{"offline":"You should be connected to open this file","noapp":"No application can open this file"},"make_available_offline":{"offline":"You should be connected to open this file","noapp":"No application can open this file"}},"revoked":{"title":"Access revoked","description":"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.","loginagain":"Log in again","logout":"Log out"},"rating":{"enjoy":{"title":"Enjoying Cozy Drive?","yes":"Yes!","no":"Not really"},"rate":{"title":"Would you mind rating it?","yes":"Let's do that!","no":"No, thanks","later":"Maybe later"},"feedback":{"title":"Would you mind giving us some feedback?","yes":"Send","no":"No, thanks"},"email":{"subject":"Feedback on Cozy Drive","placeholder":"Hello, I think Cozy Drive would be better if"},"alert":{"rated":"Thank you! You're ","declined":"Awesome. You will love the upcoming features. Stay Cozy!","later":"No problem, we'll ask again later.","feedback":"Thank you for the feedback. We'll definitely work on it!"}},"first_sync":{"title":"You are about to start your first photos back up ","tips":"Tips","tip_bed":"Open Cozy Drive before you go to bed or when you don't use your phone.","tip_wifi":"Enable Wi-Fi to preserve your data.","tip_lock":"Disable your lock screen.","result":"In the morning, all your photos will be stored in a safe and secure location.","button":"Got it!"},"notifications":{"backup_paused":"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},"upload":{"alert":{"success":"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.","success_conflicts":"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} file uploaded and %{updatedCount} updated. |||| %{smart_count} files uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} file uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} files uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} file updated. |||| %{smart_count} files updated.","updated_conflicts":"%{smart_count} file updated with %{conflictCount} conflict(s). |||| %{smart_count} files updated with %{conflictCount} conflict(s).","errors":"Errors occurred during the file upload.","network":"You are currenly offline. Please try again once you're connected."}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Uploaded %{done} out of %{total} successfully","close":"close","item":{"pending":"Pending"}},"Viewer":{"close":"Close","noviewer":{"download":"Download this file","openWith":"Open with...","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":"Download"},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":"Retry"},"error":{"noapp":"No application found to handle this file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You're currently offline."}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it's original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it's original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back."},"FileOpenerExternal":{"fileNotFoundError":"Error: file not found"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"You are currently offline and you can't use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}}};

/***/ }),

/***/ "NMd3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cancelMediaBackup", function() { return cancelMediaBackup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startMediaBackup", function() { return startMediaBackup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backupImages", function() { return backupImages; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("DzJC");
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var drive_mobile_lib_media__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("fKGi");
/* harmony import */ var drive_mobile_lib_i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("/GQe");
/* harmony import */ var drive_mobile_lib_network__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("nfx8");
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("qxHO");
/* harmony import */ var drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("cSBT");
/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("aNx5");
/* harmony import */ var folder_references__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("A3Xe");
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("OTOu");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _reducer__WEBPACK_IMPORTED_MODULE_8__["default"]; });




/* global cozy */









var ERROR_CODE_TOO_LARGE = 413;
var cancelMediaBackup = function cancelMediaBackup() {
  return {
    type: _reducer__WEBPACK_IMPORTED_MODULE_8__["MEDIA_UPLOAD_CANCEL"]
  };
};

var currentMediaUpload = function currentMediaUpload(media, uploadCounter, totalUpload) {
  return {
    type: _reducer__WEBPACK_IMPORTED_MODULE_8__["CURRENT_UPLOAD"],
    media: media,
    messageData: {
      current: uploadCounter,
      total: totalUpload
    }
  };
};

var getUploadDir =
/*#__PURE__*/
function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client) {
    var uploadedFolders, t, mediaFolderName, uploadFolderName, legacyUploadFolderName, _ref2, legacyFolder, uploadFolder;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return Object(folder_references__WEBPACK_IMPORTED_MODULE_9__["getReferencedFolders"])(client, folder_references__WEBPACK_IMPORTED_MODULE_9__["REF_BACKUP"]);

          case 2:
            uploadedFolders = _context.sent;

            if (!(uploadedFolders.length >= 1)) {
              _context.next = 7;
              break;
            }

            return _context.abrupt("return", uploadedFolders[0]);

          case 7:
            t = Object(drive_mobile_lib_i18n__WEBPACK_IMPORTED_MODULE_4__["getTranslateFunction"])();
            mediaFolderName = t('mobile.settings.media_backup.media_folder');
            uploadFolderName = t('mobile.settings.media_backup.backup_folder');
            legacyUploadFolderName = t('mobile.settings.media_backup.legacy_backup_folder');
            _context.next = 13;
            return Object(folder_references__WEBPACK_IMPORTED_MODULE_9__["getOrCreateFolderWithReference"])(client, "/".concat(mediaFolderName), folder_references__WEBPACK_IMPORTED_MODULE_9__["REF_PHOTOS"]);

          case 13:
            _context.prev = 13;
            _context.next = 16;
            return client.collection('io.cozy.files').statByPath("/".concat(mediaFolderName, "/").concat(legacyUploadFolderName, "/plop"));

          case 16:
            _ref2 = _context.sent;
            legacyFolder = _ref2.data;
            _context.next = 20;
            return Object(folder_references__WEBPACK_IMPORTED_MODULE_9__["getOrCreateFolderWithReference"])(client, "/".concat(mediaFolderName, "/").concat(legacyUploadFolderName), folder_references__WEBPACK_IMPORTED_MODULE_9__["REF_BACKUP"]);

          case 20:
            return _context.abrupt("return", legacyFolder);

          case 23:
            _context.prev = 23;
            _context.t0 = _context["catch"](13);

            if (!(_context.t0.status === 404)) {
              _context.next = 32;
              break;
            }

            _context.next = 28;
            return Object(folder_references__WEBPACK_IMPORTED_MODULE_9__["getOrCreateFolderWithReference"])(client, "/".concat(mediaFolderName, "/").concat(uploadFolderName), folder_references__WEBPACK_IMPORTED_MODULE_9__["REF_BACKUP"]);

          case 28:
            uploadFolder = _context.sent;
            return _context.abrupt("return", uploadFolder);

          case 32:
            throw _context.t0;

          case 33:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[13, 23]]);
  }));

  return function getUploadDir(_x) {
    return _ref.apply(this, arguments);
  };
}();

var canBackup = function canBackup(isManualBackup, getState) {
  var backupOnAnyNetworkType = !getState().mobile.settings.wifiOnly;
  return (isManualBackup || getState().mobile.settings.backupImages) && (Object(drive_mobile_lib_network__WEBPACK_IMPORTED_MODULE_5__["isWifi"])() || backupOnAnyNetworkType);
};

var startMediaBackup = function startMediaBackup() {
  var isManualBackup = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  return (
    /*#__PURE__*/
    function () {
      var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(dispatch, getState, _ref3) {
        var client, promptForPermissions, receivedAuthorisation, photosOnDevice, alreadyUploaded, photosToUpload, totalUpload, _ref5, uploadDirId, uploadDirPath, uploadCounter, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, photo;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                client = _ref3.client;
                dispatch({
                  type: _reducer__WEBPACK_IMPORTED_MODULE_8__["MEDIA_UPLOAD_START"]
                });
                _context2.next = 4;
                return Object(drive_mobile_lib_media__WEBPACK_IMPORTED_MODULE_3__["isAuthorized"])();

              case 4:
                if (_context2.sent) {
                  _context2.next = 13;
                  break;
                }

                promptForPermissions = isManualBackup;
                _context2.next = 8;
                return updateValueAfterRequestAuthorization(promptForPermissions);

              case 8:
                receivedAuthorisation = _context2.sent;
                // manual backup is only possible if the authorization is accepted
                if (isManualBackup && !receivedAuthorisation) isManualBackup = false; // disable backupImages when authorization is refused

                if (!(getState().mobile.settings.backupImages && !receivedAuthorisation)) {
                  _context2.next = 13;
                  break;
                }

                _context2.next = 13;
                return dispatch(Object(drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_7__["setBackupImages"])(false));

              case 13:
                if (!canBackup(isManualBackup, getState)) {
                  _context2.next = 66;
                  break;
                }

                _context2.prev = 14;
                _context2.next = 17;
                return Object(drive_mobile_lib_media__WEBPACK_IMPORTED_MODULE_3__["getPhotos"])();

              case 17:
                photosOnDevice = _context2.sent;
                alreadyUploaded = getState().mobile.mediaBackup.uploaded;
                photosToUpload = photosOnDevice.filter(function (photo) {
                  return !alreadyUploaded.includes(photo.id);
                });
                totalUpload = photosToUpload.length;

                if (!(totalUpload > 0)) {
                  _context2.next = 57;
                  break;
                }

                _context2.next = 24;
                return getUploadDir(client);

              case 24:
                _ref5 = _context2.sent;
                uploadDirId = _ref5._id;
                uploadDirPath = _ref5.attributes.path;
                uploadCounter = 0;
                _iteratorNormalCompletion = true;
                _didIteratorError = false;
                _iteratorError = undefined;
                _context2.prev = 31;
                _iterator = photosToUpload[Symbol.iterator]();

              case 33:
                if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
                  _context2.next = 43;
                  break;
                }

                photo = _step.value;

                if (!(getState().mobile.mediaBackup.cancelMediaBackup || getState().mobile.mediaBackup.diskQuotaReached || !canBackup(isManualBackup, getState))) {
                  _context2.next = 37;
                  break;
                }

                return _context2.abrupt("break", 43);

              case 37:
                dispatch(currentMediaUpload(photo, uploadCounter++, totalUpload));
                _context2.next = 40;
                return dispatch(uploadPhoto(uploadDirPath, uploadDirId, photo));

              case 40:
                _iteratorNormalCompletion = true;
                _context2.next = 33;
                break;

              case 43:
                _context2.next = 49;
                break;

              case 45:
                _context2.prev = 45;
                _context2.t0 = _context2["catch"](31);
                _didIteratorError = true;
                _iteratorError = _context2.t0;

              case 49:
                _context2.prev = 49;
                _context2.prev = 50;

                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }

              case 52:
                _context2.prev = 52;

                if (!_didIteratorError) {
                  _context2.next = 55;
                  break;
                }

                throw _iteratorError;

              case 55:
                return _context2.finish(52);

              case 56:
                return _context2.finish(49);

              case 57:
                cozy.client.settings.updateLastSync();
                _context2.next = 64;
                break;

              case 60:
                _context2.prev = 60;
                _context2.t1 = _context2["catch"](14);
                dispatch({
                  type: _reducer__WEBPACK_IMPORTED_MODULE_8__["MEDIA_UPLOAD_ABORT"]
                });
                if (!_context2.t1.message.match(/Failed to fetch/)) Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__["logException"])("Unexpected error during the files backup (".concat(_context2.t1.message, ")"));

              case 64:
                _context2.next = 67;
                break;

              case 66:
                dispatch({
                  type: _reducer__WEBPACK_IMPORTED_MODULE_8__["MEDIA_UPLOAD_ABORT"]
                });

              case 67:
                dispatch({
                  type: _reducer__WEBPACK_IMPORTED_MODULE_8__["MEDIA_UPLOAD_END"]
                });

              case 68:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, null, [[14, 60], [31, 45, 49, 57], [50,, 52, 56]]);
      }));

      return function (_x2, _x3, _x4) {
        return _ref4.apply(this, arguments);
      };
    }()
  );
};

var mediaUploadSucceed = function mediaUploadSucceed(_ref6) {
  var id = _ref6.id;
  return {
    type: _reducer__WEBPACK_IMPORTED_MODULE_8__["MEDIA_UPLOAD_SUCCESS"],
    id: id
  };
};

var uploadPhoto = function uploadPhoto(dirName, dirID, photo) {
  return (
    /*#__PURE__*/
    function () {
      var _ref7 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(dispatch) {
        var MILLISECOND, SECOND, MINUTE, maxBackupTime, timeout, onProgressUpdate, onThumbnailGenerated, reason;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.prev = 0;
                _context3.next = 3;
                return cozy.client.files.statByPath(dirName + '/' + photo.fileName);

              case 3:
                dispatch(mediaUploadSucceed(photo));
                return _context3.abrupt("return");

              case 7:
                _context3.prev = 7;
                _context3.t0 = _context3["catch"](0);

              case 9:
                // if an exception is throw, the file doesn't exist yet and we can safely upload it
                MILLISECOND = 1;
                SECOND = 1000 * MILLISECOND;
                MINUTE = 60 * SECOND;
                maxBackupTime = 5 * MINUTE;
                timeout = setTimeout(function () {
                  lib_logger__WEBPACK_IMPORTED_MODULE_10__["default"].info(JSON.stringify(photo));
                  Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__["logException"])("Backup duration exceeded ".concat(maxBackupTime, " milliseconds"));
                }, maxBackupTime);
                _context3.prev = 14;

                onProgressUpdate = function onProgressUpdate(progress) {
                  dispatch({
                    type: _reducer__WEBPACK_IMPORTED_MODULE_8__["CURRENT_UPLOAD_PROGRESS"],
                    progress: progress
                  });
                };

                onThumbnailGenerated = function onThumbnailGenerated() {};

                _context3.next = 19;
                return Object(drive_mobile_lib_media__WEBPACK_IMPORTED_MODULE_3__["uploadLibraryItem"])(dirID, photo, lodash_throttle__WEBPACK_IMPORTED_MODULE_2___default()(onProgressUpdate, 500), onThumbnailGenerated);

              case 19:
                clearTimeout(timeout);
                dispatch(mediaUploadSucceed(photo));
                _context3.next = 26;
                break;

              case 23:
                _context3.prev = 23;
                _context3.t1 = _context3["catch"](14);

                if (_context3.t1.code && parseInt(_context3.t1.code) === ERROR_CODE_TOO_LARGE) {
                  clearTimeout(timeout);
                  dispatch({
                    type: _reducer__WEBPACK_IMPORTED_MODULE_8__["MEDIA_UPLOAD_QUOTA"]
                  });
                } else {
                  lib_logger__WEBPACK_IMPORTED_MODULE_10__["default"].warn('startMediaBackup upload item error');
                  lib_logger__WEBPACK_IMPORTED_MODULE_10__["default"].warn(JSON.stringify(_context3.t1));
                  lib_logger__WEBPACK_IMPORTED_MODULE_10__["default"].info(JSON.stringify(photo));
                  reason = _context3.t1.message ? _context3.t1.message : JSON.stringify(_context3.t1);
                  Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__["logException"])('Backup error: ' + reason, null, ['backup error']);
                }

              case 26:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, null, [[0, 7], [14, 23]]);
      }));

      return function (_x5) {
        return _ref7.apply(this, arguments);
      };
    }()
  );
};

var backupImages = function backupImages(_backupImages) {
  var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return (
    /*#__PURE__*/
    function () {
      var _ref8 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(dispatch, getState) {
        var isAuthorized, _require, updateStatusBackgroundService;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                if (!(getState().mobile.mediaBackup.running === true && !force)) {
                  _context4.next = 2;
                  break;
                }

                return _context4.abrupt("return");

              case 2:
                if (!(_backupImages === undefined)) {
                  _context4.next = 6;
                  break;
                }

                _backupImages = getState().mobile.settings.backupImages;
                _context4.next = 8;
                break;

              case 6:
                _context4.next = 8;
                return dispatch(Object(drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_7__["setBackupImages"])(_backupImages));

              case 8:
                _context4.next = 10;
                return updateValueAfterRequestAuthorization(_backupImages);

              case 10:
                isAuthorized = _context4.sent;

                if (_backupImages && !isAuthorized) {
                  _backupImages = isAuthorized;
                  dispatch(Object(drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_7__["setBackupImages"])(_backupImages));
                }

                _require = __webpack_require__("UQWb"), updateStatusBackgroundService = _require.updateStatusBackgroundService;
                updateStatusBackgroundService(_backupImages);

                if (_backupImages) {
                  dispatch(startMediaBackup());
                }

                return _context4.abrupt("return", _backupImages);

              case 16:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4);
      }));

      return function (_x6, _x7) {
        return _ref8.apply(this, arguments);
      };
    }()
  );
};

var updateValueAfterRequestAuthorization =
/*#__PURE__*/
function () {
  var _ref9 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(value) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            if (!value) {
              _context5.next = 4;
              break;
            }

            _context5.next = 3;
            return Object(drive_mobile_lib_media__WEBPACK_IMPORTED_MODULE_3__["requestAuthorization"])();

          case 3:
            value = _context5.sent;

          case 4:
            return _context5.abrupt("return", value);

          case 5:
          case "end":
            return _context5.stop();
        }
      }
    }, _callee5);
  }));

  return function updateValueAfterRequestAuthorization(_x8) {
    return _ref9.apply(this, arguments);
  };
}();



/***/ }),

/***/ "NQEN":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("H+Xc");




var areTargetsInCurrentDir = function areTargetsInCurrentDir(targets, currentDirId) {
  var targetsInCurrentDir = targets.filter(function (target) {
    return target.dir_id === currentDirId;
  });
  return targetsInCurrentDir.length === targets.length;
};

var Footer = function Footer(_ref, _ref2) {
  var onConfirm = _ref.onConfirm,
      onClose = _ref.onClose,
      targets = _ref.targets,
      currentDirId = _ref.currentDirId,
      isMoving = _ref.isMoving;
  var t = _ref2.t;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["ModalFooter"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["ModalButtons"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Button"], {
    label: t('Move.cancel'),
    theme: "secondary",
    onClick: onClose
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Button"], {
    label: t('Move.action'),
    onClick: onConfirm,
    disabled: areTargetsInCurrentDir(targets, currentDirId) || isMoving,
    busy: isMoving
  })));
};

Footer.propTypes = {
  onConfirm: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  onClose: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  targets: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
  currentDirId: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  isMoving: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
};
Footer.contextTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
Footer.defaultProps = {
  isMoving: false
};
/* harmony default export */ __webpack_exports__["default"] = (Footer);

/***/ }),

/***/ "NU/b":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Item", function() { return Item; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Menu; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("H+Xc");
/* harmony import */ var components_Menu_index_styl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("Mlvp");
/* harmony import */ var components_Menu_index_styl__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(components_Menu_index_styl__WEBPACK_IMPORTED_MODULE_10__);











var Item = function Item(_ref) {
  var children = _ref.children,
      onClick = _ref.onClick;
  return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    onClick: onClick,
    className: components_Menu_index_styl__WEBPACK_IMPORTED_MODULE_10___default.a['coz-menu-item']
  }, children);
};

var Menu =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(Menu, _Component);

  function Menu() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Menu);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(Menu)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", {
      opened: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "toggle", function () {
      return _this.state.opened ? _this.close() : _this.open();
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "handleSelect", function () {
      _this.close();
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "open", function () {
      _this.setState({
        opened: true
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "close", function () {
      _this.setState({
        opened: false
      });
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Menu, [{
    key: "renderItems",
    value: function renderItems() {
      var _this2 = this;

      return react__WEBPACK_IMPORTED_MODULE_7___default.a.Children.map(this.props.children, function (item) {
        if (!item) return item; //if the Item is wrapped in an HOC we should provide a type props

        if (item.props && item.props.type === 'hr' || item.type === 'hr') {
          return item;
        }

        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
          onClick: _this2.handleSelect
        }, item);
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          title = _this$props.title,
          disabled = _this$props.disabled,
          className = _this$props.className,
          innerClassName = _this$props.innerClassName,
          button = _this$props.button,
          buttonClassName = _this$props.buttonClassName;
      var opened = this.state.opened;
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_8___default()(components_Menu_index_styl__WEBPACK_IMPORTED_MODULE_10___default.a['coz-menu'], className)
      }, button && react__WEBPACK_IMPORTED_MODULE_7___default.a.cloneElement(button, {
        disabled: disabled,
        onClick: this.toggle
      }), !button && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button", {
        role: "button",
        className: buttonClassName || components_Menu_index_styl__WEBPACK_IMPORTED_MODULE_10___default.a['c-btn'],
        disabled: disabled,
        onClick: this.toggle
      }, title), opened && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_9__["Overlay"], {
        onClick: this.close,
        onEscape: this.close,
        className: components_Menu_index_styl__WEBPACK_IMPORTED_MODULE_10___default.a['cozy-menu-overlay']
      }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        "data-test-id": "coz-menu-inner",
        className: classnames__WEBPACK_IMPORTED_MODULE_8___default()(components_Menu_index_styl__WEBPACK_IMPORTED_MODULE_10___default.a['coz-menu-inner'], innerClassName, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()({}, components_Menu_index_styl__WEBPACK_IMPORTED_MODULE_10___default.a['coz-menu-inner--opened'], opened))
      }, this.renderItems()));
    }
  }]);

  return Menu;
}(react__WEBPACK_IMPORTED_MODULE_7__["Component"]);



/***/ }),

/***/ "NirP":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileListBody", function() { return FileListBody; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("/MKj");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var components_Error_Oops__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("CxWN");
/* harmony import */ var components_Error_Empty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("KOJc");
/* harmony import */ var drive_web_modules_navigation_AsyncBoundary__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("tlNk");
/* harmony import */ var drive_web_modules_filelist_FileListRowsPlaceholder__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("zLPI");
/* harmony import */ var drive_web_modules_filelist_FileListRows__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("kOwV");
/* harmony import */ var drive_web_modules_filelist_AddFolder__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("MpOc");
/* harmony import */ var drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("7oMs");
/* harmony import */ var drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("37ak");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_15__);

















var EmptyContent = function EmptyContent(props) {
  var isTrashContext = props.isTrashContext,
      canUpload = props.canUpload;

  if (isTrashContext && !props.params.folderId) {
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components_Error_Empty__WEBPACK_IMPORTED_MODULE_8__["EmptyTrash"], null);
  }

  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components_Error_Empty__WEBPACK_IMPORTED_MODULE_8__["EmptyDrive"], {
    canUpload: canUpload
  });
};

EmptyContent.propTypes = {
  isTrashContext: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  canUpload: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  params: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object
};
EmptyContent.defaultProps = {
  isTrashContext: false,
  canUpload: false,
  params: {}
};
var FileListBody = function FileListBody(_ref) {
  var files = _ref.files,
      selectionModeActive = _ref.selectionModeActive,
      isTypingNewFolderName = _ref.isTypingNewFolderName,
      withSelectionCheckbox = _ref.withSelectionCheckbox,
      props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, ["files", "selectionModeActive", "isTypingNewFolderName", "withSelectionCheckbox"]);

  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    "data-test-id": "fil-content-body",
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_15___default.a['fil-content-body'], _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_15___default.a['fil-content-body--selectable'], selectionModeActive))
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(drive_web_modules_filelist_AddFolder__WEBPACK_IMPORTED_MODULE_12__["default"], null), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(drive_web_modules_navigation_AsyncBoundary__WEBPACK_IMPORTED_MODULE_9__["default"], null, function (_ref2) {
    var isLoading = _ref2.isLoading,
        isInError = _ref2.isInError;
    if (isLoading) return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(drive_web_modules_filelist_FileListRowsPlaceholder__WEBPACK_IMPORTED_MODULE_10__["default"], null);else if (isInError) return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components_Error_Oops__WEBPACK_IMPORTED_MODULE_7__["default"], null);else if (files.length === 0 && !isTypingNewFolderName) return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(EmptyContent, props);else return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(drive_web_modules_filelist_FileListRows__WEBPACK_IMPORTED_MODULE_11__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      files: files,
      withSelectionCheckbox: withSelectionCheckbox
    }, props));
  }));
};
FileListBody.propTypes = {
  selectionModeActive: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  isTypingNewFolderName: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  withSelectionCheckbox: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  files: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.array,
  fileCount: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
  fetchMoreFiles: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  displayedFolder: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object,
  fileActions: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object,
  onFolderOpen: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  onFileOpen: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  withFilePath: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  withSharedBadge: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  isRenaming: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  renamingFile: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    selectionModeActive: Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_13__["isSelectionBarVisible"])(state),
    isTypingNewFolderName: Object(drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_14__["isTypingNewFolderName"])(state)
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["connect"])(mapStateToProps)(FileListBody));

/***/ }),

/***/ "Nxnt":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"Drive","item_recent":"Recente","item_sharings":"Sharings","item_shared":"Condiviso con me","item_activity":"Attivit","item_trash":"Cestino","item_settings":"Impostazioni","item_collect":"Administrative","btn-client":"Get Cozy Drive for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Get Cozy Drive for Desktop and synchronise your files safely to make them accessible at all times.","banner-btn-client":"Download","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Drive","title_recent":"Recente","title_sharings":"Sharings","title_shared":"Condiviso con me","title_activity":"Attivit","title_trash":"Cestino"},"Toolbar":{"more":"Altro"},"toolbar":{"item_upload":"Carica","menu_upload":"Carica file","item_more":"Altro","menu_new_folder":"Nuova cartella","menu_select":"Seleziona oggetti","menu_download_folder":"Cartella scaricati","menu_download_file":"Download this file","menu_open_cozy":"Open in my Cozy","empty_trash":"Svuota cestino","share":"Condividi","trash":"Rimuovi","leave":"Lascia la cartella condivisa ed eliminala"},"Share":{"status":{"owner":"Owner","pending":"In attesa","ready":"Accepted","refused":"Rifiutato","error":"Errore ","unregistered":"Errore","mail-not-sent":"Pending","revoked":"Errore"},"type":{"one-way":"Can View","two-way":"Pu cambiare","desc":{"one-way":"Contacts can view, download, and add the content to their Cozy. If they add the content to their Cozy, they will get updates you make to the content, but they won't be able to update it.","two-way":"Contacts can update, delete and add the content to their Cozy. Updates on the content will be seen on other Cozies."}},"locked-type-file":"Coming soon: you will be able to change permissions you grant on the file.","locked-type-folder":"Coming soon: you will be able to change permissions you grant on the folder.","recipients":{"you":"You","accessCount":"%{count} people have access"},"create-cozy":"Crea il mio cozy","members":{"count":"1 member |||| %{smart_count} members","others":"and 1 other |||| and %{smart_count} others","otherContacts":"other contact |||| other contacts"},"contacts":{"permissionRequired":{"title":"Save your contacts in your Cozy?","desc":"Authorize the application to access to your Cozy's contacts: you'll be able to select them next time.","action":"Authorize access","success":"The application has access to your contacts"}}},"Sharings":{"unavailable":{"title":"Switch online!","message":"An internet connection is needed to display the list of your last sharings."}},"Files":{"share":{"cta":"Condividi","title":"Condividi","details":{"title":"Dettagli condivisi","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Cozy. You will get updates by the owner, but you won't be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Cozy. Updates you make will be seen on other Cozies."}},"sharedByMe":"Condiviso da me","sharedWithMe":"Condiviso con me","sharedBy":"Shared by %{name}","shareByLink":{"subtitle":"Tramite link pubblico","desc":"Anyone with the provided link can see and download your files.","creating":"Creating your link...","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard"},"shareByEmail":{"subtitle":"Tramite email","email":"A:","emailPlaceholder":"Enter the email address or name of the recipient","send":"Invia","genericSuccess":"You sent an invite to %{count} contacts.","success":"You sent an invite to %{email}.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won't be synchrnoized anymore.","success":"You removed this shared file from %{email}."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won't be updated between your Cozy anymore.","success":"You were removed from this sharing."},"sharingLink":{"title":"Link to share","copy":"Copia","copied":"Copiato"},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Chiudi","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":" in una cartella condivisa","hasSharedFolder":"contiene una cartella condivisa"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"Nome","head_update":"Ultimo aggiornamento","head_size":"Dimensione","head_status":"Stato","head_thumbnail_size":"Switch thumbnail size","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":"Condividi (Solo Lettura)","row_read_write":"Condividi (Lettura e Scrittura)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"Carica altro","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oldest first","head_updated_at_desc":"Most recent first","head_size_asc":"Lightest first","head_size_desc":"Heavier first"}},"SelectionBar":{"selected_count":"item selected |||| items selected","share":"Condividi","download":"Scarica","trash":"Rimuovi","destroy":"Elimina permanentemente","rename":"Rinomina","restore":"Ripristina","close":"Chiudi","openWith":"Apri con","moveto":"Move to","phone-download":"Make available offline","qualify":"Categorize"},"deleteconfirmation":{"title":"Delete this element? |||| Delete these elements?","trash":"It will be moved to the Trash. |||| They will be moved to the Trash.","restore":"You can still restore it whenever you want. |||| You can still restore them whenever you want.","shared":"The following contacts whom you shared it with will keep a copy but your changes won't be synchronized anymore. |||| The following contacts whom you shared them with will keep a copy but your changes won't be synchronized anymore","referenced":"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.","cancel":"Annulla","delete":"Rimuovi"},"emptytrashconfirmation":{"title":"Eliminare permanentemente?","forbidden":"Non sarai pi in grado di accedere a questi file.","restore":"You won't be able to restore these files if you didn't make a backup.","cancel":"Annulla","delete":"Elimina tutto"},"destroyconfirmation":{"title":"Eliminare permanentemente?","forbidden":"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.","restore":"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.","cancel":"Annulla","delete":"Elimina permanentemente"},"quotaalert":{"title":"Your disk space is full :(","desc":" Please remove files and empty your trash before uploading files again.","confirm":"OK"},"loading":{"message":"Caricamento"},"empty":{"title":"Non hai nessun file in questa cartella.","text":"Click the \"upload\" button to add files to this folder.","trash_title":"You dont have any deleted files.","trash_text":"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."},"error":{"open_folder":"Something went wrong when opening the folder.","button":{"reload":"Aggiorna adesso"},"download_file":{"offline":"Devi essere connesso per scaricare questo file","missing":"This file is missing"}},"Error":{"public_unshared_title":"Sorry, this link is no longer available.","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!"},"alert":{"could_not_open_file":"Il file non pu essere aperto","try_again":"An error has occurred, please try again in a moment.","restore_file_success":"The selection has been successfully restored.","trash_file_success":"The selection has been moved to the Trash.","destroy_file_success":"The selection has been deleted permanently.","empty_trash_progress":"Your trash is being emptied. This might take a few moments.","empty_trash_success":"Il cestino  stato svuotato","folder_name":"The element %{folderName} already exists, please choose a new name.","folder_generic":"An error occurred, please try again.","folder_abort":"You need to add a name to your new folder if you would like to save it. Your information has not been saved.","offline":"Questa caratteristica non  disponibile offline.","preparing":"Preparing your files"},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Create a Cozy or sign in to access Cozy Drive","button":"Sign in","no_account_link":"I don't have a Cozy","create_my_cozy":"Create my Cozy"},"server_selection":{"title":"Sign in","lostpwd":"[I forgot the address of my Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Address of my Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"other","button":"Successivo","wrong_address_with_email":"You typed an email address. To connect on your cozy you must type its url, something like https://camillenimbus.mycozy.cloud","wrong_address_v2":"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"This address doesnt seem to be a cozy. Please check the address you provide.","wrong_address_cosy":"Woops, the address is not correct. Try with \"cozy\" with a \"z\"!"},"files":{"title":"Accedi al tuo drive","description":"In order to save your Cozy Drive on your device, the application must access your files."},"photos":{"title":"Backup your photos and videos","description":"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},"contacts":{"title":"Sincronizza i tuoi contatti","description":"Save your phone's contact on your Cozy  this will facilitate sharing files with them."},"step":{"button":"Abilitalo adesso","skip":"Dopo","next":"Successivo"},"analytics":{"title":"Aiutaci a migliorare Cozy","description":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},"settings":{"title":"Impostazioni","about":{"title":"About","app_version":"Versione App","account":"Account"},"unlink":{"title":"Sign out of your Cozy","description":"By signing out of your Cozy from this device, you will not lose any data in your Cozy. This will remove your offline files from this device related to your Cozy.","button":"Sign out"},"media_backup":{"media_folder":"Photos","backup_folder":"Backed up from my mobile","legacy_backup_folder":"Backuped from my mobile","title":"Media Backup","images":{"title":"Backup images","label":"Backup your images automatically to your Cozy not to ever lose them and share them easily."},"launch":"Avvia Backup","stop":"Ferma Backup","wifi":{"title":"Backup solo su WIFI","label":"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},"media_upload":"%{smart_count} remaining picture |||| %{smart_count} remaining pictures","media_uptodate":"Media backup is up-to-date","preparing":"Searching for media to backup...","no_wifi":"Connetti al WIFI","quota":"Limite spazio di archiviazione quasi raggiunto","quota_contact":"Gestisci il tuo spazio di archiviazione"},"support":{"title":"Supporto","analytics":{"title":"Aiutaci a migliorare Cozy","label":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},"feedback":{"title":"Aiuta a migliorare Cozy Drive","description":"Send your feedback to help us improve Cozy Drive. Click on the button below, explain the problem or make a suggestion and send it. You're done!","button":"lascia un feedback"},"logs":{"title":"Aiutaci a capire il tuo problema","description":"Send the application log to help us improve its quality and stability.","button":"Send my logs","success":"Thanks, we will investigate your problem and contact you soon.","error":"A problem happened, logs couldn't be sent, please try again."}},"contacts":{"title":"Contatti","subtitle":"Importa contatti","text":"Import the contacts from your device to your Cozy to easily share content with them."}},"error":{"open_with":{"offline":"Devi essere connesso per aprire questo file","noapp":"Nessuna applicazione pu aprire questo file"},"make_available_offline":{"offline":"You should be connected to open this file","noapp":"No application can open this file"}},"revoked":{"title":"Accesso revocato","description":"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.","loginagain":"Entra di nuovo","logout":"Esci"},"rating":{"enjoy":{"title":"Ti piace Cozy Drive?","yes":"SI!","no":"Non tanto"},"rate":{"title":"Hai pensato di votarla?","yes":"Facciamolo!","no":"No, grazie","later":"Magari dopo"},"feedback":{"title":"Would you mind giving us some feedback?","yes":"Invia","no":"No, grazie"},"email":{"subject":"Feedback on Cozy Drive","placeholder":"Hello, I think Cozy Drive would be better if"},"alert":{"rated":"Grazie! Siete ","declined":"Awesome. You will love the upcoming features. Stay Cozy!","later":"No problem, we'll ask again later.","feedback":"Thank you for the feedback. We'll definitely work on it!"}},"first_sync":{"title":"You are about to start your first photos back up ","tips":"Trucchi","tip_bed":"Apri Cozy Drive prima di andare a letto o quando non stai usando il tuo telefono.","tip_wifi":"Abilita il Wi-Fi per preservare i tuoi dati mobili.","tip_lock":"Disabilita il tuo blocco schermo.","result":"Al mattino, tutte le tue foto saranno salvate in un luogo sicuro.","button":"Capito!"},"notifications":{"backup_paused":"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},"upload":{"alert":{"success":"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.","success_conflicts":"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} file uploaded and %{updatedCount} updated. |||| %{smart_count} files uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} file uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} files uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} file updated. |||| %{smart_count} files updated.","updated_conflicts":"%{smart_count} file updated with %{conflictCount} conflict(s). |||| %{smart_count} files updated with %{conflictCount} conflict(s).","errors":"Errore durante il caricamento del file.","network":"You are currenly offline. Please try again once you're connected."}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Uploaded %{done} out of %{total} successfully","close":"chiudi","item":{"pending":"In attesa"}},"Viewer":{"close":"Chiudi","noviewer":{"download":"Scarica questo file","openWith":"Apri con...","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":"Scarica"},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":"Riprova"},"error":{"noapp":"Non  stata trovata nessuna applicazione per gestire questo file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You're currently offline."}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it's original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it's original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back."},"FileOpenerExternal":{"fileNotFoundError":"Errore: file non trovato"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"You are currently offline and you can't use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}}};

/***/ }),

/***/ "OMqL":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("buk/");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("z+SL");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("37ak");





var AddFolderItem = Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_2__["translate"])()(function (_ref) {
  var t = _ref.t,
      addFolder = _ref.addFolder;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    "data-test-id": "add-folder-link",
    className: drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_3___default.a['fil-action-newfolder'],
    onClick: addFolder
  }, t('toolbar.menu_new_folder'));
});

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    addFolder: function addFolder() {
      return dispatch(Object(drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_4__["showNewFolderInput"])());
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(null, mapDispatchToProps)(AddFolderItem));

/***/ }),

/***/ "OTOu":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var minilog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("i9cR");
/* harmony import */ var minilog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(minilog__WEBPACK_IMPORTED_MODULE_0__);
/* global __APP_SLUG__ */

var logger = minilog__WEBPACK_IMPORTED_MODULE_0___default()("cozy-".concat("drive"));
minilog__WEBPACK_IMPORTED_MODULE_0___default.a.enable();
minilog__WEBPACK_IMPORTED_MODULE_0___default.a.suggest.allow("cozy-".concat("drive"), 'log');
minilog__WEBPACK_IMPORTED_MODULE_0___default.a.suggest.allow("cozy-".concat("drive"), 'info');
/* harmony default export */ __webpack_exports__["default"] = (logger);

/***/ }),

/***/ "OZnT":
/***/ (function(module, exports) {

module.exports = "/img/app-icon.svg";

/***/ }),

/***/ "OjRq":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("Le8U");
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_doctypes__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CozyFile", function() { return cozy_doctypes__WEBPACK_IMPORTED_MODULE_0__["CozyFile"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Group", function() { return cozy_doctypes__WEBPACK_IMPORTED_MODULE_0__["Group"]; });

/* harmony import */ var models_Contact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/WUI");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Contact", function() { return models_Contact__WEBPACK_IMPORTED_MODULE_1__["default"]; });





/***/ }),

/***/ "Opa8":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var diacritics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("C9yA");
/* harmony import */ var diacritics__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(diacritics__WEBPACK_IMPORTED_MODULE_2__);


 // Search for keywords inside a list of files and folders, while being permissive regardig the order of words

var FuzzyPathSearch =
/*#__PURE__*/
function () {
  function FuzzyPathSearch() {
    var files = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, FuzzyPathSearch);

    // files must have a `path` and `name` property
    this.files = files;
    this.previousQuery = [];
    this.previousSuggestions = files;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FuzzyPathSearch, [{
    key: "search",
    value: function search(query) {
      if (!query) return [];
      var queryArray = Object(diacritics__WEBPACK_IMPORTED_MODULE_2__["remove"])(query.replace(/\//g, ' ').trim().toLowerCase()).split(' ');
      var preparedQuery = queryArray.map(function (word) {
        return {
          word: word,
          isAugmentedWord: false,
          isNewWord: true
        };
      });
      var isQueryAugmented = this.isAugmentingPreviousQuery(preparedQuery);
      var sortedQuery = isQueryAugmented ? this.sortQueryByRevelance(preparedQuery) : this.sortQuerybyLength(preparedQuery);
      var suggestions;

      if (isQueryAugmented && this.previousSuggestions.length !== 0) {
        // the new query is just a more selective version of the previous one, so we narrow down the existing list
        suggestions = this.filterAndScore(this.previousSuggestions, sortedQuery.map(function (segment) {
          return segment.word;
        }));
      } else {
        suggestions = this.filterAndScore(this.files, sortedQuery.map(function (segment) {
          return segment.word;
        }));
      }

      this.previousQuery = sortedQuery;
      this.previousSuggestions = suggestions;
      return suggestions;
    }
  }, {
    key: "isAugmentingPreviousQuery",
    value: function isAugmentingPreviousQuery(query) {
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = query[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var currentQuerySegment = _step.value;
          var isInPreviousQuery = false;
          var _iteratorNormalCompletion2 = true;
          var _didIteratorError2 = false;
          var _iteratorError2 = undefined;

          try {
            for (var _iterator2 = this.previousQuery[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
              var previousQuerySegment = _step2.value;

              if (currentQuerySegment.word.includes(previousQuerySegment.word)) {
                isInPreviousQuery = true;
                break;
              }
            } // we found a word in the current query that was not included in the previous query, so we consider it a completely new query

          } catch (err) {
            _didIteratorError2 = true;
            _iteratorError2 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
                _iterator2.return();
              }
            } finally {
              if (_didIteratorError2) {
                throw _iteratorError2;
              }
            }
          }

          if (isInPreviousQuery === false) return false;
        } // all words are in the previous query

      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      return true;
    }
  }, {
    key: "sortQueryByRevelance",
    value: function sortQueryByRevelance(query) {
      // query terms are sorted in two categories: those that are new or have changed, and therefore may further reduce the set of results, are prioritzed. Those that were there and have not changed come second.
      // finally, longer words are placed first to allow discarding files earlier in the scoring loop
      var priorizedWords = [];
      var wordsFromPreviousQuery = [];
      var _iteratorNormalCompletion3 = true;
      var _didIteratorError3 = false;
      var _iteratorError3 = undefined;

      try {
        for (var _iterator3 = query[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
          var currentQuerySegment = _step3.value;
          var wasInPreviousQuery = false;
          var _iteratorNormalCompletion4 = true;
          var _didIteratorError4 = false;
          var _iteratorError4 = undefined;

          try {
            for (var _iterator4 = this.previousQuery[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
              var previousQuerySegment = _step4.value;

              if (currentQuerySegment.word.includes(previousQuerySegment.word)) {
                if (currentQuerySegment.word !== previousQuerySegment.word) {
                  currentQuerySegment.isAugmentedWord = true;
                  priorizedWords.push(currentQuerySegment);
                } else {
                  currentQuerySegment.isNewWord = false;
                  wordsFromPreviousQuery.push(currentQuerySegment);
                }

                wasInPreviousQuery = true;
                continue;
              }
            } // this segment wasn't included in any previous query segment so it's a new word and we prioritize it

          } catch (err) {
            _didIteratorError4 = true;
            _iteratorError4 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion4 && _iterator4.return != null) {
                _iterator4.return();
              }
            } finally {
              if (_didIteratorError4) {
                throw _iteratorError4;
              }
            }
          }

          if (!wasInPreviousQuery) priorizedWords.push(currentQuerySegment);
        }
      } catch (err) {
        _didIteratorError3 = true;
        _iteratorError3 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {
            _iterator3.return();
          }
        } finally {
          if (_didIteratorError3) {
            throw _iteratorError3;
          }
        }
      }

      return this.sortQuerybyLength(priorizedWords).concat(this.sortQuerybyLength(wordsFromPreviousQuery));
    }
  }, {
    key: "sortQuerybyLength",
    value: function sortQuerybyLength(query) {
      return query.sort(function (a, b) {
        return b.word.length - a.word.length;
      });
    }
  }, {
    key: "filterAndScore",
    value: function filterAndScore(files, words) {
      var suggestions = [];
      files.forEach(function (file) {
        var fileScore = 0;
        var pathArray = Object(diacritics__WEBPACK_IMPORTED_MODULE_2__["remove"])((file.path + '/' + file.name).toLowerCase()).split('/').filter(function (pathChunk) {
          return !!pathChunk;
        });
        var _iteratorNormalCompletion5 = true;
        var _didIteratorError5 = false;
        var _iteratorError5 = undefined;

        try {
          for (var _iterator5 = words[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {
            var word = _step5.value;
            // let the magic begin...
            // essentialy, matched words that are at the end of the path get better scores
            var wordScore = 0;
            var wordOccurenceValue = 10000;
            var firstOccurence = true;
            var maxDepth = pathArray.length;

            for (var depth = 0; depth < maxDepth; ++depth) {
              var dirName = pathArray[depth];

              if (dirName.includes(word)) {
                if (firstOccurence) {
                  wordOccurenceValue = 52428800; // that's 2^19 * 100

                  wordScore += wordOccurenceValue / 2 * (1 + word.length / dirName.length);
                  firstOccurence = false;
                } else {
                  wordScore -= wordOccurenceValue * (1 - word.length / dirName.length);
                }

                wordOccurenceValue /= 2;
              } else {
                wordScore -= wordOccurenceValue;
                wordOccurenceValue /= 2;

                if (depth === maxDepth - 1) {
                  // make the penality bigger if the last part of the path doesn't include the word at all
                  wordScore /= 2;
                }
              }

              wordOccurenceValue /= 2;
            }

            if (wordScore < 0) return;
            fileScore += wordScore;
          }
        } catch (err) {
          _didIteratorError5 = true;
          _iteratorError5 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion5 && _iterator5.return != null) {
              _iterator5.return();
            }
          } finally {
            if (_didIteratorError5) {
              throw _iteratorError5;
            }
          }
        }

        if (fileScore > 0) {
          suggestions.push({
            file: file,
            score: fileScore
          });
        }
      });
      suggestions.sort(function (a, b) {
        var score = b.score - a.score;
        return score !== 0 ? score : a.file.path.localeCompare(b.file.path);
      });
      return suggestions.map(function (suggestion) {
        return suggestion.file;
      });
    }
  }]);

  return FuzzyPathSearch;
}();

/* harmony default export */ __webpack_exports__["default"] = (FuzzyPathSearch);

/***/ }),

/***/ "OsbH":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SharingProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedDocument", function() { return SharedDocument; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedStatus", function() { return SharedStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedBadge", function() { return SharedBadge; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedRecipients", function() { return SharedRecipients; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedRecipientsList", function() { return SharedRecipientsList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShareButton", function() { return ShareButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShareModal", function() { return ShareModal; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("4kcP");
/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("QWsP");
/* harmony import */ var sharing_context__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("skT2");
/* harmony import */ var _components_SharedBadge__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("otEB");
/* harmony import */ var _components_ShareButton__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("ziD/");
/* harmony import */ var sharing_components_EditableSharingModal__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("9Xrh");
/* harmony import */ var _SharingDetailsModal__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("/FPF");
/* harmony import */ var _components_WhoHasAccessLight__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("hz+9");
/* harmony import */ var _components_Recipient__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("MzcY");
/* harmony import */ var _components_SharedStatus__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("vGv+");



























var track = function track(document, action) {
  var tracker = Object(cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_16__["getTracker"])();

  if (!tracker) {
    return;
  }

  tracker.push(['trackEvent', isFile(document) ? 'Drive' : 'Photos', action, "".concat(action).concat(isFile(document) ? 'File' : 'Album')]);
};

var trackSharingByLink = function trackSharingByLink(document) {
  return track(document, 'shareByLink');
};

var isFile = function isFile(_ref) {
  var _type = _ref._type;
  return _type === 'io.cozy.files';
};

var SharingProvider =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_12___default()(SharingProvider, _Component);

  function SharingProvider(props, context) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default()(this, SharingProvider);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_9___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10___default()(SharingProvider).call(this, props, context));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_11___default()(_this), "dispatch", function (action) {
      return _this.setState(function (state) {
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_6___default()({}, state, Object(_state__WEBPACK_IMPORTED_MODULE_17__["default"])(state, action));
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_11___default()(_this), "getFilesPaths",
    /*#__PURE__*/
    function () {
      var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee(files) {
        var parentDirIds, parentDirs, filePaths;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                parentDirIds = files.map(function (f) {
                  return f.dir_id;
                }).filter(function (f, idx, arr) {
                  return arr.indexOf(f) === idx;
                });
                _context.next = 3;
                return _this.context.client.collection(_this.props.doctype).all({
                  keys: parentDirIds
                });

              case 3:
                parentDirs = _context.sent;
                filePaths = files.map(function (f) {
                  var parentDirPath = parentDirs.data.find(function (d) {
                    return d.id === f.dir_id;
                  }).path;
                  return parentDirPath === '/' ? "/".concat(f.name) : "".concat(parentDirPath, "/").concat(f.name);
                });
                return _context.abrupt("return", filePaths);

              case 6:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function (_x) {
        return _ref2.apply(this, arguments);
      };
    }());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_11___default()(_this), "share",
    /*#__PURE__*/
    function () {
      var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee2(document, recipients, sharingType, description) {
        var sharing, resp;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                sharing = Object(_state__WEBPACK_IMPORTED_MODULE_17__["getDocumentSharing"])(_this.state, document.id);

                if (!sharing) {
                  _context2.next = 3;
                  break;
                }

                return _context2.abrupt("return", _this.addRecipients(sharing, recipients, sharingType));

              case 3:
                _context2.next = 5;
                return _this.context.client.collection('io.cozy.sharings').share(document, recipients, sharingType, description, '/preview');

              case 5:
                resp = _context2.sent;
                _context2.t0 = _this;
                _context2.t1 = _state__WEBPACK_IMPORTED_MODULE_17__["addSharing"];
                _context2.t2 = resp.data;
                _context2.t3 = document.path;

                if (_context2.t3) {
                  _context2.next = 14;
                  break;
                }

                _context2.next = 13;
                return _this.getFilesPaths([document]);

              case 13:
                _context2.t3 = _context2.sent;

              case 14:
                _context2.t4 = _context2.t3;
                _context2.t5 = (0, _context2.t1)(_context2.t2, _context2.t4);

                _context2.t0.dispatch.call(_context2.t0, _context2.t5);

                return _context2.abrupt("return", resp.data);

              case 18:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2);
      }));

      return function (_x2, _x3, _x4, _x5) {
        return _ref3.apply(this, arguments);
      };
    }());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_11___default()(_this), "addRecipients",
    /*#__PURE__*/
    function () {
      var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee3(sharing, recipients, sharingType) {
        var resp;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.next = 2;
                return _this.context.client.collection('io.cozy.sharings').addRecipients(sharing, recipients, sharingType);

              case 2:
                resp = _context3.sent;

                _this.dispatch(Object(_state__WEBPACK_IMPORTED_MODULE_17__["updateSharing"])(resp.data));

              case 4:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3);
      }));

      return function (_x6, _x7, _x8) {
        return _ref4.apply(this, arguments);
      };
    }());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_11___default()(_this), "revoke",
    /*#__PURE__*/
    function () {
      var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee4(document, sharingId, recipientIndex) {
        var sharing;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                sharing = Object(_state__WEBPACK_IMPORTED_MODULE_17__["getSharingById"])(_this.state, sharingId);
                _context4.next = 3;
                return _this.context.client.collection('io.cozy.sharings').revokeRecipient(sharing, recipientIndex);

              case 3:
                _context4.t0 = _this;
                _context4.t1 = _state__WEBPACK_IMPORTED_MODULE_17__["revokeRecipient"];
                _context4.t2 = sharing;
                _context4.t3 = recipientIndex;
                _context4.t4 = document.path;

                if (_context4.t4) {
                  _context4.next = 12;
                  break;
                }

                _context4.next = 11;
                return _this.getFilesPaths([document]);

              case 11:
                _context4.t4 = _context4.sent;

              case 12:
                _context4.t5 = _context4.t4;
                _context4.t6 = (0, _context4.t1)(_context4.t2, _context4.t3, _context4.t5);

                _context4.t0.dispatch.call(_context4.t0, _context4.t6);

              case 15:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4);
      }));

      return function (_x9, _x10, _x11) {
        return _ref5.apply(this, arguments);
      };
    }());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_11___default()(_this), "revokeSelf",
    /*#__PURE__*/
    function () {
      var _ref6 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee5(document) {
        var sharing;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                sharing = Object(_state__WEBPACK_IMPORTED_MODULE_17__["getSharingForSelf"])(_this.state, document.id);
                _context5.next = 3;
                return _this.context.client.collection('io.cozy.sharings').revokeSelf(sharing);

              case 3:
                _this.dispatch(Object(_state__WEBPACK_IMPORTED_MODULE_17__["revokeSelf"])(sharing));

              case 4:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5);
      }));

      return function (_x12) {
        return _ref6.apply(this, arguments);
      };
    }());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_11___default()(_this), "shareByLink",
    /*#__PURE__*/
    function () {
      var _ref7 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee6(document) {
        var resp;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                trackSharingByLink(document);
                _context6.next = 3;
                return _this.context.client.collection('io.cozy.permissions').createSharingLink(document);

              case 3:
                resp = _context6.sent;

                _this.dispatch(Object(_state__WEBPACK_IMPORTED_MODULE_17__["addSharingLink"])(resp.data));

                return _context6.abrupt("return", resp);

              case 6:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6);
      }));

      return function (_x13) {
        return _ref7.apply(this, arguments);
      };
    }());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_11___default()(_this), "revokeSharingLink",
    /*#__PURE__*/
    function () {
      var _ref8 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee7(document) {
        var perms;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                // Because some duplicate links have been created in the past, we must ensure
                // we revoke all of them
                perms = Object(_state__WEBPACK_IMPORTED_MODULE_17__["getDocumentPermissions"])(_this.state, document.id);
                _context7.next = 3;
                return Promise.all(perms.map(function (p) {
                  return _this.context.client.collection('io.cozy.permissions').destroy(p);
                }));

              case 3:
                _this.dispatch(Object(_state__WEBPACK_IMPORTED_MODULE_17__["revokeSharingLink"])(perms));

              case 4:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7);
      }));

      return function (_x14) {
        return _ref8.apply(this, arguments);
      };
    }());

    var instanceUri = _this.context.client.options.uri;
    var documentType = props.documentType || 'Document';
    _this.state = {
      byDocId: {},
      sharings: [],
      permissions: [],
      sharedFolderPaths: [],
      documentType: documentType,
      isOwner: function isOwner(docId) {
        return Object(_state__WEBPACK_IMPORTED_MODULE_17__["isOwner"])(_this.state, docId);
      },
      canReshare: function canReshare(docId) {
        return Object(_state__WEBPACK_IMPORTED_MODULE_17__["canReshare"])(_this.state, docId, instanceUri);
      },
      getOwner: function getOwner(docId) {
        return Object(_state__WEBPACK_IMPORTED_MODULE_17__["getOwner"])(_this.state, docId);
      },
      getSharingType: function getSharingType(docId) {
        return Object(_state__WEBPACK_IMPORTED_MODULE_17__["getSharingType"])(_this.state, docId, instanceUri);
      },
      getRecipients: function getRecipients(docId) {
        return Object(_state__WEBPACK_IMPORTED_MODULE_17__["getRecipients"])(_this.state, docId);
      },
      getSharingLink: function getSharingLink(docId) {
        return Object(_state__WEBPACK_IMPORTED_MODULE_17__["getSharingLink"])(_this.state, docId, documentType);
      },
      hasSharedParent: function hasSharedParent(document) {
        return Object(_state__WEBPACK_IMPORTED_MODULE_17__["hasSharedParent"])(_this.state, document);
      },
      hasSharedChild: function hasSharedChild(document) {
        return Object(_state__WEBPACK_IMPORTED_MODULE_17__["hasSharedChild"])(_this.state, document);
      },
      share: _this.share,
      revoke: _this.revoke,
      revokeSelf: _this.revokeSelf,
      shareByLink: _this.shareByLink,
      revokeSharingLink: _this.revokeSharingLink
    };
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8___default()(SharingProvider, [{
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee8() {
        var client, doctype, _ref9, _ref10, sharings, permissions, apps, sharedDocIds, resp, folderPaths, filePaths;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                client = this.context.client;
                doctype = this.props.doctype;
                _context8.next = 4;
                return Promise.all([client.collection('io.cozy.sharings').findByDoctype(doctype), client.collection('io.cozy.permissions').findLinksByDoctype(doctype), client.collection('io.cozy.permissions').findApps()]);

              case 4:
                _ref9 = _context8.sent;
                _ref10 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_ref9, 3);
                sharings = _ref10[0];
                permissions = _ref10[1];
                apps = _ref10[2];
                this.dispatch(Object(_state__WEBPACK_IMPORTED_MODULE_17__["receiveSharings"])({
                  instanceUri: client.options.uri,
                  sharings: sharings.data,
                  permissions: permissions.data,
                  apps: apps.data
                }));

                if (!(doctype !== 'io.cozy.files')) {
                  _context8.next = 12;
                  break;
                }

                return _context8.abrupt("return");

              case 12:
                sharedDocIds = sharings.data.map(function (s) {
                  return Object(_state__WEBPACK_IMPORTED_MODULE_17__["getSharingDocIds"])(s);
                }).reduce(function (acc, val) {
                  return acc.concat(val);
                }, []);
                _context8.next = 15;
                return client.collection(doctype).all({
                  keys: sharedDocIds
                });

              case 15:
                resp = _context8.sent;
                folderPaths = resp.data.filter(function (f) {
                  return f.type === 'directory';
                }).map(function (f) {
                  return f.path;
                });
                _context8.next = 19;
                return this.getFilesPaths(resp.data.filter(function (f) {
                  return f.type !== 'directory';
                }));

              case 19:
                filePaths = _context8.sent;
                this.dispatch(Object(_state__WEBPACK_IMPORTED_MODULE_17__["receivePaths"])([].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(folderPaths), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(filePaths))));

              case 21:
              case "end":
                return _context8.stop();
            }
          }
        }, _callee8, this);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: "render",
    value: function render() {
      // WARN: whe shouldn't do this (https://reactjs.org/docs/context.html#caveats)
      // but if we don't, consumers don't rerender when the state changes after loading the sharings,
      // probably because the state object remains the same...
      return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(sharing_context__WEBPACK_IMPORTED_MODULE_18__["default"].Provider, {
        value: _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_6___default()({}, this.state)
      }, this.props.children);
    }
  }]);

  return SharingProvider;
}(react__WEBPACK_IMPORTED_MODULE_14__["Component"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13___default()(SharingProvider, "contextTypes", {
  client: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.object.isRequired
});


var SharedDocument = function SharedDocument(_ref11) {
  var docId = _ref11.docId,
      children = _ref11.children;
  return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(sharing_context__WEBPACK_IMPORTED_MODULE_18__["default"].Consumer, null, function () {
    var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        byDocId = _ref12.byDocId,
        isOwner = _ref12.isOwner,
        getSharingType = _ref12.getSharingType,
        getRecipients = _ref12.getRecipients,
        getSharingLink = _ref12.getSharingLink,
        revokeSelf = _ref12.revokeSelf;

    return children({
      hasWriteAccess: !byDocId || !byDocId[docId] || isOwner(docId) || getSharingType(docId) === 'two-way',
      isShared: byDocId !== undefined && byDocId[docId],
      isSharedByMe: byDocId !== undefined && byDocId[docId] && isOwner(docId),
      isSharedWithMe: byDocId !== undefined && byDocId[docId] && !isOwner(docId),
      recipients: getRecipients(docId),
      link: getSharingLink(docId) !== null,
      onLeave: revokeSelf
    });
  });
};
var SharedStatus = function SharedStatus(_ref13) {
  var docId = _ref13.docId,
      className = _ref13.className;
  return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(sharing_context__WEBPACK_IMPORTED_MODULE_18__["default"].Consumer, null, function () {
    var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        byDocId = _ref14.byDocId,
        getRecipients = _ref14.getRecipients,
        getSharingLink = _ref14.getSharingLink;

    return !byDocId || !byDocId[docId] ? react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("span", {
      className: className
    }, "\u2014") : react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_SharedStatus__WEBPACK_IMPORTED_MODULE_25__["default"], {
      className: className,
      recipients: getRecipients(docId),
      docId: docId,
      link: getSharingLink(docId) !== null
    });
  });
};
var SharedBadge = function SharedBadge(_ref15) {
  var docId = _ref15.docId,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref15, ["docId"]);

  return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(sharing_context__WEBPACK_IMPORTED_MODULE_18__["default"].Consumer, null, function () {
    var _ref16 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        byDocId = _ref16.byDocId,
        isOwner = _ref16.isOwner;

    return !byDocId || !byDocId[docId] ? null : react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_SharedBadge__WEBPACK_IMPORTED_MODULE_19__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      byMe: isOwner(docId)
    }, rest));
  });
};
var SharedRecipients = function SharedRecipients(_ref17) {
  var docId = _ref17.docId,
      onClick = _ref17.onClick,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref17, ["docId", "onClick"]);

  return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(sharing_context__WEBPACK_IMPORTED_MODULE_18__["default"].Consumer, null, function () {
    var _ref18 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        byDocId = _ref18.byDocId,
        getRecipients = _ref18.getRecipients,
        getSharingLink = _ref18.getSharingLink;

    return !byDocId || !byDocId[docId] ? null : react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Recipient__WEBPACK_IMPORTED_MODULE_24__["RecipientsAvatars"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      recipients: getRecipients(docId),
      link: getSharingLink(docId) !== null,
      onClick: onClick
    }, rest));
  });
};
var SharedRecipientsList = function SharedRecipientsList(_ref19) {
  var docId = _ref19.docId,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref19, ["docId"]);

  return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(sharing_context__WEBPACK_IMPORTED_MODULE_18__["default"].Consumer, null, function () {
    var _ref20 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        byDocId = _ref20.byDocId,
        isOwner = _ref20.isOwner,
        getRecipients = _ref20.getRecipients;

    return !byDocId || !byDocId[docId] || !isOwner(docId) ? null : react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_WhoHasAccessLight__WEBPACK_IMPORTED_MODULE_23__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      recipients: getRecipients(docId).filter(function (r) {
        return r.status !== 'owner';
      })
    }, rest));
  });
};
var ShareButton = function ShareButton(_ref21, _ref22) {
  var t = _ref22.t;

  var docId = _ref21.docId,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref21, ["docId"]);

  return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(sharing_context__WEBPACK_IMPORTED_MODULE_18__["default"].Consumer, null, function (_ref23) {
    var byDocId = _ref23.byDocId,
        documentType = _ref23.documentType,
        isOwner = _ref23.isOwner;
    return !byDocId[docId] ? react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_ShareButton__WEBPACK_IMPORTED_MODULE_20__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      label: t("".concat(documentType, ".share.cta"))
    }, rest)) : isOwner(docId) ? react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_ShareButton__WEBPACK_IMPORTED_MODULE_20__["SharedByMeButton"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      label: t("".concat(documentType, ".share.sharedByMe"))
    }, rest)) : react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_ShareButton__WEBPACK_IMPORTED_MODULE_20__["SharedWithMeButton"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      label: t("".concat(documentType, ".share.sharedWithMe"))
    }, rest));
  });
};
ShareButton.contextTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.func.isRequired
};

var SharingModal = function SharingModal(_ref24) {
  var document = _ref24.document,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref24, ["document"]);

  return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(sharing_context__WEBPACK_IMPORTED_MODULE_18__["default"].Consumer, null, function (_ref25) {
    var documentType = _ref25.documentType,
        getOwner = _ref25.getOwner,
        getSharingType = _ref25.getSharingType,
        getRecipients = _ref25.getRecipients,
        revokeSelf = _ref25.revokeSelf;
    return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_SharingDetailsModal__WEBPACK_IMPORTED_MODULE_22__["SharingDetailsModal"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      document: document,
      documentType: documentType,
      owner: getOwner(document.id),
      sharingType: getSharingType(document.id),
      recipients: getRecipients(document.id),
      onRevoke: revokeSelf
    }, rest));
  });
};

var ShareModal = function ShareModal(_ref26) {
  var document = _ref26.document,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref26, ["document"]);

  return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(sharing_context__WEBPACK_IMPORTED_MODULE_18__["default"].Consumer, null, function (_ref27) {
    var byDocId = _ref27.byDocId,
        isOwner = _ref27.isOwner,
        canReshare = _ref27.canReshare;
    return !byDocId[document.id] || isOwner(document.id) || canReshare(document.id) ? react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(sharing_components_EditableSharingModal__WEBPACK_IMPORTED_MODULE_21__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      document: document
    }, rest)) : react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(SharingModal, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      document: document
    }, rest));
  });
};

/***/ }),

/***/ "Ow0/":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SOFTWARE_ID", function() { return SOFTWARE_ID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SOFTWARE_NAME", function() { return SOFTWARE_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "APP_STORE_ID", function() { return APP_STORE_ID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "APP_MARKET_ID", function() { return APP_MARKET_ID; });
var SOFTWARE_ID = 'registry://drive';
var SOFTWARE_NAME = 'Cozy Drive';
var APP_STORE_ID = '1224102389';
var APP_MARKET_ID = 'market://details?id=io.cozy.drive.mobile';

/***/ }),

/***/ "PBE3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("/MKj");
/* harmony import */ var react_dropzone__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("yzbm");
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("fvjX");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("yEaX");
/* harmony import */ var drive_styles_dropzone_styl__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("W9Ej");
/* harmony import */ var drive_styles_dropzone_styl__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(drive_styles_dropzone_styl__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var sharing_hoc_withSharingState__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("xYmX");
/* harmony import */ var drive_web_modules_upload_DropzoneTeaser__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("7BSk");





















var StatefulDropzone =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_10___default()(StatefulDropzone, _Component);

  function StatefulDropzone() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5___default()(this, StatefulDropzone);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(StatefulDropzone)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_11___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_9___default()(_this), "state", {
      dropzoneActive: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_11___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_9___default()(_this), "onDragEnter", function (evt) {
      if (!canDrop(evt)) return;

      _this.setState(function (state) {
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_4___default()({}, state, {
          dropzoneActive: true
        });
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_11___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_9___default()(_this), "onDragLeave", function () {
      return _this.setState(function (state) {
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_4___default()({}, state, {
          dropzoneActive: false
        });
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_11___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_9___default()(_this), "onDrop",
    /*#__PURE__*/
    function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(files, _, evt) {
        var uploadFiles, filesToUpload;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                uploadFiles = _this.props.uploadFiles;

                _this.setState(function (state) {
                  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_4___default()({}, state, {
                    dropzoneActive: false
                  });
                });

                if (canDrop(evt)) {
                  _context.next = 4;
                  break;
                }

                return _context.abrupt("return");

              case 4:
                filesToUpload = canHandleFolders(evt) ? evt.dataTransfer.items : files;
                uploadFiles(filesToUpload);

              case 6:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function (_x, _x2, _x3) {
        return _ref.apply(this, arguments);
      };
    }());

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6___default()(StatefulDropzone, [{
    key: "render",
    value: function render() {
      var dropzoneActive = this.state.dropzoneActive;

      var _this$props = this.props,
          displayedFolder = _this$props.displayedFolder,
          children = _this$props.children,
          sharingState = _this$props.sharingState,
          uploadFiles = _this$props.uploadFiles,
          rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_this$props, ["displayedFolder", "children", "sharingState", "uploadFiles"]);

      return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(react_dropzone__WEBPACK_IMPORTED_MODULE_14__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, rest, {
        className: dropzoneActive ? drive_styles_dropzone_styl__WEBPACK_IMPORTED_MODULE_17___default.a['fil-dropzone-active'] : '',
        disableClick: true,
        style: {},
        onDrop: this.onDrop,
        onDragEnter: this.onDragEnter,
        onDragLeave: this.onDragLeave
      }), dropzoneActive && react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(drive_web_modules_upload_DropzoneTeaser__WEBPACK_IMPORTED_MODULE_19__["default"], {
        currentFolder: displayedFolder
      }), children);
    }
  }]);

  return StatefulDropzone;
}(react__WEBPACK_IMPORTED_MODULE_12__["Component"]); // DnD helpers for folder upload


var canHandleFolders = function canHandleFolders(evt) {
  if (!evt.dataTransfer) return false;
  var dt = evt.dataTransfer;
  return dt.items && dt.items.length && dt.items[0].webkitGetAsEntry != null;
};

var canDrop = function canDrop(evt) {
  var items = evt.dataTransfer.items;

  for (var i = 0; i < items.length; i += 1) {
    if (items[i].kind !== 'file') return false;
  }

  return true;
};

var mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {
  var displayedFolder = _ref2.displayedFolder,
      sharingState = _ref2.sharingState;
  return {
    uploadFiles: function uploadFiles(files) {
      return dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_16__["uploadFiles"])(files, displayedFolder.id, sharingState));
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_15__["compose"])(sharing_hoc_withSharingState__WEBPACK_IMPORTED_MODULE_18__["default"], Object(react_redux__WEBPACK_IMPORTED_MODULE_13__["connect"])(null, mapDispatchToProps))(StatefulDropzone));

/***/ }),

/***/ "PC2r":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withPersistentState", function() { return withPersistentState; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("iWIM");
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("oAJy");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var cozy_client_dist_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("gfRN");
/* harmony import */ var cozy_client_dist_utils__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_utils__WEBPACK_IMPORTED_MODULE_9__);









 // The withPersistentState HOC automatically saves the wrappped components state and restores it when the component is mounted again.
// Since the saved state will not be available immediately when the wrapped component is mounted, a `componentStateRestored` hook will be called once the state is restored

var withPersistentState = function withPersistentState(WrappedComponent, persistenceKey) {
  var WithPersistentState =
  /*#__PURE__*/
  function (_WrappedComponent) {
    _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(WithPersistentState, _WrappedComponent);

    function WithPersistentState(props) {
      var _this;

      _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, WithPersistentState);

      _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(WithPersistentState).call(this, props));
      _this.persistedStatePromise = null;
      _this.setItemPromise = null;
      return _this;
    }

    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(WithPersistentState, [{
      key: "componentWillMount",
      value: function () {
        var _componentWillMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
          var _this2 = this;

          var persistedState;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  _context.prev = 0;
                  this.persistedStatePromise = Object(cozy_client_dist_utils__WEBPACK_IMPORTED_MODULE_9__["cancelable"])(localforage__WEBPACK_IMPORTED_MODULE_8___default.a.getItem(persistenceKey));
                  _context.next = 4;
                  return this.persistedStatePromise;

                case 4:
                  persistedState = _context.sent;
                  this.setState(function (prevState) {
                    return persistedState || prevState;
                  }, function () {
                    if (_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(WithPersistentState.prototype), "componentStateRestored", _this2)) _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(WithPersistentState.prototype), "componentStateRestored", _this2).call(_this2);
                  });
                  _context.next = 11;
                  break;

                case 8:
                  _context.prev = 8;
                  _context.t0 = _context["catch"](0);

                  if (_context.t0.canceled !== true) {
                    console.log('error', _context.t0);
                  }

                case 11:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee, this, [[0, 8]]);
        }));

        function componentWillMount() {
          return _componentWillMount.apply(this, arguments);
        }

        return componentWillMount;
      }()
    }, {
      key: "componentWillUpdate",
      value: function componentWillUpdate(nextProps, nextState) {
        try {
          if (_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(WithPersistentState.prototype), "componentWillUpdate", this)) _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(WithPersistentState.prototype), "componentWillUpdate", this).call(this, nextProps, nextState);
          this.setItemPromise = Object(cozy_client_dist_utils__WEBPACK_IMPORTED_MODULE_9__["cancelable"])(localforage__WEBPACK_IMPORTED_MODULE_8___default.a.setItem(persistenceKey, nextState));
        } catch (e) {
          if (e.canceled !== true) {
            console.log('error', e);
          }
        }
      }
    }, {
      key: "componentWillUnmount",
      value: function componentWillUnmount() {
        this.setItemPromise && this.setItemPromise.cancel();
        this.persistedStatePromise.cancel();
      }
    }]);

    return WithPersistentState;
  }(WrappedComponent);

  WithPersistentState.displayName = "WithPersistentState(".concat(WrappedComponent.displayName || WrappedComponent.name || 'Component', ")");
  return WithPersistentState;
};
/* harmony default export */ __webpack_exports__["default"] = (withPersistentState);

/***/ }),

/***/ "PFWH":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "emailMatch", function() { return emailMatch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cozyUrlMatch", function() { return cozyUrlMatch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "groupNameMatch", function() { return groupNameMatch; });
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("Le8U");
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_doctypes__WEBPACK_IMPORTED_MODULE_0__);
 // TODO: sadly we have different versions of contacts' doctype to handle...
// A migration tool on the stack side is needed here

var emailMatch = function emailMatch(input, contact) {
  if (!contact.email) return false;
  var emailInput = new RegExp(input, 'i');

  if (Array.isArray(contact.email)) {
    return contact.email.some(function (email) {
      return emailInput.test(email.address);
    });
  }

  return emailInput.test(contact.email);
};

var cozyUrlMatch = function cozyUrlMatch(input, contact) {
  if (!contact.cozy && !contact.url) return false;
  var urlInput = new RegExp(input, 'i');

  if (contact.cozy && Array.isArray(contact.cozy)) {
    return contact.cozy.some(function (cozy) {
      return urlInput.test(cozy.url);
    });
  }

  return urlInput.test(contact.url);
};

var groupNameMatch = function groupNameMatch(input, contactOrGroup) {
  if (contactOrGroup._type !== cozy_doctypes__WEBPACK_IMPORTED_MODULE_0__["Group"].doctype) return false;
  var nameInput = new RegExp(input, 'i');
  return nameInput.test(contactOrGroup.name);
};



/***/ }),

/***/ "PL+6":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("buk/");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("cSBT");
/* harmony import */ var _components_UploadProgression__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("DVxU");
/* harmony import */ var _components_UploadAbortedWifi__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("pGdt");
/* harmony import */ var _components_UploadQuotaError__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lotC");
/* harmony import */ var _components_UploadUptodate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("XHeq");
/* harmony import */ var _components_UploadPreparing__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("KaFd");
/* harmony import */ var _duck_reducer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("aNx5");













var mapStateToProps = function mapStateToProps(state) {
  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({
    serverUrl: Object(drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_5__["getServerUrl"])(state),
    isEnabled: Object(drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_5__["isImagesBackupOn"])(state),
    isPreparing: Object(_duck_reducer__WEBPACK_IMPORTED_MODULE_11__["isPreparingBackup"])(state),
    isUploading: Object(_duck_reducer__WEBPACK_IMPORTED_MODULE_11__["isUploading"])(state),
    isAborted: Object(_duck_reducer__WEBPACK_IMPORTED_MODULE_11__["isAborted"])(state),
    isQuotaReached: Object(_duck_reducer__WEBPACK_IMPORTED_MODULE_11__["isQuotaReached"])(state)
  }, Object(_duck_reducer__WEBPACK_IMPORTED_MODULE_11__["getUploadStatus"])(state));
};

var UploadStatus = function UploadStatus(props) {
  var isEnabled = props.isEnabled,
      isPreparing = props.isPreparing,
      isUploading = props.isUploading,
      isAborted = props.isAborted,
      isQuotaReached = props.isQuotaReached;
  var t = props.t,
      current = props.current,
      total = props.total,
      progress = props.progress,
      serverUrl = props.serverUrl;
  var storageUpgradeUrl = serverUrl ? serverUrl.replace(/(\w+)\./, '$1-settings.') + '/#/storage' : '';

  if (!isEnabled) {
    return null;
  }

  if (isPreparing) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_UploadPreparing__WEBPACK_IMPORTED_MODULE_10__["default"], {
      t: t
    });
  }

  if (isUploading) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_UploadProgression__WEBPACK_IMPORTED_MODULE_6__["default"], {
      t: t,
      current: current,
      total: total,
      progress: progress
    });
  }

  if (isAborted) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_UploadAbortedWifi__WEBPACK_IMPORTED_MODULE_7__["default"], {
      t: t
    });
  }

  if (isQuotaReached) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_UploadQuotaError__WEBPACK_IMPORTED_MODULE_8__["default"], {
      t: t,
      url: storageUpgradeUrl
    });
  }

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_UploadUptodate__WEBPACK_IMPORTED_MODULE_9__["default"], {
    t: t
  });
};

UploadStatus.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  current: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
  total: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
  progress: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
  isEnabled: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  isPreparing: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  isUploading: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  isAborted: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  isQuotaReached: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  serverUrl: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(mapStateToProps)(Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])()(UploadStatus)));

/***/ }),

/***/ "PhqT":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"pho-viewer-noviewer-cta":"pho-viewer-noviewer-cta--2RT0a","pho-viewer-noviewer-cta-cross":"pho-viewer-noviewer-cta-cross--1E-8f"};

/***/ }),

/***/ "PkQS":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedDocuments", function() { return SharedDocuments; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var sharing_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("skT2");



var SharedDocuments = function SharedDocuments(_ref) {
  var children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(sharing_context__WEBPACK_IMPORTED_MODULE_2__["default"].Consumer, null, function () {
    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
      sharings: []
    },
        sharings = _ref2.sharings;

    return children({
      sharedDocuments: sharings.map(function (sharing) {
        return sharing.attributes.rules[0].values[0];
      })
    });
  });
};
SharedDocuments.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func
};
/* harmony default export */ __webpack_exports__["default"] = (SharedDocuments);

/***/ }),

/***/ "Q5R/":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"upload-queue":"upload-queue--3bKZ8","upload-queue--visible":"upload-queue--visible--v4xZr","upload-queue-header":"upload-queue-header--FOzzt","upload-queue-header-inner":"upload-queue-header-inner--3EoLE","btn-close":"btn-close--1Pngc","upload-queue-progress":"upload-queue-progress--4yPCZ","upload-queue-content":"upload-queue-content--1p3kn","upload-queue--collapsed":"upload-queue--collapsed--2xa0I","upload-queue-list":"upload-queue-list--2vmTJ","upload-queue-item--error":"upload-queue-item--error--2Zajh","upload-queue-item--done":"upload-queue-item--done--1VrfD","upload-queue-item":"upload-queue-item--12cMu","item-file":"item-file--fFD25","item-ext":"item-ext--2QO0X","item-status":"item-status--3wjiT","item-pending":"item-pending--1hu5q","spin":"spin--1JzSZ","shake":"shake--1nNso"};

/***/ }),

/***/ "QDdI":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("EqME");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UNLINK", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["UNLINK"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setClient", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["setClient"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setToken", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["setToken"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "revokeClient", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["revokeClient"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "unrevokeClient", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["unrevokeClient"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "unlink", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["unlink"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setOnboarding", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["setOnboarding"]; });

/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("arUP");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _reducer__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("BEGz");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getClientSettings", function() { return _selectors__WEBPACK_IMPORTED_MODULE_2__["getClientSettings"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getToken", function() { return _selectors__WEBPACK_IMPORTED_MODULE_2__["getToken"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isAuthorized", function() { return _selectors__WEBPACK_IMPORTED_MODULE_2__["isAuthorized"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isRevoked", function() { return _selectors__WEBPACK_IMPORTED_MODULE_2__["isRevoked"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isClientRevoked", function() { return _selectors__WEBPACK_IMPORTED_MODULE_2__["isClientRevoked"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getOnboardingInformations", function() { return _selectors__WEBPACK_IMPORTED_MODULE_2__["getOnboardingInformations"]; });





/***/ }),

/***/ "QQky":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var drive_lib_getFileMimetype__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("Ieni");
/* harmony import */ var drive_assets_icons_icon_type_folder_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("w0Z6");
/* harmony import */ var drive_assets_icons_icon_type_audio_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("hehj");
/* harmony import */ var drive_assets_icons_icon_type_bin_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Qi6R");
/* harmony import */ var drive_assets_icons_icon_type_code_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("5lZ0");
/* harmony import */ var drive_assets_icons_icon_type_files_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("nhFO");
/* harmony import */ var drive_assets_icons_icon_type_image_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("TD9l");
/* harmony import */ var drive_assets_icons_icon_type_pdf_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("gbp9");
/* harmony import */ var drive_assets_icons_icon_type_slide_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("f/2S");
/* harmony import */ var drive_assets_icons_icon_type_sheet_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("0GJX");
/* harmony import */ var drive_assets_icons_icon_type_text_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("xNZN");
/* harmony import */ var drive_assets_icons_icon_type_video_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("T3Sg");
/* harmony import */ var drive_assets_icons_icon_type_zip_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("pr+u");
/* harmony import */ var drive_assets_icons_icon_type_note_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("3nSB");
















var getMimeTypeIcon = function getMimeTypeIcon(isDirectory, name, mime) {
  if (isDirectory) {
    return drive_assets_icons_icon_type_folder_svg__WEBPACK_IMPORTED_MODULE_2__["default"];
  } else if (/\.cozynote$/.test(name)) {
    return drive_assets_icons_icon_type_note_svg__WEBPACK_IMPORTED_MODULE_14__["default"];
  } else {
    var iconsByMimeType = {
      audio: drive_assets_icons_icon_type_audio_svg__WEBPACK_IMPORTED_MODULE_3__["default"],
      bin: drive_assets_icons_icon_type_bin_svg__WEBPACK_IMPORTED_MODULE_4__["default"],
      code: drive_assets_icons_icon_type_code_svg__WEBPACK_IMPORTED_MODULE_5__["default"],
      image: drive_assets_icons_icon_type_image_svg__WEBPACK_IMPORTED_MODULE_7__["default"],
      pdf: drive_assets_icons_icon_type_pdf_svg__WEBPACK_IMPORTED_MODULE_8__["default"],
      slide: drive_assets_icons_icon_type_slide_svg__WEBPACK_IMPORTED_MODULE_9__["default"],
      sheet: drive_assets_icons_icon_type_sheet_svg__WEBPACK_IMPORTED_MODULE_10__["default"],
      text: drive_assets_icons_icon_type_text_svg__WEBPACK_IMPORTED_MODULE_11__["default"],
      video: drive_assets_icons_icon_type_video_svg__WEBPACK_IMPORTED_MODULE_12__["default"],
      zip: drive_assets_icons_icon_type_zip_svg__WEBPACK_IMPORTED_MODULE_13__["default"]
    };
    var type = Object(drive_lib_getFileMimetype__WEBPACK_IMPORTED_MODULE_1__["getFileMimetype"])(iconsByMimeType)(mime, name);
    return lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(iconsByMimeType, type, drive_assets_icons_icon_type_files_svg__WEBPACK_IMPORTED_MODULE_6__["default"]);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (getMimeTypeIcon);

/***/ }),

/***/ "QWsP":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "receiveSharings", function() { return receiveSharings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addSharing", function() { return addSharing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateSharing", function() { return updateSharing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "revokeRecipient", function() { return revokeRecipient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "revokeSelf", function() { return revokeSelf; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addSharingLink", function() { return addSharingLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "revokeSharingLink", function() { return revokeSharingLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "receivePaths", function() { return receivePaths; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "matchingInstanceName", function() { return matchingInstanceName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isOwner", function() { return isOwner; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "canReshare", function() { return canReshare; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOwner", function() { return getOwner; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRecipients", function() { return getRecipients; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSharingLink", function() { return getSharingLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSharingForSelf", function() { return getSharingForSelf; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSharingType", function() { return getSharingType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDocumentSharing", function() { return getDocumentSharing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSharingById", function() { return getSharingById; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDocumentPermissions", function() { return getDocumentPermissions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasSharedParent", function() { return hasSharedParent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasSharedChild", function() { return hasSharedChild; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isShared", function() { return isShared; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSharingDocIds", function() { return getSharingDocIds; });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_4__);





function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }

function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }


var RECEIVE_SHARINGS = 'RECEIVE_SHARINGS';
var ADD_SHARING = 'ADD_SHARING';
var UPDATE_SHARING = 'UPDATE_SHARING';
var REVOKE_RECIPIENT = 'REVOKE_RECIPIENT';
var REVOKE_SELF = 'REVOKE_SELF';
var ADD_SHARING_LINK = 'ADD_SHARING_LINK';
var REVOKE_SHARING_LINK = 'REVOKE_SHARING_LINK';
var RECEIVE_PATHS = 'RECEIVE_PATHS'; // actions

var receiveSharings = function receiveSharings(_ref) {
  var instanceUri = _ref.instanceUri,
      _ref$sharings = _ref.sharings,
      sharings = _ref$sharings === void 0 ? [] : _ref$sharings,
      _ref$permissions = _ref.permissions,
      permissions = _ref$permissions === void 0 ? [] : _ref$permissions,
      _ref$apps = _ref.apps,
      apps = _ref$apps === void 0 ? [] : _ref$apps;
  return {
    type: RECEIVE_SHARINGS,
    data: {
      sharings: sharings.filter(function (s) {
        return !areAllRecipientsRevoked(s) && !hasBeenSelfRevoked(s, instanceUri);
      }),
      permissions: permissions,
      apps: apps
    }
  };
};
var addSharing = function addSharing(data, path) {
  return {
    type: ADD_SHARING,
    data: data,
    path: path
  };
};
var updateSharing = function updateSharing(sharing) {
  return {
    type: UPDATE_SHARING,
    sharing: sharing
  };
};
var revokeRecipient = function revokeRecipient(sharing, index, path) {
  return {
    type: REVOKE_RECIPIENT,

    /* We set revoked status to the revoked member.
    We can't just simply remove it, 'cauz we use the index
    to remove members..
    */
    sharing: _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default()({}, sharing, {
      attributes: _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default()({}, sharing.attributes, {
        members: sharing.attributes.members.map(function (m, idx) {
          if (idx === index) {
            return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default()({}, m, {
              status: 'revoked'
            });
          }

          return m;
        })
      })
    }),
    path: path
  };
};
var revokeSelf = function revokeSelf(sharing) {
  return {
    type: REVOKE_SELF,
    sharing: sharing
  };
};
var addSharingLink = function addSharingLink(data) {
  return {
    type: ADD_SHARING_LINK,
    data: data
  };
};
var revokeSharingLink = function revokeSharingLink(permissions) {
  return {
    type: REVOKE_SHARING_LINK,
    permissions: permissions
  };
};
var receivePaths = function receivePaths(paths) {
  return {
    type: RECEIVE_PATHS,
    paths: paths
  };
};
var matchingInstanceName = function matchingInstanceName() {
  var instanceUri = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  return function (shareMember) {
    return shareMember.instance && shareMember.instance.toString().toLowerCase() === instanceUri.toLowerCase();
  };
}; // reducers

var byIdInitialState = {
  sharings: [],
  permissions: []
};

var isItemEmpty = function isItemEmpty(item) {
  return item.sharings.length === 0 && item.permissions.length === 0;
};

var updateByIdItem = function updateByIdItem(state, id, updater) {
  var byIdState = state[id],
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(state, [id].map(_toPropertyKey));

  var update = updater(byIdState || byIdInitialState);
  return isItemEmpty(update) ? rest : _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default()({}, rest, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, id, update));
};

var indexSharing = function indexSharing() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var sharing = arguments.length > 1 ? arguments[1] : undefined;
  return getSharedDocIds(sharing).reduce(function (byId, id) {
    return updateByIdItem(byId, id, function (state) {
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default()({}, state, {
        sharings: [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(state.sharings), [sharing.id])
      });
    });
  }, state);
};

var forgetSharing = function forgetSharing() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var sharing = arguments.length > 1 ? arguments[1] : undefined;
  return getSharedDocIds(sharing).reduce(function (byId, id) {
    return updateByIdItem(byId, id, function (state) {
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default()({}, state, {
        sharings: state.sharings.filter(function (sid) {
          return sid !== sharing.id;
        })
      });
    });
  }, state);
};

var indexPermission = function indexPermission() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var perm = arguments.length > 1 ? arguments[1] : undefined;
  return getSharedDocIds(perm).reduce(function (byId, id) {
    return updateByIdItem(byId, id, function (state) {
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default()({}, state, {
        permissions: [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(state.permissions), [perm.id])
      });
    });
  }, state);
};

var forgetPermission = function forgetPermission() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var permission = arguments.length > 1 ? arguments[1] : undefined;
  return getSharedDocIds(permission).reduce(function (byId, id) {
    return updateByIdItem(byId, id, function (state) {
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default()({}, state, {
        permissions: state.permissions.filter(function (pid) {
          return pid !== permission.id;
        })
      });
    });
  }, state);
};

var byDocId = function byDocId() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case RECEIVE_SHARINGS:
      // eslint-disable-next-line no-case-declarations
      var intermediaryState = action.data.sharings.reduce(function (byId, sharing) {
        return indexSharing(byId, sharing);
      }, state);
      return action.data.permissions.reduce(function (byId, perm) {
        return indexPermission(byId, perm);
      }, intermediaryState);

    case ADD_SHARING:
      return indexSharing(state, action.data);

    case REVOKE_RECIPIENT:
      if (areAllRecipientsRevoked(action.sharing)) {
        return forgetSharing(state, action.sharing);
      }

      return state;

    case ADD_SHARING_LINK:
      return indexPermission(state, action.data);

    case REVOKE_SELF:
      return forgetSharing(state, action.sharing);

    case REVOKE_SHARING_LINK:
      return action.permissions.reduce(function (byId, perm) {
        return forgetPermission(byId, perm);
      }, state);

    default:
      return state;
  }
};

var permissions = function permissions() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case RECEIVE_SHARINGS:
      return action.data.permissions;

    case ADD_SHARING_LINK:
      return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(state), [action.data]);

    case REVOKE_SHARING_LINK:
      // eslint-disable-next-line no-case-declarations
      var permIds = action.permissions.map(function (p) {
        return p.id;
      });
      return state.filter(function (p) {
        return permIds.indexOf(p.id) === -1;
      });

    default:
      return state;
  }
};

var apps = function apps() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case RECEIVE_SHARINGS:
      return action.data.apps;

    default:
      return state;
  }
};

var sharings = function sharings() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case RECEIVE_SHARINGS:
      return action.data.sharings;

    case ADD_SHARING:
      return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(state), [action.data]);

    case UPDATE_SHARING:
    case REVOKE_RECIPIENT:
      return state.map(function (s) {
        return s.id !== action.sharing.id ? s : action.sharing;
      });

    case REVOKE_SELF:
      return state.filter(function (s) {
        return s.id !== action.sharing.id;
      });

    default:
      return state;
  }
};

var sharedPaths = function sharedPaths() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case RECEIVE_PATHS:
      //!TODO Remove after we solved the sharedPaths bugs
      //eslint-disable-next-line
      console.log('RECEIVE PATHS', action);
      return action.paths;

    case ADD_SHARING:
      //!TODO Remove after we solved the sharedPaths bugs
      //eslint-disable-next-line
      console.log('ADD SHARING', action); //eslint-disable-next-line

      var newState = [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(state), [action.path]);
      return newState;

    case REVOKE_RECIPIENT:
      if (areAllRecipientsRevoked(action.sharing)) {
        return state.filter(function (p) {
          return p !== action.path;
        });
      }

      return state;

    default:
      return state;
  }
};

var reducer = function reducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return {
    byDocId: byDocId(state.byDocId, action),
    sharings: sharings(state.sharings, action),
    permissions: permissions(state.permissions, action),
    apps: apps(state.apps, action),
    sharedPaths: sharedPaths(state.sharedPaths, action)
  };
};

/* harmony default export */ __webpack_exports__["default"] = (reducer); // selectors

var isOwner = function isOwner(state, docId) {
  if (state.byDocId[docId] && state.byDocId[docId].sharings.length !== 0) {
    return getSharingById(state, state.byDocId[docId].sharings[0]).attributes.owner === true;
  }

  return true;
};
var canReshare = function canReshare(state, docId, instanceUri) {
  var sharing = getDocumentSharing(state, docId);
  var me = sharing.attributes.members.find(matchingInstanceName(instanceUri));
  return sharing.attributes.open_sharing === true && me && !me.read_only;
};
var getOwner = function getOwner(state, docId) {
  return getRecipients(state, docId).find(function (r) {
    return r.status === 'owner';
  });
};
var getRecipients = function getRecipients(state, docId) {
  var recipients = getDocumentSharings(state, docId).map(function (sharing) {
    var type = getDocumentSharingType(sharing, docId);
    return sharing.attributes.members.map(function (m, idx) {
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default()({}, m, {
        type: m.read_only ? 'one-way' : type,
        sharingId: sharing.id,
        index: idx
      });
    });
  }).reduce(function (acc, member) {
    return acc.concat(member);
  }, []).filter(function (r) {
    return r.status !== 'revoked';
  });

  if (recipients[0] && recipients[0].status === 'owner') {
    return [recipients[0]].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(recipients.filter(function (r) {
      return r.status !== 'owner';
    })));
  }

  return recipients;
};
var getSharingLink = function getSharingLink(state, docId, documentType) {
  // This shouldn't have happened, but unfortunately some duplicate sharing links have been created in the past
  var perms = getDocumentPermissions(state, docId);
  if (perms.length === 0) return null;
  var perm = perms[0];
  var code = lodash_get__WEBPACK_IMPORTED_MODULE_4___default()(perm, 'attributes.shortcodes.email') || lodash_get__WEBPACK_IMPORTED_MODULE_4___default()(perm, 'attributes.codes.email');

  if (code) {
    return buildSharingLink(state, documentType, code);
  } else {
    return null;
  }
};
var getSharingForSelf = function getSharingForSelf(state, docId) {
  return getDocumentSharing(state, docId);
};
var getSharingType = function getSharingType(state, docId, instanceUri) {
  var sharing = getSharingForSelf(state, docId);
  var type = getDocumentSharingType(sharing, docId);
  if (sharing.attributes.owner) return type;
  var me = sharing.attributes.members.find(matchingInstanceName(instanceUri));
  return me && me.read_only ? 'one-way' : type;
};
var getDocumentSharing = function getDocumentSharing(state, docId) {
  return getDocumentSharings(state, docId)[0] || null;
};

var getDocumentSharings = function getDocumentSharings(state, docId) {
  return !state.byDocId[docId] ? [] : state.byDocId[docId].sharings.map(function (id) {
    return getSharingById(state, id);
  });
};

var getSharingById = function getSharingById(state, id) {
  return state.sharings.find(function (s) {
    return s.id === id;
  });
};
var getDocumentPermissions = function getDocumentPermissions(state, docId) {
  return !state.byDocId[docId] ? [] : state.byDocId[docId].permissions.map(function (id) {
    return getPermissionById(state, id);
  });
};

var getPermissionById = function getPermissionById(state, id) {
  return state.permissions.find(function (s) {
    return s.id === id;
  });
};

var getApps = function getApps(state) {
  return state.apps;
};

var hasSharedParent = function hasSharedParent(state, document) {
  if (!state.sharedPaths) {
    //eslint-disable-next-line
    console.log('hasSharedParent should not occurs', state, document);
    return false;
  }

  return state.sharedPaths.some(function (path) {
    return document.path.indexOf("".concat(path, "/")) === 0;
  });
};
var hasSharedChild = function hasSharedChild(state, document) {
  if (!state.sharedPaths) {
    //eslint-disable-next-line
    console.log('hasSharedChild should not occurs', state, document);
    return false;
  }

  var ret = state.sharedPaths.some(function (path) {
    return path.indexOf("".concat(document.path, "/")) === 0;
  });
  return ret;
};
var isShared = function isShared(state, document) {
  if (!state.sharedPaths) {
    //eslint-disable-next-line
    console.log('isShared should not occurs', state, document);
    return false;
  }

  return state.sharedPaths.some(function (path) {
    return path === document.path;
  });
}; // helpers

var getSharedDocIds = function getSharedDocIds(doc) {
  return doc.type === 'io.cozy.sharings' ? getSharingDocIds(doc) : getPermissionDocIds(doc);
};

var getSharingDocIds = function getSharingDocIds(sharing) {
  return sharing.attributes.rules.map(function (r) {
    return r.values;
  }).reduce(function (acc, val) {
    return acc.concat(val);
  }, []);
};

var getPermissionDocIds = function getPermissionDocIds(perm) {
  return Object.keys(perm.attributes.permissions).map(function (k) {
    return perm.attributes.permissions[k].values;
  }).reduce(function (acc, val) {
    return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(acc), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(val));
  }, []);
};

var areAllRecipientsRevoked = function areAllRecipientsRevoked(sharing) {
  return sharing.attributes.owner && sharing.attributes.members.filter(function (m) {
    return m.status !== 'revoked';
  }).length === 1;
};

var hasBeenSelfRevoked = function hasBeenSelfRevoked(sharing, instanceUri) {
  var me = sharing.attributes.members.find(matchingInstanceName(instanceUri));
  return !sharing.attributes.owner && me && me.status === 'revoked';
};

var getDocumentSharingType = function getDocumentSharingType(sharing, docId) {
  if (!sharing) return null;
  var rule = sharing.attributes.rules.find(function (r) {
    return r.values.indexOf(docId) !== -1;
  });
  return rule.update === 'sync' && rule.remove === 'sync' ? 'two-way' : 'one-way';
};

var buildSharingLink = function buildSharingLink(state, documentType, sharecode) {
  var appUrl = getAppUrlForDoctype(state, documentType);
  return "".concat(appUrl, "public?sharecode=").concat(sharecode);
};

var getAppUrlForDoctype = function getAppUrlForDoctype(state, documentType) {
  var apps = getApps(state);

  switch (documentType) {
    case 'Files':
    case 'Document':
      return getAppUrl(apps, 'drive');

    case 'Albums':
      return getAppUrl(apps, 'photos');

    default:
      throw new Error("Sharing link: don't know which app to use for doctype ".concat(documentType));
  }
};

var getAppUrl = function getAppUrl(apps, appName) {
  var app = apps.find(function (a) {
    return a.attributes.slug === appName && a.attributes.state === 'ready';
  });

  if (!app) {
    throw new Error("Sharing link: app ".concat(appName, " not installed"));
  }

  return app.links.related;
};

/***/ }),

/***/ "Qi6R":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-bin_37ea77f144ebbef7aab118258b0f643e",
  "use": "icon-type-bin_37ea77f144ebbef7aab118258b0f643e-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-bin_37ea77f144ebbef7aab118258b0f643e\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(3)\">\n    <path fill=\"#D1D5DB\" d=\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\" />\n    <path fill=\"#A3ACB8\" d=\"M18.5,8.57092175e-14 C18.2238576,1.33045111e-13 18,0.230796814 18,0.500435829 L18,8 L25.4995642,8 C25.7759472,8 26,7.76806641 26,7.5 L26,7 L19,0 L18.5,8.57092175e-14 Z\" />\n    <path fill=\"#4F5B69\" d=\"M4,15.5675676 C4,14.971332 4.05925097,14.4488147 4.17775468,14 C4.29625839,13.5511853 4.46309664,13.1793627 4.67827443,12.8845209 C4.89345222,12.5896791 5.15072615,12.3685511 5.45010395,12.2211302 C5.74948175,12.0737093 6.08315824,12 6.45114345,12 C7.23701017,12 7.84199372,12.2899234 8.26611227,12.8697789 C8.69023081,13.4496343 8.9022869,14.3488883 8.9022869,15.5675676 C8.9022869,16.1703552 8.84303594,16.6961485 8.72453222,17.1449631 C8.60602851,17.5937778 8.43919027,17.9672385 8.22401247,18.2653563 C8.00883468,18.5634741 7.75000151,18.78624 7.4475052,18.9336609 C7.14500888,19.0810818 6.80977315,19.1547912 6.44178794,19.1547912 C5.64968419,19.1547912 5.04470063,18.8484879 4.62681913,18.2358722 C4.20893762,17.6232566 4,16.7338306 4,15.5675676 L4,15.5675676 Z M7.7047817,15.5675676 C7.7047817,15.4627349 7.70322247,15.3628178 7.70010395,15.2678133 C7.69698543,15.1728087 7.69230772,15.0794435 7.68607069,14.987715 L5.39397089,17.1793612 C5.58731905,17.7755968 5.93970638,18.0737101 6.45114345,18.0737101 C6.85031385,18.0737101 7.15904257,17.8738759 7.37733888,17.4742015 C7.59563519,17.0745271 7.7047817,16.4389888 7.7047817,15.5675676 L7.7047817,15.5675676 Z M5.1975052,15.5675676 C5.1975052,15.6658482 5.19906443,15.7592133 5.20218295,15.8476658 C5.20530147,15.9361184 5.20997918,16.0262076 5.21621622,16.1179361 L7.4989605,13.9262899 C7.31184938,13.3628145 6.95946205,13.0810811 6.44178794,13.0810811 C6.04261755,13.0810811 5.73544806,13.2825533 5.52027027,13.6855037 C5.30509248,14.0884541 5.1975052,14.7158025 5.1975052,15.5675676 L5.1975052,15.5675676 Z M10.5488565,15.5675676 C10.5488565,14.971332 10.6081075,14.4488147 10.7266112,14 C10.8451149,13.5511853 11.0119532,13.1793627 11.227131,12.8845209 C11.4423088,12.5896791 11.6995827,12.3685511 11.9989605,12.2211302 C12.2983383,12.0737093 12.6320148,12 13,12 C13.7858667,12 14.3908503,12.2899234 14.8149688,12.8697789 C15.2390874,13.4496343 15.4511435,14.3488883 15.4511435,15.5675676 C15.4511435,16.1703552 15.3918925,16.6961485 15.2733888,17.1449631 C15.1548851,17.5937778 14.9880468,17.9672385 14.772869,18.2653563 C14.5576912,18.5634741 14.2988581,18.78624 13.9963617,18.9336609 C13.6938654,19.0810818 13.3586297,19.1547912 12.9906445,19.1547912 C12.1985407,19.1547912 11.5935572,18.8484879 11.1756757,18.2358722 C10.7577942,17.6232566 10.5488565,16.7338306 10.5488565,15.5675676 L10.5488565,15.5675676 Z M14.2536383,15.5675676 C14.2536383,15.4627349 14.252079,15.3628178 14.2489605,15.2678133 C14.245842,15.1728087 14.2411643,15.0794435 14.2349272,14.987715 L11.9428274,17.1793612 C12.1361756,17.7755968 12.4885629,18.0737101 13,18.0737101 C13.3991704,18.0737101 13.7078991,17.8738759 13.9261954,17.4742015 C14.1444917,17.0745271 14.2536383,16.4389888 14.2536383,15.5675676 L14.2536383,15.5675676 Z M11.7463617,15.5675676 C11.7463617,15.6658482 11.747921,15.7592133 11.7510395,15.8476658 C11.754158,15.9361184 11.7588357,16.0262076 11.7650728,16.1179361 L14.047817,13.9262899 C13.8607059,13.3628145 13.5083186,13.0810811 12.9906445,13.0810811 C12.5914741,13.0810811 12.2843046,13.2825533 12.0691268,13.6855037 C11.853949,14.0884541 11.7463617,14.7158025 11.7463617,15.5675676 L11.7463617,15.5675676 Z M17.7338877,17.9361179 L19.1652807,17.9361179 L19.1652807,13.6412776 L17.9303534,14.6339066 L17.3690229,13.8476658 L19.502079,12.1375921 L20.3253638,12.1375921 L20.3253638,17.9361179 L21.7286902,17.9361179 L21.7286902,19.017199 L17.7338877,19.017199 L17.7338877,17.9361179 Z M4,24.4127764 C4,23.8165408 4.05925097,23.2940235 4.17775468,22.8452088 C4.29625839,22.3963942 4.46309664,22.0245715 4.67827443,21.7297297 C4.89345222,21.434888 5.15072615,21.21376 5.45010395,21.0663391 C5.74948175,20.9189182 6.08315824,20.8452088 6.45114345,20.8452088 C7.23701017,20.8452088 7.84199372,21.1351322 8.26611227,21.7149877 C8.69023081,22.2948432 8.9022869,23.1940971 8.9022869,24.4127764 C8.9022869,25.015564 8.84303594,25.5413573 8.72453222,25.990172 C8.60602851,26.4389867 8.43919027,26.8124473 8.22401247,27.1105651 C8.00883468,27.4086829 7.75000151,27.6314489 7.4475052,27.7788698 C7.14500888,27.9262907 6.80977315,28 6.44178794,28 C5.64968419,28 5.04470063,27.6936968 4.62681913,27.0810811 C4.20893762,26.4684654 4,25.5790394 4,24.4127764 L4,24.4127764 Z M7.7047817,24.4127764 C7.7047817,24.3079438 7.70322247,24.2080267 7.70010395,24.1130221 C7.69698543,24.0180175 7.69230772,23.9246524 7.68607069,23.8329238 L5.39397089,26.02457 C5.58731905,26.6208056 5.93970638,26.9189189 6.45114345,26.9189189 C6.85031385,26.9189189 7.15904257,26.7190847 7.37733888,26.3194103 C7.59563519,25.9197359 7.7047817,25.2841976 7.7047817,24.4127764 L7.7047817,24.4127764 Z M5.1975052,24.4127764 C5.1975052,24.511057 5.19906443,24.6044222 5.20218295,24.6928747 C5.20530147,24.7813272 5.20997918,24.8714164 5.21621622,24.963145 L7.4989605,22.7714988 C7.31184938,22.2080234 6.95946205,21.9262899 6.44178794,21.9262899 C6.04261755,21.9262899 5.73544806,22.1277621 5.52027027,22.5307125 C5.30509248,22.9336629 5.1975052,23.5610113 5.1975052,24.4127764 L5.1975052,24.4127764 Z M11.1850312,26.7813268 L12.6164241,26.7813268 L12.6164241,22.4864865 L11.3814969,23.4791155 L10.8201663,22.6928747 L12.9532225,20.982801 L13.7765073,20.982801 L13.7765073,26.7813268 L15.1798337,26.7813268 L15.1798337,27.8624079 L11.1850312,27.8624079 L11.1850312,26.7813268 Z M17.0977131,24.4127764 C17.0977131,23.8165408 17.1569641,23.2940235 17.2754678,22.8452088 C17.3939715,22.3963942 17.5608097,22.0245715 17.7759875,21.7297297 C17.9911653,21.434888 18.2484393,21.21376 18.547817,21.0663391 C18.8471948,20.9189182 19.1808713,20.8452088 19.5488565,20.8452088 C20.3347233,20.8452088 20.9397068,21.1351322 21.3638254,21.7149877 C21.7879439,22.2948432 22,23.1940971 22,24.4127764 C22,25.015564 21.940749,25.5413573 21.8222453,25.990172 C21.7037416,26.4389867 21.5369034,26.8124473 21.3217256,27.1105651 C21.1065478,27.4086829 20.8477146,27.6314489 20.5452183,27.7788698 C20.242722,27.9262907 19.9074862,28 19.539501,28 C18.7473973,28 18.1424137,27.6936968 17.7245322,27.0810811 C17.3066507,26.4684654 17.0977131,25.5790394 17.0977131,24.4127764 L17.0977131,24.4127764 Z M20.8024948,24.4127764 C20.8024948,24.3079438 20.8009356,24.2080267 20.797817,24.1130221 C20.7946985,24.0180175 20.7900208,23.9246524 20.7837838,23.8329238 L18.491684,26.02457 C18.6850322,26.6208056 19.0374195,26.9189189 19.5488565,26.9189189 C19.9480269,26.9189189 20.2567557,26.7190847 20.475052,26.3194103 C20.6933483,25.9197359 20.8024948,25.2841976 20.8024948,24.4127764 L20.8024948,24.4127764 Z M18.2952183,24.4127764 C18.2952183,24.511057 18.2967775,24.6044222 18.299896,24.6928747 C18.3030146,24.7813272 18.3076923,24.8714164 18.3139293,24.963145 L20.5966736,22.7714988 C20.4095625,22.2080234 20.0571751,21.9262899 19.539501,21.9262899 C19.1403306,21.9262899 18.8331612,22.1277621 18.6179834,22.5307125 C18.4028056,22.9336629 18.2952183,23.5610113 18.2952183,24.4127764 L18.2952183,24.4127764 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "QmKc":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"fil-content-table":"fil-content-table--1HRVh","fil-content-head":"fil-content-head--3qU4k","fil-content-mobile-head":"fil-content-mobile-head--stPDy","fil-content-body":"fil-content-body--2o5N_","fil-content-row-head":"fil-content-row-head--2BxvZ","fil-content-row":"fil-content-row--3tUJY","fil-content-row-selected":"fil-content-row-selected--2YE0h","fil-content-cell":"fil-content-cell--HBfF4","fil-content-header":"fil-content-header--2G5CB","fil-content-mobile-header":"fil-content-mobile-header--3J9WD","fil-content-file-select":"fil-content-file-select--3xRxR","fil-content-row--center":"fil-content-row--center--38ZfS","fil-content-row-actioned":"fil-content-row-actioned--1ZmSl","fil-content-row-disabled":"fil-content-row-disabled--zwfeB","fil-content-row-bigger":"fil-content-row-bigger--1zkOs","fil-content-ext":"fil-content-ext--3vi7B","fil-sort-menu":"fil-sort-menu--3vJKf","fil-sort-menu-item":"fil-sort-menu-item--3wQ6G","fil-sort-menu-item-selected":"fil-sort-menu-item-selected---yp6_","fil-content-header-sortableasc":"fil-content-header-sortableasc--3njaT","fil-content-header-sortabledesc":"fil-content-header-sortabledesc--n_RWE","fil-content-header-sortasc":"fil-content-header-sortasc--1wGfS","fil-content-header-sortdesc":"fil-content-header-sortdesc--HO-Uf","fil-content-file":"fil-content-file--2cyZM","fil-content-file-openable":"fil-content-file-openable--2I7DZ","fil-file-thumbnail":"fil-file-thumbnail--jxk48","fil-file-thumbnail-image":"fil-file-thumbnail-image--3UQvE","fil-content-shared":"fil-content-shared--nroRM","fil-content-date":"fil-content-date--269HK","fil-content-size":"fil-content-size--3keGT","fil-content-status":"fil-content-status--1etSl","fil-content-header-status":"fil-content-header-status--2dAhY","fil-content-offline":"fil-content-offline--LQivN","fil-content-file-action":"fil-content-file-action--V70XH","fil-content-header-action":"fil-content-header-action--3l7K_","fil-content-body--selectable":"fil-content-body--selectable--10Pwu","fil-file":"fil-file--1wFvs","fil-file-filename":"fil-file-filename--17PQJ","fil-file-filename-wrapper":"fil-file-filename-wrapper--2l4sx","fil-file-filename-and-ext":"fil-file-filename-and-ext--3XCEN","fil-file-filename-spinner":"fil-file-filename-spinner--1h6S0","fil-file-path":"fil-file-path--1SRH0","fil-file-infos":"fil-file-infos--2LE_d","fil-content-file-placeholder":"fil-content-file-placeholder--wth58","placeHolderShimmer":"placeHolderShimmer--AXJs0","fil-content-table-selection":"fil-content-table-selection--YjKJI","fil-content-sharestatus":"fil-content-sharestatus--_2V0-"};

/***/ }),

/***/ "Qt5O":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("H+Xc");
/* harmony import */ var _Scanner__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("KftE");
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("fD9B");
/* harmony import */ var _PortaledQueue__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("VFG3");
/* harmony import */ var drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("NMd3");
/* harmony import */ var cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("4kcP");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("/MKj");














/**
 * ScanMenItem Display the "Scan" item in the "More Menu"
 */

var ScanMenuItem = Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_6__["translate"])()(function (_ref) {
  var status = _ref.status,
      onClick = _ref.onClick,
      t = _ref.t,
      online = _ref.online;

  var offlineMessage = function offlineMessage() {
    return alert(t('Scan.error.offline'));
  };

  var uploadingMessage = function uploadingMessage() {
    return alert(t('Scan.error.uploading'));
  };

  var actionOnClick = function () {
    if (status === _Scanner__WEBPACK_IMPORTED_MODULE_7__["SCANNER_UPLOADING"]) return uploadingMessage;
    if (!online) return offlineMessage;
    return onClick;
  }();

  var trackEvent = function trackEvent() {
    var tracker = Object(cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_11__["getTracker"])();

    if (tracker) {
      tracker.push(['trackEvent', 'Drive', 'Scanner', 'Scan Click']);
    }
  }; //!TODO Color should be removed after the fix of https://github.com/cozy/cozy-ui/issues/1170


  return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
    className: "u-pl-1 u-flex u-pt-half u-pb-half u-charcoalGrey",
    onClick: function onClick() {
      trackEvent();
      return actionOnClick();
    }
  }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_6__["Icon"], {
    icon: "camera"
  }), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
    className: "u-pl-half u"
  }, t('Scan.scan_a_doc')));
});
/**
 * ScanWrapper is a wrapper of Scanner. It has the responsability to decide of :
 * - generating the filename
 * - Dispatching some events before and after the scan
 * - call the component to render
 */

var ScanWrapper =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(ScanWrapper, _Component);

  function ScanWrapper() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, ScanWrapper);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(ScanWrapper).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ScanWrapper, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          displayedFolder = _this$props.displayedFolder,
          stopMediaBackup = _this$props.stopMediaBackup,
          startMediaBackup = _this$props.startMediaBackup;
      return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Scanner__WEBPACK_IMPORTED_MODULE_7__["default"], {
        dirId: displayedFolder.id //Pour savoir o uploader
        ,
        pluginConfig: {
          sourceType: 1 // Camera

        },
        generateName: function generateName() {
          var date = new Date(); //We had to replace : by - since the Cordova File plugin doesn't support : in the filename
          //https://github.com/apache/cordova-plugin-file/issues/289#issuecomment-477954331

          return "Scan_".concat(date.toISOString().replace(/:/g, '-'), ".jpg");
        },
        onConflict: 'rename' //We need to cancel the MediaBackup before doing the upload since the scanned file will be
        //inserted we don't know where in the queue resulting in a non uploaded file if the queue is
        //big enough
        ,
        onBeforeUpload: function onBeforeUpload() {
          return stopMediaBackup();
        },
        onFinish: function onFinish() {
          var tracker = Object(cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_11__["getTracker"])();

          if (tracker) {
            tracker.push(['trackEvent', 'Drive', 'Scanner', 'Finished']);
          }

          startMediaBackup();
        }
      }, function (_ref2) {
        var status = _ref2.status,
            error = _ref2.error,
            startScanner = _ref2.startScanner,
            filename = _ref2.filename,
            onClear = _ref2.onClear,
            online = _ref2.online;

        if (error || !filename) {
          return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(ScanMenuItem, {
            status: status,
            onClick: startScanner,
            online: online
          });
        }

        return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(ScanMenuItem, {
          status: status,
          onClick: startScanner,
          online: online
        }), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_PortaledQueue__WEBPACK_IMPORTED_MODULE_9__["default"], {
          file: {
            file: {
              name: filename,
              isDirectory: false,
              status: status
            }
          },
          successCount: status === _Scanner__WEBPACK_IMPORTED_MODULE_7__["SCANNER_DONE"] ? 1 : 0,
          doneCount: 1,
          key: filename,
          onClear: onClear
        }));
      }));
    }
  }]);

  return ScanWrapper;
}(react__WEBPACK_IMPORTED_MODULE_5__["Component"]);

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    stopMediaBackup: function stopMediaBackup() {
      return dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_10__["cancelMediaBackup"])());
    },
    startMediaBackup: function startMediaBackup() {
      return dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_10__["startMediaBackup"])());
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_12__["connect"])(null, mapDispatchToProps)(Object(_toolbar__WEBPACK_IMPORTED_MODULE_8__["default"])(ScanWrapper)));

/***/ }),

/***/ "QwUF":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPEN_FOLDER", function() { return OPEN_FOLDER; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPEN_FOLDER_SUCCESS", function() { return OPEN_FOLDER_SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPEN_FOLDER_FAILURE", function() { return OPEN_FOLDER_FAILURE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SORT_FOLDER", function() { return SORT_FOLDER; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SORT_FOLDER_SUCCESS", function() { return SORT_FOLDER_SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SORT_FOLDER_FAILURE", function() { return SORT_FOLDER_FAILURE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FETCH_RECENT", function() { return FETCH_RECENT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FETCH_RECENT_SUCCESS", function() { return FETCH_RECENT_SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FETCH_RECENT_FAILURE", function() { return FETCH_RECENT_FAILURE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FETCH_SHARINGS", function() { return FETCH_SHARINGS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FETCH_SHARINGS_SUCCESS", function() { return FETCH_SHARINGS_SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FETCH_SHARINGS_FAILURE", function() { return FETCH_SHARINGS_FAILURE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FETCH_MORE_FILES", function() { return FETCH_MORE_FILES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FETCH_MORE_FILES_SUCCESS", function() { return FETCH_MORE_FILES_SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FETCH_MORE_FILES_FAILURE", function() { return FETCH_MORE_FILES_FAILURE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CREATE_FOLDER", function() { return CREATE_FOLDER; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CREATE_FOLDER_FAILURE_GENERIC", function() { return CREATE_FOLDER_FAILURE_GENERIC; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CREATE_FOLDER_FAILURE_DUPLICATE", function() { return CREATE_FOLDER_FAILURE_DUPLICATE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CREATE_FOLDER_SUCCESS", function() { return CREATE_FOLDER_SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TRASH_FILES", function() { return TRASH_FILES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TRASH_FILES_SUCCESS", function() { return TRASH_FILES_SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TRASH_FILES_FAILURE", function() { return TRASH_FILES_FAILURE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOWNLOAD_SELECTION", function() { return DOWNLOAD_SELECTION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOWNLOAD_FILE", function() { return DOWNLOAD_FILE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPEN_FILE_WITH", function() { return OPEN_FILE_WITH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ADD_FILE", function() { return ADD_FILE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UPDATE_FILE", function() { return UPDATE_FILE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DELETE_FILE", function() { return DELETE_FILE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOGGLE_THUMBNAIL_SIZE", function() { return TOGGLE_THUMBNAIL_SIZE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "META_DEFAULTS", function() { return META_DEFAULTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "openFolder", function() { return openFolder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sortFolder", function() { return sortFolder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchMoreFiles", function() { return fetchMoreFiles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchRecentFiles", function() { return fetchRecentFiles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addFile", function() { return addFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateFile", function() { return updateFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deleteFile", function() { return deleteFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFileDownloadUrl", function() { return getFileDownloadUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uploadFiles", function() { return uploadFiles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createFolder", function() { return createFolder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trashFiles", function() { return trashFiles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "downloadFileError", function() { return downloadFileError; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "downloadFiles", function() { return downloadFiles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "exportFilesNative", function() { return exportFilesNative; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "openFileWith", function() { return openFileWith; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toggleThumbnailSize", function() { return toggleThumbnailSize; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _async__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Kn6A");
/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("/beP");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("1aVK");
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("qxHO");
/* harmony import */ var drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("ommj");
/* harmony import */ var drive_web_modules_upload__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("2U19");
/* harmony import */ var react_cozy_helpers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("Yo2A");
/* harmony import */ var cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("67rm");
/* harmony import */ var drive_web_modules_upload_QuotaAlert__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("tFpY");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("yEaX");




/* global cozy */












var OPEN_FOLDER = 'OPEN_FOLDER';
var OPEN_FOLDER_SUCCESS = 'OPEN_FOLDER_SUCCESS';
var OPEN_FOLDER_FAILURE = 'OPEN_FOLDER_FAILURE';
var SORT_FOLDER = 'SORT_FOLDER';
var SORT_FOLDER_SUCCESS = 'SORT_FOLDER_SUCCESS';
var SORT_FOLDER_FAILURE = 'SORT_FOLDER_FAILURE';
var FETCH_RECENT = 'FETCH_RECENT';
var FETCH_RECENT_SUCCESS = 'FETCH_RECENT_SUCCESS';
var FETCH_RECENT_FAILURE = 'FETCH_RECENT_FAILURE';
var FETCH_SHARINGS = 'FETCH_SHARINGS';
var FETCH_SHARINGS_SUCCESS = 'FETCH_SHARINGS_SUCCESS';
var FETCH_SHARINGS_FAILURE = 'FETCH_SHARINGS_FAILURE';
var FETCH_MORE_FILES = 'FETCH_MORE_FILES';
var FETCH_MORE_FILES_SUCCESS = 'FETCH_MORE_FILES_SUCCESS';
var FETCH_MORE_FILES_FAILURE = 'FETCH_MORE_FILES_FAILURE';
var CREATE_FOLDER = 'CREATE_FOLDER';
var CREATE_FOLDER_FAILURE_GENERIC = 'CREATE_FOLDER_FAILURE_GENERIC';
var CREATE_FOLDER_FAILURE_DUPLICATE = 'CREATE_FOLDER_FAILURE_DUPLICATE';
var CREATE_FOLDER_SUCCESS = 'CREATE_FOLDER_SUCCESS';
var TRASH_FILES = 'TRASH_FILES';
var TRASH_FILES_SUCCESS = 'TRASH_FILES_SUCCESS';
var TRASH_FILES_FAILURE = 'TRASH_FILES_FAILURE';
var DOWNLOAD_SELECTION = 'DOWNLOAD_SELECTION';
var DOWNLOAD_FILE = 'DOWNLOAD_FILE';
var OPEN_FILE_WITH = 'OPEN_FILE_WITH';
var ADD_FILE = 'ADD_FILE';
var UPDATE_FILE = 'UPDATE_FILE';
var DELETE_FILE = 'DELETE_FILE';
var TOGGLE_THUMBNAIL_SIZE = 'TOGGLE_THUMBNAIL_SIZE';
var HTTP_CODE_CONFLICT = 409;
var META_DEFAULTS = {
  cancelSelection: true,
  hideActionMenu: true
};
var openFolder = function openFolder(folderId) {
  var openFolderAction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : OPEN_FOLDER;
  var openFolderActionSucess = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : OPEN_FOLDER_SUCCESS;
  var openFolderActionFailure = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : OPEN_FOLDER_FAILURE;
  return (
    /*#__PURE__*/
    function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(dispatch, getState) {
        var folder, currentFolderId;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                dispatch({
                  type: openFolderAction,
                  folderId: folderId,
                  meta: {
                    cancelSelection: true
                  }
                });
                _context.prev = 1;
                _context.next = 4;
                return Object(_async__WEBPACK_IMPORTED_MODULE_3__["getAdapter"])(getState()).getFolder(folderId);

              case 4:
                folder = _context.sent;

                /*
                  Since getFolder is async, if we have a very bad network we can receive multiple response
                  if the user clicks multiple times. We are not sure about the order of the response.
                  So before dispatching the success, we check if the folder is still the one we want to open
                  and display. To do that, we get the folder id from the latest OPEN_FOLDER call
                */
                currentFolderId = Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_14__["getOpenedFolderId"])(getState());

                if (!(folder._id === currentFolderId)) {
                  _context.next = 8;
                  break;
                }

                return _context.abrupt("return", dispatch({
                  type: openFolderActionSucess,
                  folder: folder,
                  fileCount: folder.contents.meta.count || 0,
                  files: folder.contents.data
                }));

              case 8:
                return _context.abrupt("return");

              case 11:
                _context.prev = 11;
                _context.t0 = _context["catch"](1);
                Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_8__["logException"])(_context.t0, {
                  context: openFolderActionFailure
                });
                return _context.abrupt("return", dispatch({
                  type: openFolderActionFailure,
                  error: _context.t0
                }));

              case 15:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[1, 11]]);
      }));

      return function (_x, _x2) {
        return _ref.apply(this, arguments);
      };
    }()
  );
};
var sortFolder = function sortFolder(folderId, sortAttribute) {
  var sortOrder = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'asc';
  return (
    /*#__PURE__*/
    function () {
      var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(dispatch, getState) {
        var files;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                dispatch({
                  type: SORT_FOLDER,
                  folderId: folderId,
                  sortAttribute: sortAttribute,
                  sortOrder: sortOrder,
                  meta: {
                    cancelSelection: true
                  }
                });
                _context2.prev = 1;
                _context2.next = 4;
                return Object(_async__WEBPACK_IMPORTED_MODULE_3__["getAdapter"])(getState()).getSortedFolder(folderId, sortAttribute, sortOrder);

              case 4:
                files = _context2.sent;
                return _context2.abrupt("return", dispatch({
                  type: SORT_FOLDER_SUCCESS,
                  files: files
                }));

              case 8:
                _context2.prev = 8;
                _context2.t0 = _context2["catch"](1);
                Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_8__["logException"])(_context2.t0, {
                  context: SORT_FOLDER_FAILURE
                });
                return _context2.abrupt("return", dispatch({
                  type: SORT_FOLDER_FAILURE,
                  error: _context2.t0
                }));

              case 12:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, null, [[1, 8]]);
      }));

      return function (_x3, _x4) {
        return _ref2.apply(this, arguments);
      };
    }()
  );
};
var fetchMoreFiles = function fetchMoreFiles(folderId, skip, limit) {
  return (
    /*#__PURE__*/
    function () {
      var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(dispatch, getState) {
        var sort, files;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                sort = Object(_reducer__WEBPACK_IMPORTED_MODULE_4__["getSort"])(getState());
                dispatch({
                  type: FETCH_MORE_FILES,
                  folderId: folderId,
                  skip: skip,
                  limit: limit
                });
                _context3.prev = 2;

                if (!(sort === null)) {
                  _context3.next = 9;
                  break;
                }

                _context3.next = 6;
                return Object(_async__WEBPACK_IMPORTED_MODULE_3__["getAdapter"])(getState()).getFolderContents(folderId, skip, limit);

              case 6:
                _context3.t0 = _context3.sent;
                _context3.next = 12;
                break;

              case 9:
                _context3.next = 11;
                return Object(_async__WEBPACK_IMPORTED_MODULE_3__["getAdapter"])(getState()).getSortedFolder(folderId, sort.attribute, sort.order, skip, limit);

              case 11:
                _context3.t0 = _context3.sent;

              case 12:
                files = _context3.t0;
                return _context3.abrupt("return", dispatch({
                  type: FETCH_MORE_FILES_SUCCESS,
                  files: files,
                  skip: skip,
                  limit: limit
                }));

              case 16:
                _context3.prev = 16;
                _context3.t1 = _context3["catch"](2);
                Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_8__["logException"])(_context3.t1, {
                  context: FETCH_MORE_FILES_FAILURE
                });
                return _context3.abrupt("return", dispatch({
                  type: FETCH_MORE_FILES_FAILURE,
                  error: _context3.t1
                }));

              case 20:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, null, [[2, 16]]);
      }));

      return function (_x5, _x6) {
        return _ref3.apply(this, arguments);
      };
    }()
  );
};
var fetchRecentFiles = function fetchRecentFiles() {
  return (
    /*#__PURE__*/
    function () {
      var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee4(dispatch, getState) {
        var files, parentDirIds, parentFolders, filesWithPath;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                dispatch({
                  type: FETCH_RECENT,
                  meta: META_DEFAULTS
                });
                _context4.prev = 1;
                _context4.next = 4;
                return Object(_async__WEBPACK_IMPORTED_MODULE_3__["getAdapter"])(getState()).getRecentFiles();

              case 4:
                files = _context4.sent;
                // fetch the list of parent dirs to get the path of recent files
                parentDirIds = files.map(function (f) {
                  return f.dir_id;
                }).filter(function (value, index, self) {
                  return self.indexOf(value) === index;
                });
                _context4.next = 8;
                return Object(_async__WEBPACK_IMPORTED_MODULE_3__["getAdapter"])(getState()).getFilesInBatch(parentDirIds);

              case 8:
                parentFolders = _context4.sent;
                filesWithPath = files.map(function (file) {
                  var parentFolder = parentFolders.rows.find(function (row) {
                    return row.id === file.dir_id;
                  });
                  var path = parentFolder ? parentFolder.doc.path : '';
                  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, file, {
                    path: path,
                    id: file._id
                  });
                });
                return _context4.abrupt("return", dispatch({
                  type: FETCH_RECENT_SUCCESS,
                  fileCount: filesWithPath.length,
                  files: filesWithPath
                }));

              case 13:
                _context4.prev = 13;
                _context4.t0 = _context4["catch"](1);
                Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_8__["logException"])(_context4.t0, {
                  context: FETCH_RECENT_FAILURE
                });
                return _context4.abrupt("return", dispatch({
                  type: FETCH_RECENT_FAILURE,
                  error: _context4.t0
                }));

              case 17:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, null, [[1, 13]]);
      }));

      return function (_x7, _x8) {
        return _ref4.apply(this, arguments);
      };
    }()
  );
};
var addFile = function addFile(doc) {
  return function (dispatch, getState) {
    return dispatch({
      type: ADD_FILE,
      file: doc,
      currentFileCount: getState().view.fileCount,
      currentSort: Object(_reducer__WEBPACK_IMPORTED_MODULE_4__["getSort"])(getState())
    });
  };
};
var updateFile = function updateFile(doc) {
  return {
    type: UPDATE_FILE,
    file: doc
  };
};
var deleteFile = function deleteFile(doc) {
  return {
    type: DELETE_FILE,
    file: doc
  };
};
var getFileDownloadUrl =
/*#__PURE__*/
function () {
  var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee5(id) {
    var link;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            _context5.next = 2;
            return cozy.client.files.getDownloadLinkById(id);

          case 2:
            link = _context5.sent;
            return _context5.abrupt("return", "".concat(cozy.client._url).concat(link));

          case 4:
          case "end":
            return _context5.stop();
        }
      }
    }, _callee5);
  }));

  return function getFileDownloadUrl(_x9) {
    return _ref5.apply(this, arguments);
  };
}();
/*
 * @function
 * @param {Array} files - The list of File objects to upload
 * @param {string} dirId - The id of the directory in which we upload the files
 * @param {Object} sharingState - The sharing context (provided by SharingContext.Provider)
 * @returns {function} - A function that dispatches addToUploadQueue action
 */

var uploadFiles = function uploadFiles(files, dirId, sharingState) {
  return function (dispatch) {
    dispatch(Object(drive_web_modules_upload__WEBPACK_IMPORTED_MODULE_10__["addToUploadQueue"])(files, dirId, sharingState, // used to know if files are shared for conflicts management
    function () {
      return null;
    }, function (loaded, quotas, conflicts, networkErrors, errors, updated) {
      return dispatch(uploadQueueProcessed(loaded, quotas, conflicts, networkErrors, errors, updated));
    }));
  };
};

var uploadQueueProcessed = function uploadQueueProcessed(created, quotas, conflicts, networkErrors, errors, updated) {
  return function (dispatch) {
    var conflictCount = conflicts.length;
    var createdCount = created.length;
    var updatedCount = updated.length;

    if (quotas.length > 0) {
      // quota errors have their own modal instead of a notification
      dispatch(Object(react_cozy_helpers__WEBPACK_IMPORTED_MODULE_11__["showModal"])(react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(drive_web_modules_upload_QuotaAlert__WEBPACK_IMPORTED_MODULE_13__["default"], null)));
    } else if (networkErrors.length > 0) {
      cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].info('upload.alert.network');
    } else if (errors.length > 0) {
      cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].info('upload.alert.errors');
    } else if (updatedCount > 0 && createdCount > 0 && conflictCount > 0) {
      cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].success('upload.alert.success_updated_conflicts', {
        smart_count: createdCount,
        updatedCount: updatedCount,
        conflictCount: conflictCount
      });
    } else if (updatedCount > 0 && createdCount > 0) {
      cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].success('upload.alert.success_updated', {
        smart_count: createdCount,
        updatedCount: updatedCount
      });
    } else if (updatedCount > 0 && conflictCount > 0) {
      cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].success('upload.alert.updated_conflicts', {
        smart_count: updatedCount,
        conflictCount: conflictCount
      });
    } else if (conflictCount > 0) {
      cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].info('upload.alert.success_conflicts', {
        smart_count: createdCount,
        conflictNumber: conflictCount
      });
    } else if (updatedCount > 0 && createdCount === 0) {
      cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].success('upload.alert.updated', {
        smart_count: updatedCount
      });
    } else {
      cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].success('upload.alert.success', {
        smart_count: createdCount
      });
    }
  };
};

var createFolder = function createFolder(name) {
  return (
    /*#__PURE__*/
    function () {
      var _ref6 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee6(dispatch, getState) {
        var existingFolder, currentFileCount, folder, sort;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                existingFolder = getState().view.files.folder.find(function (f) {
                  return Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_9__["isDirectory"])(f) && f.name === name;
                });
                currentFileCount = getState().view.fileCount;

                if (!existingFolder) {
                  _context6.next = 6;
                  break;
                }

                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].error('alert.folder_name', {
                  folderName: name
                });
                dispatch({
                  type: CREATE_FOLDER_FAILURE_DUPLICATE,
                  folderName: name
                });
                throw new Error('alert.folder_name');

              case 6:
                dispatch({
                  type: CREATE_FOLDER,
                  name: name
                });
                _context6.prev = 7;
                _context6.next = 10;
                return cozy.client.files.createDirectory({
                  name: name,
                  dirID: getState().view.displayedFolder.id
                });

              case 10:
                folder = _context6.sent;
                sort = Object(_reducer__WEBPACK_IMPORTED_MODULE_4__["getSort"])(getState());
                dispatch({
                  type: CREATE_FOLDER_SUCCESS,
                  folder: Object(_async__WEBPACK_IMPORTED_MODULE_3__["extractFileAttributes"])(folder),
                  currentFileCount: currentFileCount,
                  currentSort: sort
                });
                _context6.next = 19;
                break;

              case 15:
                _context6.prev = 15;
                _context6.t0 = _context6["catch"](7);

                if (_context6.t0.response && _context6.t0.response.status === HTTP_CODE_CONFLICT) {
                  cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].error('alert.folder_name', {
                    folderName: name
                  });
                  dispatch({
                    type: CREATE_FOLDER_FAILURE_DUPLICATE,
                    folderName: name
                  });
                } else {
                  cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].error('alert.folder_generic');
                  dispatch({
                    type: CREATE_FOLDER_FAILURE_GENERIC
                  });
                }

                throw _context6.t0;

              case 19:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, null, [[7, 15]]);
      }));

      return function (_x10, _x11) {
        return _ref6.apply(this, arguments);
      };
    }()
  );
};
var trashFiles = function trashFiles(files) {
  return (
    /*#__PURE__*/
    function () {
      var _ref8 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee7(dispatch, _, _ref7) {
        var client, trashed, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, file, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, ref;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                client = _ref7.client;
                dispatch({
                  type: TRASH_FILES,
                  files: files,
                  meta: META_DEFAULTS
                });
                trashed = [];
                _context7.prev = 3;
                _iteratorNormalCompletion = true;
                _didIteratorError = false;
                _iteratorError = undefined;
                _context7.prev = 7;
                _iterator = files[Symbol.iterator]();

              case 9:
                if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
                  _context7.next = 48;
                  break;
                }

                file = _step.value;
                _context7.t0 = trashed;
                _context7.next = 14;
                return cozy.client.files.trashById(file.id);

              case 14:
                _context7.t1 = _context7.sent;

                _context7.t0.push.call(_context7.t0, _context7.t1);

                if (!Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_9__["isReferencedByAlbum"])(file)) {
                  _context7.next = 44;
                  break;
                }

                _iteratorNormalCompletion2 = true;
                _didIteratorError2 = false;
                _iteratorError2 = undefined;
                _context7.prev = 20;
                _iterator2 = file.relationships.referenced_by.data[Symbol.iterator]();

              case 22:
                if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {
                  _context7.next = 30;
                  break;
                }

                ref = _step2.value;

                if (!(ref.type === drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_9__["ALBUMS_DOCTYPE"])) {
                  _context7.next = 27;
                  break;
                }

                _context7.next = 27;
                return cozy.client.data.removeReferencedFiles({
                  _type: ref.type,
                  _id: ref.id
                }, file.id);

              case 27:
                _iteratorNormalCompletion2 = true;
                _context7.next = 22;
                break;

              case 30:
                _context7.next = 36;
                break;

              case 32:
                _context7.prev = 32;
                _context7.t2 = _context7["catch"](20);
                _didIteratorError2 = true;
                _iteratorError2 = _context7.t2;

              case 36:
                _context7.prev = 36;
                _context7.prev = 37;

                if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
                  _iterator2.return();
                }

              case 39:
                _context7.prev = 39;

                if (!_didIteratorError2) {
                  _context7.next = 42;
                  break;
                }

                throw _iteratorError2;

              case 42:
                return _context7.finish(39);

              case 43:
                return _context7.finish(36);

              case 44:
                client.collection('io.cozy.permissions').revokeSharingLink(file);

              case 45:
                _iteratorNormalCompletion = true;
                _context7.next = 9;
                break;

              case 48:
                _context7.next = 54;
                break;

              case 50:
                _context7.prev = 50;
                _context7.t3 = _context7["catch"](7);
                _didIteratorError = true;
                _iteratorError = _context7.t3;

              case 54:
                _context7.prev = 54;
                _context7.prev = 55;

                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }

              case 57:
                _context7.prev = 57;

                if (!_didIteratorError) {
                  _context7.next = 60;
                  break;
                }

                throw _iteratorError;

              case 60:
                return _context7.finish(57);

              case 61:
                return _context7.finish(54);

              case 62:
                _context7.next = 69;
                break;

              case 64:
                _context7.prev = 64;
                _context7.t4 = _context7["catch"](3);

                if (isAlreadyInTrash(_context7.t4)) {
                  _context7.next = 69;
                  break;
                }

                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].error('alert.try_again');
                return _context7.abrupt("return", dispatch({
                  type: TRASH_FILES_FAILURE
                }));

              case 69:
                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].success('alert.trash_file_success');
                return _context7.abrupt("return", dispatch({
                  type: TRASH_FILES_SUCCESS,
                  ids: files.map(function (f) {
                    return f.id;
                  })
                }));

              case 71:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7, null, [[3, 64], [7, 50, 54, 62], [20, 32, 36, 44], [37,, 39, 43], [55,, 57, 61]]);
      }));

      return function (_x12, _x13, _x14) {
        return _ref8.apply(this, arguments);
      };
    }()
  );
};

var isAlreadyInTrash = function isAlreadyInTrash(err) {
  var reasons = err.reason !== undefined ? err.reason.errors : undefined;

  if (reasons) {
    var _iteratorNormalCompletion3 = true;
    var _didIteratorError3 = false;
    var _iteratorError3 = undefined;

    try {
      for (var _iterator3 = reasons[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
        var reason = _step3.value;

        if (reason.detail === 'File or directory is already in the trash') {
          return true;
        }
      }
    } catch (err) {
      _didIteratorError3 = true;
      _iteratorError3 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion3 && _iterator3.return != null) {
          _iterator3.return();
        }
      } finally {
        if (_didIteratorError3) {
          throw _iteratorError3;
        }
      }
    }
  }

  return false;
};

var isMissingFile = function isMissingFile(error) {
  return error.status === 404;
};

var downloadFileError = function downloadFileError(error) {
  return isMissingFile(error) ? 'error.download_file.missing' : 'error.download_file.offline';
};
var downloadFiles = function downloadFiles(files) {
  var meta = META_DEFAULTS;
  return (
    /*#__PURE__*/
    function () {
      var _ref9 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee8(dispatch) {
        var paths, href, fullpath;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                if (!(files.length === 1 && !Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_9__["isDirectory"])(files[0]))) {
                  _context8.next = 2;
                  break;
                }

                return _context8.abrupt("return", dispatch(downloadFile(files[0], meta)));

              case 2:
                paths = files.map(function (f) {
                  return f.path;
                });
                _context8.next = 5;
                return cozy.client.files.getArchiveLinkByPaths(paths);

              case 5:
                href = _context8.sent;
                _context8.next = 8;
                return cozy.client.fullpath(href);

              case 8:
                fullpath = _context8.sent;
                forceFileDownload(fullpath, 'files.zip');
                return _context8.abrupt("return", dispatch({
                  type: DOWNLOAD_SELECTION,
                  files: files,
                  meta: meta
                }));

              case 11:
              case "end":
                return _context8.stop();
            }
          }
        }, _callee8);
      }));

      return function (_x15) {
        return _ref9.apply(this, arguments);
      };
    }()
  );
};

var downloadFile = function downloadFile(file, meta) {
  return (
    /*#__PURE__*/
    function () {
      var _ref10 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee9(dispatch) {
        var downloadURL, filename;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                _context9.next = 2;
                return cozy.client.files.getDownloadLinkById(file.id).catch(function (error) {
                  cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].error(downloadFileError(error));
                  throw error;
                });

              case 2:
                downloadURL = _context9.sent;
                filename = file.name;
                forceFileDownload("".concat(cozy.client._url).concat(downloadURL, "?Dl=1"), filename);
                return _context9.abrupt("return", dispatch({
                  type: DOWNLOAD_FILE,
                  file: file,
                  meta: meta
                }));

              case 6:
              case "end":
                return _context9.stop();
            }
          }
        }, _callee9);
      }));

      return function (_x16) {
        return _ref10.apply(this, arguments);
      };
    }()
  );
};

var forceFileDownload = function forceFileDownload(href, filename) {
  var element = document.createElement('a');
  element.setAttribute('href', href);
  element.setAttribute('download', filename);
  element.style.display = 'none';
  document.body.appendChild(element);
  element.click();
  document.body.removeChild(element);
}; // MOBILE STUFF


var exportFilesNative = function exportFilesNative(files) {
  return (
    /*#__PURE__*/
    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee11() {
      var downloadAllFiles, urls;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee11$(_context11) {
        while (1) {
          switch (_context11.prev = _context11.next) {
            case 0:
              downloadAllFiles = files.map(
              /*#__PURE__*/
              function () {
                var _ref12 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
                /*#__PURE__*/
                _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee10(file) {
                  var response, blob, filename, localFile;
                  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee10$(_context10) {
                    while (1) {
                      switch (_context10.prev = _context10.next) {
                        case 0:
                          _context10.next = 2;
                          return cozy.client.files.downloadById(file.id);

                        case 2:
                          response = _context10.sent;
                          _context10.next = 5;
                          return response.blob();

                        case 5:
                          blob = _context10.sent;
                          filename = file.name;
                          _context10.next = 9;
                          return Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_7__["saveFileWithCordova"])(blob, filename);

                        case 9:
                          localFile = _context10.sent;
                          return _context10.abrupt("return", localFile.nativeURL);

                        case 11:
                        case "end":
                          return _context10.stop();
                      }
                    }
                  }, _callee10);
                }));

                return function (_x17) {
                  return _ref12.apply(this, arguments);
                };
              }());
              _context11.prev = 1;
              cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].info('alert.preparing', {
                duration: Math.min(downloadAllFiles.length * 2000, 6000)
              });
              _context11.next = 5;
              return Promise.all(downloadAllFiles);

            case 5:
              urls = _context11.sent;
              window.plugins.socialsharing.shareWithOptions({
                files: urls
              }, null, function (error) {
                throw error;
              });
              _context11.next = 12;
              break;

            case 9:
              _context11.prev = 9;
              _context11.t0 = _context11["catch"](1);
              cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].error(downloadFileError(_context11.t0));

            case 12:
            case "end":
              return _context11.stop();
          }
        }
      }, _callee11, null, [[1, 9]]);
    }))
  );
};

var openFileDownloadError = function openFileDownloadError(error) {
  return isMissingFile(error) ? 'mobile.error.open_with.missing' : 'mobile.error.open_with.offline';
};

var openFileWith = function openFileWith(id, filename) {
  return (
    /*#__PURE__*/
    function () {
      var _ref13 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee12(dispatch) {
        var response, blob;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee12$(_context12) {
          while (1) {
            switch (_context12.prev = _context12.next) {
              case 0:
                if (!(Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_6__["isMobileApp"])() && window.cordova.plugins.fileOpener2)) {
                  _context12.next = 12;
                  break;
                }

                dispatch({
                  type: OPEN_FILE_WITH,
                  id: id
                });
                _context12.next = 4;
                return cozy.client.files.downloadById(id).catch(function (error) {
                  cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].error(openFileDownloadError(error));
                  throw error;
                });

              case 4:
                response = _context12.sent;
                _context12.next = 7;
                return response.blob();

              case 7:
                blob = _context12.sent;
                _context12.next = 10;
                return Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_7__["saveAndOpenWithCordova"])(blob, filename).catch(function () {
                  cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].error('mobile.error.open_with.noapp');
                });

              case 10:
                _context12.next = 13;
                break;

              case 12:
                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].error('mobile.error.open_with.noapp');

              case 13:
              case "end":
                return _context12.stop();
            }
          }
        }, _callee12);
      }));

      return function (_x18) {
        return _ref13.apply(this, arguments);
      };
    }()
  );
};
var toggleThumbnailSize = function toggleThumbnailSize() {
  return {
    type: TOGGLE_THUMBNAIL_SIZE
  };
};

/***/ }),

/***/ "S0v/":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-drive_97875d123a5148949fad8643642c2c2b",
  "use": "icon-drive_97875d123a5148949fad8643642c2c2b-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-drive_97875d123a5148949fad8643642c2c2b\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(0 2)\">\n    <rect width=\"32\" height=\"26\" y=\"2\" fill=\"#B2D3FF\" rx=\"2\" />\n    <path fill=\"#197BFF\" d=\"M0,0.990777969 C0,0.443586406 0.449948758,0 1.00684547,0 L12.9931545,0 C13.5492199,0 14.3125,0.3125 14.7107565,0.71075654 L15.2892435,1.28924346 C15.6817835,1.68178346 16.4446309,2 17.0008717,2 L30.0059397,2 C31.1072288,2 32,2.89470506 32,4 L32,4 L17.0008717,4 C16.4481055,4 15.6875,4.3125 15.2892435,4.71075654 L14.7107565,5.28924346 C14.3182165,5.68178346 13.5500512,6 12.9931545,6 L1.00684547,6 C0.450780073,6 0,5.54902482 0,5.00922203 L0,0.990777969 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "SD4Y":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"Drive","item_recent":"Recent","item_sharings":"Gedeelde items","item_shared":"Door mij gedeeld","item_activity":"Activiteit","item_trash":"Prullenbak","item_settings":"Instellingen","item_collect":"Administratie","btn-client":"Download Cozy Drive voor je computer","btn-client-web":"Download Cozy","btn-client-mobile":"Download Cozy Drive op je telefoon!","banner-txt-client":"Download Cozy Drive voor je computer en synchroniseer je bestanden veilig om ze overal beschikbaar te maken.","banner-btn-client":"Downloaden","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Drive","title_recent":"Recent","title_sharings":"Gedeelde items","title_shared":"Door mij gedeeld","title_activity":"Activiteit","title_trash":"Prullenbak"},"Toolbar":{"more":"Meer"},"toolbar":{"item_upload":"Uploaden","menu_upload":"Bestanden uploaden","item_more":"Meer","menu_new_folder":"Nieuwe map","menu_select":"Items selecteren","menu_download_folder":"Map downloaden","menu_download_file":"Download dit bestand","menu_open_cozy":"Openen in mijn Cozy","empty_trash":"Prullenbak legen","share":"Delen","trash":"Verwijderen","leave":"Gedeelde map verlaten en verwijderen"},"Share":{"status":{"owner":"Eigenaar","pending":"In wachtrij","ready":"Geaccepteerd","refused":"Geweigerd","error":"Fout","unregistered":"Fout","mail-not-sent":"In wachtrij","revoked":"Fout"},"type":{"one-way":"Mag bekijken","two-way":"Mag bewerken","desc":{"one-way":"Contactpersonen kunnen de inhoud bekijken, downloaden en toevoegen aan hun Cozy. Als ze dit doen, dan ontvangen ze bijgewerkte versies zodra jij iets aanpast, maar ze kunnen zelf niks aanpassen.","two-way":"Contactpersonen kunnen de inhoud bijwerken, verwijderen en toevoegen aan hun Cozy. Bijgewerkte versies worden getoond op andere Cozies."}},"locked-type-file":"Binnenkort kun je op een bestand verleende machtigingen wijzigen.","locked-type-folder":"Binnenkort kun je op een map verleende machtigingen wijzigen.","recipients":{"you":"Jij","accessCount":"%{count} personen hebben toegang"},"create-cozy":"Mijn cozy creren","members":{"count":"1 lid |||| %{smart_count} leden","others":"en 1 andere... ||| en %{smart_count} anderen...","otherContacts":"andere contactpersoon |||| andere contactpersonen"},"contacts":{"permissionRequired":{"title":"Wil je je contactpersonen opslaan in je Cozy?","desc":"Machtig de app om toegang te krijgen tot je Cozy-contactpersonen; volgende keer kun je ze kiezen.","action":"Machtigen","success":"De app heeft toegang tot je contactpersonen"}}},"Sharings":{"unavailable":{"title":"Maak verbinding met internet!","message":"Je moet verbonden zijn met het internet om de lijst met recent gedeelde items te bekijken."}},"Files":{"share":{"cta":"Delen","title":"Delen","details":{"title":"Deelinformatie","createdAt":"Op %{date}","ro":"Mag bekijken","rw":"Mag wijzigen","desc":{"ro":"Je kunt deze inhoud bekijken, downloaden op en toevoegen aan je Cozy. Je ontvangt bijgewerkte versies van de eigenaar, maar je kunt zelfs niks aanpassen.","rw":"Je kunt deze inhoud bekijken, downloaden op en toevoegen aan je Cozy. Bijgewerkte versies zijn beschikbaar op andere Cozies."}},"sharedByMe":"Door mij gedeeld","sharedWithMe":"Met mij gedeeld","sharedBy":"Gedeeld door %{name}","shareByLink":{"subtitle":"Via openbare link","desc":"Iedereen die de link heeft kan je bestanden bekijken en downloaden.","creating":"Bezig met creren van je link...","copy":"Link kopiren","copied":"Link is gekopieerd naar het klembord","failed":"Kan niet kopiren naar klembord"},"shareByEmail":{"subtitle":"Via e-mail","email":"Aan:","emailPlaceholder":"Voer het e-mailadres of de naam in van de ontvanger","send":"Versturen","genericSuccess":"Je hebt een uitnodiging verstuurd aan %{count} contactpersonen.","success":"Je hebt een uitnodiging verstuurd aan %{email}.","comingsoon":"Binnenkort kun je documenten en foto's met n klik delen met je familie, vrienden en zelfs met je collega's! Geen zorgen, we laten je weten wanneer dit beschikbaar is.","onlyByLink":"Dit %{type} kan niet worden gedeeld via een link omdat het","type":{"file":"bestand","folder":"map"},"hasSharedParent":"een gedeelde bovenliggende map bevat","hasSharedChild":"een gedeeld itembevat"},"revoke":{"title":"Verwijderen uit gedeelde items","desc":"De contactpersoon behoudt de kopie, maar aanpassingen worden niet langer gesynchroniseerd.","success":"Je hebt dit gedeelde bestand verwijderd uit %{email}."},"revokeSelf":{"title":"Verwijder mij uit gedeelde items","desc":"De inhoud blijft bewaard, maar wordt niet langer bijgewerkt tussen je Cozy-apparaten.","success":"Je bent verwijderd uit deze gedeelde items."},"sharingLink":{"title":"Link om te delen","copy":"Kopiren","copied":"Gekopieerd"},"whoHasAccess":{"title":"1 persoon heeft toegang |||| %{smart_count} personen hebben toegang"},"protectedShare":{"title":"Binnenkort!","desc":"Deel van alles via e-mail met je familie en vrienden!"},"close":"Sluiten","gettingLink":"Bezig met ophalen van je link...","error":{"generic":"Er is een fout opgetreden tijdens het creren van de link. Probeer het opnieuw.","revoke":"Oeps, er is een fout opgetreden. Neem contact met ons op zodat we het probleem z.s.m. kunnen verhelpen."},"specialCase":{"base":"Dit %{type} kan niet worden gedeeld met een link omdat het","isInSharedFolder":"zich bevindt in een gedeelde map","hasSharedFolder":"een gedeelde map bevat"}},"viewer-fallback":"Je kunt dit sluiten zodra het downloaden is gestart.","dropzone":{"teaser":"Versleep bestanden om ze te uploaden naar:","noFolderSupport":"Je browser heeft geen ondersteuning voor slepen-en-neerzetten. Upload de bestanden handmatig."}},"table":{"head_name":"Naam","head_update":"Laatst bijgewerkt","head_size":"Grootte","head_status":"Status","head_thumbnail_size":"Miniatuurgrootte aanpassen","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":"Delen (alleen-lezen)","row_read_write":"Delen (lezen en bewerken)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"Meer laden","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oudste eerst","head_updated_at_desc":"Recentste eerst","head_size_asc":"Kleinste eerst","head_size_desc":"Grootste eerst"}},"SelectionBar":{"selected_count":"item geselecteerd |||| items geselecteerd","share":"Delen","download":"Downloaden","trash":"Verwijderen","destroy":"Permanent verwijderen","rename":"Naam wijzigen","restore":"Herstellen","close":"Sluiten","openWith":"Openen met","moveto":"Verplaatsen naar...","phone-download":"Offline beschikbaar maken","qualify":"Categoriseren"},"deleteconfirmation":{"title":"Dit item verwijderen? |||| Deze items verwijderen?","trash":"Het wordt verplaatst naar de prullenbak. |||| Ze worden verplaatst naar de prullenbak.","restore":"Je kunt het ten allen tijde herstellen. |||| Je kunt ze ten allen tijde herstellen.","shared":"De volgende contactpersonen, met wie je dit gedeeld hebt, behouden een kopie, maar wijzigingen worden niet langer gesynchroniseerd. |||| De volgende contactpersonen, met wie je ze gedeeld hebt, behouden een kopie, maar wijzigingen worden niet langer gesynchroniseerd.","referenced":"Sommige geselecteerde bestanden horen bij een foto-album. Als je doorgaat, dan worden ze verwijderd.","cancel":"Annuleren","delete":"Verwijderen"},"emptytrashconfirmation":{"title":"Permanent verwijderen?","forbidden":"Je hebt dan  geen toegang meer tot deze bestanden.","restore":"Je kunt deze bestanden niet herstellen als je geen back-up hebt gemaakt.","cancel":"Annuleren","delete":"Alles verwijderen"},"destroyconfirmation":{"title":"Permanent verwijderen?","forbidden":"Je hebt dan geen toegang meer tot dit bestand. |||| Je hebt dat geen toegang meer tot deze bestanden.","restore":"Je kunt dit bestand niet herstellen als je geen back-up hebt gemaakt. |||| Je kunt deze bestanden niet herstellen als je geen back-up hebt gemaakt.","cancel":"Annuleren","delete":"Permanent verwijderen"},"quotaalert":{"title":"Je hebt geen vrije schijfruimte meer :(","desc":"Verwijder bestanden en leeg de prullenbak voordat je wr probeert om bestanden te uploaden.","confirm":"Ok"},"loading":{"message":"Bezig met laden..."},"empty":{"title":"Deze map bevat geen bestanden.","text":"Klik op de knop \"Uploaden\" om bestanden toe te voegen aan deze map.","trash_title":"Je hebt geen verwijderde bestanden.","trash_text":"Verplaats bestanden die je niet langer nodig hebt naar de prullenbak en verwijder items permanent om ruimte vrij te maken."},"error":{"open_folder":"Er is iets misgegaan tijdens het openen van de map.","button":{"reload":"Nu herladen"},"download_file":{"offline":"Je moet verbonden zijn om dit bestand te kunnen downloaden","missing":"Dit bestand ontbreekt"}},"Error":{"public_unshared_title":"Sorry, deze link niet langer beschikbaar.","public_unshared_text":"Deze link is verlopen of verwijderd door de eigenaar. Stel hem of haar hiervan op de hoogte!"},"alert":{"could_not_open_file":"Het bestand kan niet worden geopend","try_again":"Er is een fout opgetreden; probeer het later opnieuw.","restore_file_success":"De selectie is hersteld.","trash_file_success":"De selectie is verplaatst naar de prullenbak.","destroy_file_success":"De selectie is permanent verwijderd.","empty_trash_progress":"De prullenbak wordt geleegd; dit kan even duren.","empty_trash_success":"De prullenbak is geleegd.","folder_name":"Het item '%{folderName}' bestaat al. Kies een nieuwe naam.","folder_generic":"Er is een fout opgetreden; probeer het opnieuw.","folder_abort":"Als je je nieuwe map wilt opslaan, dan moet je deze een naam geven. Je informatie is niet opgeslagen.","offline":"Deze functie is niet offline beschikbaar.","preparing":"Bezig met voorbereiden van je bestanden..."},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Creer een Cozy of log in op je Cozy Drive","button":"Inloggen","no_account_link":"Ik heb geen Cozy","create_my_cozy":"Mijn Cozy creren"},"server_selection":{"title":"Inloggen","lostpwd":"[Ik ben het adres van mijn Cozy vergeten](https://manager.cozycloud.cc/cozy/reminder)","label":"Mijn Cozy-adres","cozy_address_placeholder":"jan","cozy_custom_address_placeholder":"jan.mijndomein.com","domain_cozy":".mycozy.cloud","domain_custom":"overig","button":"Volgende","wrong_address_with_email":"Je hebt een e-mailadres ingevoerd. Om te verbinden met je Cozy, moet je de url invoeren. Voorbeeld: https://janjansen.mycozy.cloud","wrong_address_v2":"Je hebt een adres ingevoerd van een oude Cozy-versie. Deze app  is alleen compatibel met de nieuwste versie. [Bekijk onze site voor meer informatie.] (https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"Dit adres lijkt geen Cozy te bevatten. Controleer het opgegeven adres.","wrong_address_cosy":"Oeps, dit adres is onjuist. Probeer \"cozy\" met een \"z\" te schrijven!"},"files":{"title":"Toegang tot je schijf","description":"Als je je Cozy Drive wilt opslaan op je apparaat, dan heeft deze app toegang tot je bestanden nodig."},"photos":{"title":"Foto's en video's back-uppen","description":"Foto's en video's die je gemaakt hebt met je telefoon automatisch back-uppen naar je Cozy, zodat je ze nooit kwijtraakt."},"contacts":{"title":"Contactpersonen synchroniseren","description":"Sla je telefooncontactpersonen op op je Cozy - dit vergemakkelijkt het delen van bestanden."},"step":{"button":"Nu inschakelen","skip":"Later","next":"Volgende"},"analytics":{"title":"Help ons Cozy te verbeteren","description":"De app deelt automatisch gegevens (voornamelijk fouten) met Cozy Cloud. Dit helpt ons problemen sneller op te lossen."}},"settings":{"title":"Instellingen","about":{"title":"Over","app_version":"App-versie","account":"Account"},"unlink":{"title":"Uitloggen","description":"Als je uitlogt op dit apparaat, dan verlies je geen gegevens van je Cozy. Dit verwijdert offline bestanden die gerelateerd zijn aan je Cozy.","button":"Uitloggen"},"media_backup":{"media_folder":"Foto's","backup_folder":"Geback-upt via mijn mobiel","legacy_backup_folder":"Geback-upt via mijn mobiel","title":"Mediaback-up","images":{"title":"Afbeeldingen back-uppen","label":"Automatisch je afbeeldingen back-uppen naar je Cozy zodat je ze nooit kwijtraakt en eenvoudig kunt delen."},"launch":"Back-up starten","stop":"Back-up stoppen","wifi":{"title":"Alleen back-uppen via Wi-Fi","label":"Als deze optie is ingeschakeld, dan back-upt je apparaat alleen foto's als er verbinding is met Wi-Fi zodat je mobiele internet wordt ontzien."},"media_upload":"%{smart_count} resterende afbeelding |||| %{smart_count} resterende afbeeldingen","media_uptodate":"Mediaback-up is actueel","preparing":"Bezig met zoeken naar te back-uppen media...","no_wifi":"Maak verbinding met een Wi-Fi-netwerk","quota":"Opslagruimte bijna vol","quota_contact":"Opslagruimte beheren"},"support":{"title":"Ondersteuning","analytics":{"title":"Help ons Cozy te verbeteren","label":"De app deelt automatisch gegevens (voornamelijk fouten) met Cozy Cloud. Dit helpt ons problemen sneller op te lossen."},"feedback":{"title":"Help ons Cozy Drive te verbeteren","description":"Verstuur je feedback zodat we Cozy Drive kunnen verbeteren. Klik op onderstaande knop, leg het probleem uit of deel een idee en verstuur het. Klaar is Kees!","button":"Feedback achterlaten"},"logs":{"title":"Help ons je probleem te begrijpen","description":"Verstuur het logbestand om de kwaliteit en stabiliteit te verbeteren.","button":"Mijn logbestanden versturen","success":"Bedankt! We gaan je probleem bekijken en nemen spoedig contact met je op.","error":"Er is een fout opgetreden: de logbestanden zijn niet verstuurd. Probeer het opnieuw."}},"contacts":{"title":"Contactpersonen","subtitle":"Contactpersonen importeren","text":"Importeer de contactpersonen van je apparaat zodat je gemakkelijk dingen met ze kunt delen."}},"error":{"open_with":{"offline":"Je moet verbonden zijn om dit bestand te kunnen openen","noapp":"Er is geen app die dit bestand kan openen"},"make_available_offline":{"offline":"Je moet verbonden zijn om dit bestand te kunnen openen","noapp":"Er is geen app die dit bestand kan openen"}},"revoked":{"title":"Toegang ingetrokken","description":"Het lijkt erop dat je dit apparaat hebt verwijderd uit je Cozy. Als dat niet zo is, neem dan contact met ons op via contact@cozycloud.cc Al je lokale Cozy-gegevens worden verwijderd.","loginagain":"Opnieuw inloggen","logout":"Uitloggen"},"rating":{"enjoy":{"title":"Gebruik je Cozy Drive graag?","yes":"Ja!","no":"Niet echt"},"rate":{"title":"Wil je een beoordeling achterlaten?","yes":"Ja, graag!","no":"Nee, bedankt","later":"Misschien later"},"feedback":{"title":"Wil je feedback achterlaten?","yes":"Versturen","no":"Nee, bedankt"},"email":{"subject":"Feedback over Cozy Drive","placeholder":"Hallo, ik vind dat Cozy Drive het volgende kan verbeteren:"},"alert":{"rated":"Bedankt! Je bent een  !","declined":"Top! Je gaat de nieuwe mogelijkheden geweldig vinden. Blijf Cozy!","later":"Geen probleem; we vragen het later nog eens.","feedback":"Bedankt voor de feedback. We gaan er zeker mee aan de slag!"}},"first_sync":{"title":"Je staat op het punt om je eerste foto's te back-uppen ","tips":"Tips","tip_bed":"Open Cozy Drive voordat je naar bed gaat of als je je telefoon niet gebruikt.","tip_wifi":"Schakel Wi-Fi in om mobiele gegevens te besparen.","tip_lock":"Schakel je vergrendelingsscherm uit.","result":"'s Ochtends worden al je foto's opgeslagen op een veilige locatie.","button":"Ik begrijp het!"},"notifications":{"backup_paused":"De fotoback-up is gepauzeerd. Houdt de app open en zorg ervoor dat het scherm niet uit gaat om de back-up te kunnen voltooien."}},"upload":{"alert":{"success":"%{smart_count} bestand gepload. |||| %{smart_count} bestanden gepload.","success_conflicts":"%{smart_count} bestand gepload; %{conflictNumber} conflict(en). |||| %{smart_count} bestanden gepload; %{conflictNumber} conflict(en).","success_updated":"%{smart_count} bestand gepload en %{updatedCount} bijgewerkt. |||| %{smart_count} bestanden gepload en %{updatedCount} bijgewerkt.","success_updated_conflicts":"%{smart_count} bestand gepload, %{updatedCount} bijgewerkt en %{conflictNumber} contflict(en). |||| %{smart_count} bestanden gepload, %{updatedCount} bijgewerkt en %{conflictNumber} contflict(en).","updated":"%{smart_count} bestand bijgewerkt. |||| %{smart_count} bestanden bijgewerkt.","updated_conflicts":"%{smart_count} bestand bijgewerkt; %{conflictNumber} contflict(en). |||| %{smart_count} bestanden bijgewerxt; %{conflictNumber} contflict(en).","errors":"Er zijn fouten opgetreden tijdens het uploaden.","network":"Je bent momenteel offline. Maak verbinding en probeer het opnieuw."}},"intents":{"alert":{"error":"Het bestand kan niet automatisch worden gepload. Doe het handmatig via het uploadmenu."},"picker":{"select":"Selecteren","cancel":"Annuleren","new_folder":"Nieuwe map","instructions":"Kies een doel"}},"UploadQueue":{"header":"Bezig met uploaden van %{smart_count} foto naar Cozy Drive |||| Bezig met uploaden van %{smart_count} foto's naar Cozy Drive","header_mobile":"Bezig met uploaden - %{done} van %{total}...","header_done":"%{done} van de %{total} gepload","close":"sluiten","item":{"pending":"In wachtrij"}},"Viewer":{"close":"Sluiten","noviewer":{"download":"Download dit bestand","openWith":"Openen met...","cta":{"saveTime":"Bespaar wat tijd!","installDesktop":"Installeer de synchronisatie-app op je computer","accessFiles":"Direct toegang tot je bestanden vanaf je computer"}},"actions":{"download":"Downloaden"},"loading":{"error":"Dit bestand kan niet worden geladen. Ben je verbonden met het internet?","retry":"Opnieuw proberen"},"error":{"noapp":"Er is geen app die dit bestand kan openen.","generic":"Er is een fout opgetreden tijdens het openen van dit bestand. Probeer het opnieuw.","noNetwork":"Je bent momenteel offline."}},"Move":{"to":"Verplaatsen naar:","action":"Verplaatsen","cancel":"Annuleren","modalTitle":"Verplaatsen","title":"%{smart_count} item |||| %{smart_count} items","success":"%{subject} is verplaatst naar %{target}. ||| %{smart_count} items zijn verplaatst naar %{target}.","error":"Er is iets misgegaan tijdens het verplaatsen van dit item; probeer het later opnieuw. |||| Er is iets misgegaan tijdens het verplaatsen van deze items; probeer het later opnieuw.","cancelled":"%{subject} is teruggeplaatst op de oorspronkelijke locatie. ||| %{smart_count} items zijn teruggeplaatst op hun oorspronkelijke locatie.","cancelledWithRestoreErrors":"%{subject} is teruggeplaatst op de oorspronkelijke locatie, maar er is een fout opgetreden. ||| %{smart_count} items zijn teruggeplaatst op hun oorspronkelijke locatie, maar er zijn %{restoreErrorsCount} fouten opgetreden.","cancelled_error":"Sorry, er is iets misgegaan tijdens het terughalen van dit item. |||| Sorry, er is iets misgegaan tijdens terughalen van deze items."},"FileOpenerExternal":{"fileNotFoundError":"Fout: bestand niet gevonden"},"TOS":{"updated":{"title":"De GDPR is werkelijkheid geworden!","detail":"In verband met de General Data Protection Regulation, ook wel AVG, [zijn onze algemene voorwaarden bijgewerkt](%{link}) en van toepassing op alle Cozy-gebruikers vanaf 25 mei 2018.","cta":"Voorwaarden accepteren en doorgaan","disconnect":"Weigeren en verbinding verbreken","error":"Er is iets misgegaan; probeer het later opnieuw."}},"manifest":{"permissions":{"contacts":{"description":"Vereist om bestanden te kunnen delen met je contactpersonen"},"groups":{"description":"Vereist om bestanden te kunnen delen in je groepen"}}},"models":{"contact":{"defaultDisplayName":"Anoniem"}},"Scan":{"scan_a_doc":"Document scannen","save_doc":"Document opslaan","filename":"Bestandsnaam","save":"Opslaan","cancel":"Annuleren","qualify":"Categoriseren","apply":"Toepassen","error":{"offline":"Je kunt deze functie momenteel niet gebruiken omdat je offline bent. Probeer het later opnieuw.","uploading":"Je bent al een bestand aan het uploaden. Wacht tot dat is afgerond en probeer het dan opnieuw.","generic":"Er is iets misgegaan; probeer het opnieuw."},"successful":{"qualified_ok":"Je hebt je eerste bestand gecategoriseerd!"},"items":{"identity":"Identiteit","family":"Familie","work_study":"Werk","health":"Gezondheid","home":"Huis","transport":"Vervoer","invoice":"Facturen","others":"Overig","national_id_card":"ID-kaart","passport":"Paspoort","residence_permit":"Verblijfsvergunning","family_record_book":"Trouwboekje","birth_certificate":"Geboortecertificaat","driver_license":"Rijbewijs","wedding":"Huwelijkscontract","pacs":"Geregistreerd partnerschap","divorce":"Scheiding","large_family_card":" Grote familiekaart","caf":"Maatschappelijke kosten en baten","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Salarisadministratie","unemployment_benefit":"Werkloosheidsuitkering","pension":"Pensioen","other_revenue":"Overige inkomsten","gradebook":"Cijferboek","health_book":"Medisch dossier","insurance_card":"Verzekeringspas","prescription":"Doktersrecept","health_invoice":"Medische declaratie","registration":"Registratie","car_insurance":"Autoverzekering","mechanic_invoice":"Reparatiefactuur","transport_invoice":"Vervoersfactuur","phone_invoice":"Telefoonrekening","isp_invoice":"Internetfactuur","energy_invoice":"Energierekening","web_service_invoice":"Internetdienstfactuur","lease":"Lease","house_insurance":"Woonverzekering","rent_receipt":"Huurafschrift","tax_return":"BTW-teruggave","tax_notice":"BTW-aanslag","tax_timetable":"Overeenkomst gespreid betalen","invoices":"Facturen"},"themes":{"identity":"Identiteit","family":"Familie","work_study":"Werk","health":"Gezondheid","home":"Huis","transport":"Vervoer","invoice":"Facturen","others":"Overig","undefined":"Onbekend","tax":"BTW"}}};

/***/ }),

/***/ "SdrL":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-cross-bold_768adbba35f30227bde1acbc224e1604",
  "use": "icon-cross-bold_768adbba35f30227bde1acbc224e1604-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 16 16\" id=\"icon-cross-bold_768adbba35f30227bde1acbc224e1604\">\n  <defs>\n    <path d=\"M8 6.586l5.293-5.293a1 1 0 0 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 1 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 1 1 1.414-1.414L8 6.586z\" id=\"icon-cross-bold_768adbba35f30227bde1acbc224e1604_a\" />\n  </defs>\n  <use fill=\"#32363F\" fill-rule=\"nonzero\" xlink:href=\"#icon-cross-bold_768adbba35f30227bde1acbc224e1604_a\" />\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "SvPG":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _MoreButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("qelF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MoreButton", function() { return _MoreButton__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _CozyHomeLink__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("h0jr");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CozyHomeLink", function() { return _CozyHomeLink__WEBPACK_IMPORTED_MODULE_1__["default"]; });




/***/ }),

/***/ "T3Sg":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-video_efbe0710a085efd6387e86cadaf16503",
  "use": "icon-type-video_efbe0710a085efd6387e86cadaf16503-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-video_efbe0710a085efd6387e86cadaf16503\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\">\n    <path fill=\"#FFC5CE\" d=\"M0,1.99161703 C0,0.891677316 0.89784041,0 1.99161703,0 L28.008383,0 C29.1083227,0 30,0.89784041 30,1.99161703 L30,28.008383 C30,29.1083227 29.1021596,30 28.008383,30 L1.99161703,30 C0.891677316,30 0,29.1021596 0,28.008383 L0,1.99161703 Z M1,14.0093689 C1,13.4519098 1.44335318,13 2.0093689,13 L3.9906311,13 C4.54809015,13 5,13.4433532 5,14.0093689 L5,15.9906311 C5,16.5480902 4.55664682,17 3.9906311,17 L2.0093689,17 C1.45190985,17 1,16.5566468 1,15.9906311 L1,14.0093689 Z M25,14.0093689 C25,13.4519098 25.4433532,13 26.0093689,13 L27.9906311,13 C28.5480902,13 29,13.4433532 29,14.0093689 L29,15.9906311 C29,16.5480902 28.5566468,17 27.9906311,17 L26.0093689,17 C25.4519098,17 25,16.5566468 25,15.9906311 L25,14.0093689 Z M1,7.99980749 C1,7.44762906 1.44335318,7 2.0093689,7 L3.9906311,7 C4.54809015,7 5,7.44371665 5,7.99980749 L5,11.0001925 C5,11.5523709 4.55664682,12 3.9906311,12 L2.0093689,12 C1.45190985,12 1,11.5562834 1,11.0001925 L1,7.99980749 Z M25,7.99980749 C25,7.44762906 25.4433532,7 26.0093689,7 L27.9906311,7 C28.5480902,7 29,7.44371665 29,7.99980749 L29,11.0001925 C29,11.5523709 28.5566468,12 27.9906311,12 L26.0093689,12 C25.4519098,12 25,11.5562834 25,11.0001925 L25,7.99980749 Z M1,24.9998075 C1,24.4476291 1.44335318,24 2.0093689,24 L3.9906311,24 C4.54809015,24 5,24.4437166 5,24.9998075 L5,28.0001925 C5,28.5523709 4.55664682,29 3.9906311,29 L2.0093689,29 C1.45190985,29 1,28.5562834 1,28.0001925 L1,24.9998075 Z M25,24.9998075 C25,24.4476291 25.4433532,24 26.0093689,24 L27.9906311,24 C28.5480902,24 29,24.4437166 29,24.9998075 L29,28.0001925 C29,28.5523709 28.5566468,29 27.9906311,29 L26.0093689,29 C25.4519098,29 25,28.5562834 25,28.0001925 L25,24.9998075 Z M1,1.99980749 C1,1.44762906 1.44335318,1 2.0093689,1 L3.9906311,1 C4.54809015,1 5,1.44371665 5,1.99980749 L5,5.00019251 C5,5.55237094 4.55664682,6 3.9906311,6 L2.0093689,6 C1.45190985,6 1,5.55628335 1,5.00019251 L1,1.99980749 Z M25,1.99980749 C25,1.44762906 25.4433532,1 26.0093689,1 L27.9906311,1 C28.5480902,1 29,1.44371665 29,1.99980749 L29,5.00019251 C29,5.55237094 28.5566468,6 27.9906311,6 L26.0093689,6 C25.4519098,6 25,5.55628335 25,5.00019251 L25,1.99980749 Z M1,18.9998075 C1,18.4476291 1.44335318,18 2.0093689,18 L3.9906311,18 C4.54809015,18 5,18.4437166 5,18.9998075 L5,22.0001925 C5,22.5523709 4.55664682,23 3.9906311,23 L2.0093689,23 C1.45190985,23 1,22.5562834 1,22.0001925 L1,18.9998075 Z M25,18.9998075 C25,18.4476291 25.4433532,18 26.0093689,18 L27.9906311,18 C28.5480902,18 29,18.4437166 29,18.9998075 L29,22.0001925 C29,22.5523709 28.5566468,23 27.9906311,23 L26.0093689,23 C25.4519098,23 25,22.5562834 25,22.0001925 L25,18.9998075 Z\" />\n    <path fill=\"#FF405D\" d=\"M11,9.61464155 C11,9.06099084 11.3798008,8.84004874 11.8525944,9.12372488 L20.1474056,14.1006116 C20.6182805,14.3831366 20.6201992,14.8400487 20.1474056,15.1237249 L11.8525944,20.1006116 C11.3817195,20.3831366 11,20.1564073 11,19.609695 L11,9.61464155 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "TD9l":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-image_5a0af3714e77328d0c04b0d83712f645",
  "use": "icon-type-image_5a0af3714e77328d0c04b0d83712f645-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-image_5a0af3714e77328d0c04b0d83712f645\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(0 3)\">\n    <rect width=\"32\" height=\"26\" fill=\"#8EE39B\" rx=\"2\" />\n    <path fill=\"#1EC737\" d=\"M0,20 L6.29028051,13.7097195 C6.68224776,13.3177522 7.31387329,13.3138733 7.70591205,13.7059121 L11,17 L19.2937851,8.7062149 C19.6838168,8.31618318 20.320971,8.32097101 20.7058543,8.70585426 L32,20 L32,24.0020869 C32,25.1055038 31.1107383,26 29.9982567,26 L2.00174332,26 C0.89621101,26 0,25.1017394 0,24.0020869 L0,20 Z\" />\n    <circle cx=\"8\" cy=\"7\" r=\"3\" fill=\"#FFFFFF\" />\n    <path stroke=\"#8EE39B\" d=\"M11,16 L5.5,21.5 L11,16 Z\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "TI+A":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("/MKj");
/* harmony import */ var drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("7oMs");



var mapStateToProps = function mapStateToProps() {
  return {};
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    showSelectionBar: function showSelectionBar() {
      return dispatch(Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_1__["showSelectionBar"])());
    }
  };
};

var selectableContainer = function selectableContainer(component) {
  return Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(mapStateToProps, mapDispatchToProps)(component);
};

/* harmony default export */ __webpack_exports__["default"] = (selectableContainer);

/***/ }),

/***/ "Tcnr":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);









/**
 * @todo extract this HOC to cozy-hocs
 * @param {Component} WrappedComponent
 */

var withOffline = function withOffline(WrappedComponent) {
  var _temp;

  return _temp =
  /*#__PURE__*/
  function (_Component) {
    _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(OfflineStateHOC, _Component);

    function OfflineStateHOC() {
      var _getPrototypeOf2;

      var _this;

      _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, OfflineStateHOC);

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(OfflineStateHOC)).call.apply(_getPrototypeOf2, [this].concat(args)));

      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "state", {
        isOnline: window.navigator.onLine
      });

      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "setOnline", function () {
        return _this.setState({
          isOnline: true
        });
      });

      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "setOffline", function () {
        return _this.setState({
          isOnline: false
        });
      });

      return _this;
    }

    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(OfflineStateHOC, [{
      key: "componentDidMount",
      value: function componentDidMount() {
        window.addEventListener('online', this.setOnline);
        window.addEventListener('offline', this.setOffline);
      }
    }, {
      key: "componentWillUnmount",
      value: function componentWillUnmount() {
        window.removeEventListener('online', this.setOnline);
        window.removeEventListener('offline', this.setOffline);
      }
    }, {
      key: "render",
      value: function render() {
        var isOnline = this.state.isOnline;
        return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(WrappedComponent, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
          isOffline: !isOnline
        }, this.props));
      }
    }]);

    return OfflineStateHOC;
  }(react__WEBPACK_IMPORTED_MODULE_8__["Component"]), _temp;
};

/* harmony default export */ __webpack_exports__["default"] = (withOffline);

/***/ }),

/***/ "Te91":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"coz-btn-shared":"coz-btn-shared--27aW9","coz-btn-sharedWithMe":"coz-btn-sharedWithMe--1CdsF"};

/***/ }),

/***/ "UH/X":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"Drive","item_recent":"Recent","item_sharings":"Sharings","item_shared":"Shared by me","item_activity":"Activity","item_trash":"Trash","item_settings":"Settings","item_collect":"Administrative","btn-client":"Get Cozy Drive for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Get Cozy Drive for Desktop and synchronise your files safely to make them accessible at all times.","banner-btn-client":"Download","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Schijf","title_recent":"Recent","title_sharings":"Sharings","title_shared":"Gedeeld door mij","title_activity":"Activiteit","title_trash":"Prullenbak"},"Toolbar":{"more":"More"},"toolbar":{"item_upload":"Upload","menu_upload":"Upload bestand","item_more":"More","menu_new_folder":"Nieuwe map","menu_select":"Selecteer items","menu_download_folder":"Download folder","menu_download_file":"Download this file","menu_open_cozy":"Open in my Cozy","empty_trash":"Leeg de prullenbak","share":"Share","trash":"Remove","leave":"Leave shared folder & delete it"},"Share":{"status":{"owner":"Owner","pending":"Pending","ready":"Accepted","refused":"Refused","error":"Error","unregistered":"Error","mail-not-sent":"Pending","revoked":"Error"},"type":{"one-way":"Can View","two-way":"Can Change","desc":{"one-way":"Contacts can view, download, and add the content to their Cozy. If they add the content to their Cozy, they will get updates you make to the content, but they won't be able to update it.","two-way":"Contacts can update, delete and add the content to their Cozy. Updates on the content will be seen on other Cozies."}},"locked-type-file":"Coming soon: you will be able to change permissions you grant on the file.","locked-type-folder":"Coming soon: you will be able to change permissions you grant on the folder.","recipients":{"you":"You","accessCount":"%{count} people have access"},"create-cozy":"Create my cozy","members":{"count":"1 member |||| %{smart_count} members","others":"and 1 other |||| and %{smart_count} others","otherContacts":"other contact |||| other contacts"},"contacts":{"permissionRequired":{"title":"Save your contacts in your Cozy?","desc":"Authorize the application to access to your Cozy's contacts: you'll be able to select them next time.","action":"Authorize access","success":"The application has access to your contacts"}}},"Sharings":{"unavailable":{"title":"Switch online!","message":"An internet connection is needed to display the list of your last sharings."}},"Files":{"share":{"cta":"Share","title":"Share","details":{"title":"Sharing details","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Cozy. You will get updates by the owner, but you won't be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Cozy. Updates you make will be seen on other Cozies."}},"sharedByMe":"Shared by me","sharedWithMe":"Shared with me","sharedBy":"Shared by %{name}","shareByLink":{"subtitle":"By public link","desc":"Anyone with the provided link can see and download your files.","creating":"Creating your link...","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard"},"shareByEmail":{"subtitle":"By email","email":"To:","emailPlaceholder":"Enter the email address or name of the recipient","send":"Send","genericSuccess":"You sent an invite to %{count} contacts.","success":"You sent an invite to %{email}.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won't be synchrnoized anymore.","success":"You removed this shared file from %{email}."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won't be updated between your Cozy anymore.","success":"You were removed from this sharing."},"sharingLink":{"title":"Link to share","copy":"Copy","copied":"Copied"},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Close","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"Naam","head_update":"Laatst bijgewerkt","head_size":"Grootte","head_status":"Status","head_thumbnail_size":"Switch thumbnail size","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":"Delen (alleen lezen)","row_read_write":"Delen (Lezen en schrijven)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"Load More","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oldest first","head_updated_at_desc":"Most recent first","head_size_asc":"Lightest first","head_size_desc":"Heavier first"}},"SelectionBar":{"selected_count":"item selected |||| items selected","share":"Share","download":"Download","trash":"Remove","destroy":"Delete permanently","rename":"Rename","restore":"Restore","close":"Close","openWith":"Open with","moveto":"Move to","phone-download":"Make available offline","qualify":"Categorize"},"deleteconfirmation":{"title":"Verwijder dit element? |||| Verwijder deze elementen?","trash":"Het zal worden verplaatst naar de Prullenbak. ||| Ze zullen worden verplaatst naar de Prullenbak.","restore":"Je kunt het nog steeds terughalen als je wilt. |||| Je kunt ze nog steeds terughalen als je wilt.","shared":"The following contacts whom you shared it with will keep a copy but your changes won't be synchronized anymore. |||| The following contacts whom you shared them with will keep a copy but your changes won't be synchronized anymore","referenced":"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.","cancel":"Annuleren","delete":"Verwijderen"},"emptytrashconfirmation":{"title":"Permanent verwijderen?","forbidden":"Je kunt deze bestanden niet meer benaderen.","restore":"Als je geen back-up gemaakt hebt, kun je deze bestanden niet meer terugzetten.","cancel":"Annuleren","delete":"Verwijder alles"},"destroyconfirmation":{"title":"Verwijder permanent?","forbidden":"Je kunt dit bestand net meer benaderen. |||| Je kunt deze bestanden niet meer benaderen.","restore":"Als je geen back-up gemaakt hebt, kun je dit bestand niet meer terugzetten. |||| Als je geen back-up gemaakt hebt, kun je deze bestanden niet meer terugzetten.","cancel":"Annuleren","delete":"Verwijder permanent"},"quotaalert":{"title":"Jouw schijfruimte is vol :(","desc":"Verwijder alsjeblieft bestanden en leeg de prullenbak voordat je opnieuw bestanden upload.","confirm":"OK"},"loading":{"message":"Laden"},"empty":{"title":"Er staan geen bestanden in deze map.","text":"Klik op de \"upload\" knop om bestanden aan deze map toe te voegen.","trash_title":"You dont have any deleted files.","trash_text":"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."},"error":{"open_folder":"Er is is fout gegaan bij het openen van de map.","button":{"reload":"Nu verversen"},"download_file":{"offline":"Je moet verbonden zijn om dit  bestand te downloaden","missing":"Dit bestand bestaat niet"}},"Error":{"public_unshared_title":"Sorry, this link is no longer available.","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!"},"alert":{"could_not_open_file":"The file could not be opened","try_again":"Er is een fout opgetreden, probeer het later nog eens.","restore_file_success":"De selectie is succesvol herstelt.","trash_file_success":"De selectie is verplaatst naar de Prullenbak.","destroy_file_success":"De selectie is permanent verwijderd.","empty_trash_progress":"Your trash is being emptied. This might take a few moments.","empty_trash_success":"The trash has been emptied.","folder_name":"Het element %{foldername} bestaat al, kies een andere naam.","folder_generic":"Er is een fout opgetreden, probeer het opnieuw.","folder_abort":"Je moet de nieuwe map een naam geven als je het wilt opslaan. De gegevens zijn niet opgeslagen.","offline":"Deze mogelijkheid is niet beschikbaar offline.","preparing":"Preparing your files"},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Create a Cozy or sign in to access Cozy Drive","button":"Sign in","no_account_link":"I don't have a Cozy","create_my_cozy":"Create my Cozy"},"server_selection":{"title":"Sign in","lostpwd":"[I forgot the address of my Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Address of my Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"other","button":"Volgende","wrong_address_with_email":"You typed an email address. To connect on your cozy you must type its url, something like https://camillenimbus.mycozy.cloud","wrong_address_v2":"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"This address doesnt seem to be a cozy. Please check the address you provide.","wrong_address_cosy":"Woops, the address is not correct. Try with \"cozy\" with a \"z\"!"},"files":{"title":"Toegang tot jouw schijf","description":"Om jouw Cozy schijf op jouw apparaat te zetten, moet de toepassing toegang hebben tot jouw bestanden."},"photos":{"title":"Maak een back-up van jouw foto's en video's","description":"Maak automatisch een back-up op jouw Cozy van de foto's die je neem met jouw telefoon, zodat je ze nooit verliest."},"contacts":{"title":"Sync your contacts","description":"Save your phone's contact on your Cozy  this will facilitate sharing files with them."},"step":{"button":"Zet nu aan","skip":"Later","next":"Volgende"},"analytics":{"title":"Help ons om Cozy te verbeteren","description":"Deze toepassing zal automatisch gegevens (meest foutmeldingen)  toevoegen aan de Cozy cloud. Dit zal ons helpen om problemen sneller op te lossen."}},"settings":{"title":"Instellingen","about":{"title":"Over","app_version":"App Versie","account":"Account"},"unlink":{"title":"Sign out of your Cozy","description":"By signing out of your Cozy from this device, you will not lose any data in your Cozy. This will remove your offline files from this device related to your Cozy.","button":"Sign out"},"media_backup":{"media_folder":"Photos","backup_folder":"Backed up from my mobile","legacy_backup_folder":"Backuped from my mobile","title":"Media Back-up","images":{"title":"Back-up foto's","label":"Back up jouw foto's automatisch naar jouw Cozy, zodat je ze nooit kwijt kunt raken en makkelijk kunt delen."},"launch":"Start Back-up","stop":"Stop back-up","wifi":{"title":"Back-up alleen bij WIFI bereik","label":"Als die optie geselecteerd is, zal jouw apparaat alleen back-ups maken van foto's als het via WIFI verbonden is, om je databundel te beschermen."},"media_upload":"%{smart_count} remaining picture |||| %{smart_count} remaining pictures","media_uptodate":"Media backup is up-to-date","preparing":"Searching for media to backup...","no_wifi":"Please connect to a WIFI","quota":"Storage limit nearly reached","quota_contact":"Manage your storage space"},"support":{"title":"Support","analytics":{"title":"Help ons om Cozy te verbeteren","label":"De toepassing zal automatisch gegevens (meestal foutmeldingen) aanbieden aan Cozy. Dit stelt on in staat om problemen snel op te lossen."},"feedback":{"title":"Help improve Cozy Drive","description":"Send your feedback to help us improve Cozy Drive. Click on the button below, explain the problem or make a suggestion and send it. You're done!","button":"leave feedback"},"logs":{"title":"Help ons om het probleem te begrijpen","description":"Stuur de toepassingslogbestanden om ons te helpen om de kwaliteit en stabiliteit te verbeteren.","button":"Stuur mijn log bestanden","success":"Bedankt, we gaan jouw probleem analyseren en nemen spoedig contact met je op.","error":"Er is een probleem, logbestanden konden niet worden verstuurd, probeer het later nog eens."}},"contacts":{"title":"Contacts","subtitle":"Import contacts","text":"Import the contacts from your device to your Cozy to easily share content with them."}},"error":{"open_with":{"offline":"Je moet verbonden zijn om dit bestand te openen","noapp":"Er is geen toepassing die dit bestand kan openen"},"make_available_offline":{"offline":"You should be connected to open this file","noapp":"No application can open this file"}},"revoked":{"title":"Toegang geweigerd","description":"Het lijkt erop dat je dit apparaat verboden hebt om verbinding te maken met Cozy. Als je dit niet gedaan hebt, neem dan contact met ons op via contact@cozycloud.cc. All jouw gegevens gerelateerd aan Cozy zullen worden verwijderd.","loginagain":"Log opnieuw in","logout":"Log uit"},"rating":{"enjoy":{"title":"Enjoying Cozy Drive?","yes":"Yes!","no":"Not really"},"rate":{"title":"Would you mind rating it?","yes":"Let's do that!","no":"No, thanks","later":"Maybe later"},"feedback":{"title":"Would you mind giving us some feedback?","yes":"Send","no":"No, thanks"},"email":{"subject":"Feedback on Cozy Drive","placeholder":"Hello, I think Cozy Drive would be better if"},"alert":{"rated":"Thank you! You're ","declined":"Awesome. You will love the upcoming features. Stay Cozy!","later":"No problem, we'll ask again later.","feedback":"Thank you for the feedback. We'll definitely work on it!"}},"first_sync":{"title":"You are about to start your first photos back up ","tips":"Tips","tip_bed":"Open Cozy Drive before you go to bed or when you don't use your phone.","tip_wifi":"Enable Wi-Fi to preserve your data.","tip_lock":"Disable your lock screen.","result":"In the morning, all your photos will be stored in a safe and secure location.","button":"Got it!"},"notifications":{"backup_paused":"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},"upload":{"alert":{"success":"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.","success_conflicts":"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} file uploaded and %{updatedCount} updated. |||| %{smart_count} files uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} file uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} files uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} file updated. |||| %{smart_count} files updated.","updated_conflicts":"%{smart_count} file updated with %{conflictCount} conflict(s). |||| %{smart_count} files updated with %{conflictCount} conflict(s).","errors":"Errors occurred during the file upload.","network":"You are currenly offline. Please try again once you're connected."}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Uploaded %{done} out of %{total} successfully","close":"close","item":{"pending":"Pending"}},"Viewer":{"close":"Close","noviewer":{"download":"Download this file","openWith":"Open with...","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":"Download"},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":"Retry"},"error":{"noapp":"No application found to handle this file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You're currently offline."}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it's original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it's original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back."},"FileOpenerExternal":{"fileNotFoundError":"Error: file not found"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"You are currently offline and you can't use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}}};

/***/ }),

/***/ "UQWb":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateStatusBackgroundService", function() { return updateStatusBackgroundService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startBackgroundService", function() { return startBackgroundService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "disableBackgroundService", function() { return disableBackgroundService; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_store_configureStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("HK68");
/* harmony import */ var drive_store_persistedState__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("1eh9");
/* harmony import */ var drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("NMd3");
/* harmony import */ var _cozy_helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q3u0");
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("qxHO");
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("OTOu");
/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("/GQe");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__);



/* eslint no-console: 0 */








/*
  This files is split on 4 parts:
    - GENERIC: Platform agnostic
    - SERVICE: The service background
    - ANDROID: The Android-specific part
    - IOS: The iOS-specific part

  Only 3 functions are export:
    - updateStatusBackgroundService: to enbale/disable background service
    - startBackgroundService: to start background service
    - disableBackgroundService: to disable background service

  For each platform (Android, iOS) we have:
    - has__platform__CordovaPlugin: Checks if the plugin is installed
    - enable__platform__BackgroundService and disable__platform__BackgroundService
    - start__platform__BackgroundService: Allowing to add a specific callback at the end of the service
*/
// GENERIC

var updateStatusBackgroundService = function updateStatusBackgroundService(backupImages) {
  if (backupImages) {
    enableBackgroundService();
  } else {
    disableBackgroundService();
  }
};
var startBackgroundService = function startBackgroundService() {
  if (hasIosCordovaPlugin()) {
    startIosBackgroundService();
  } else if (hasAndroidCordovaPlugin()) {
    startAndroidBackgroundService();
  } else {
    notCompatibleError();
  }
};

var enableBackgroundService = function enableBackgroundService() {
  if (hasIosCordovaPlugin()) {
    enableIosBackgroundService();
  } else if (hasAndroidCordovaPlugin()) {
    enableAndroidBackgroundService();
  } else {
    notCompatibleError();
  }
};

var disableBackgroundService =
/*#__PURE__*/
function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (!hasIosCordovaPlugin()) {
              _context.next = 4;
              break;
            }

            disableIosBackgroundService();
            _context.next = 10;
            break;

          case 4:
            if (!hasAndroidCordovaPlugin()) {
              _context.next = 9;
              break;
            }

            _context.next = 7;
            return disableAndroidBackgroundService();

          case 7:
            _context.next = 10;
            break;

          case 9:
            notCompatibleError();

          case 10:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function disableBackgroundService() {
    return _ref.apply(this, arguments);
  };
}();

var notCompatibleError = function notCompatibleError() {
  var msg = 'Background Service is not compatible with your platform.';
  lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].warn(msg);

  if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__["isMobileApp"])()) {
    lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].log(Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__["getPlatform"])());

    if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__["isIOSApp"])()) {
      lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].log(window.BackgroundFetch);
    } else if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__["isAndroidApp"])()) {
      lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].log(window.JSBackgroundService);
    }
  }

  Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__["logException"])(msg);
}; // SERVICE


var backgroundService = function backgroundService() {
  return new Promise(function (resolve) {
    lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].log('BackgroundFetch initiated');
    Object(drive_store_persistedState__WEBPACK_IMPORTED_MODULE_3__["loadState"])().then(function (persistedState) {
      var cozyURL = persistedState.mobile.settings.serverUrl;
      Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__["configureReporter"])();
      var client = Object(_cozy_helper__WEBPACK_IMPORTED_MODULE_5__["initClient"])(cozyURL);
      var store = Object(drive_store_configureStore__WEBPACK_IMPORTED_MODULE_2__["default"])(client, Object(_i18n__WEBPACK_IMPORTED_MODULE_8__["getTranslateFunction"])(), persistedState);
      return store.dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_4__["startMediaBackup"])());
    }).then(resolve).catch(resolve);
  });
}; // ANDROID


var hasAndroidCordovaPlugin = function hasAndroidCordovaPlugin() {
  return Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__["isAndroidApp"])() && window.JSBackgroundService !== undefined;
};

var enableAndroidBackgroundService =
/*#__PURE__*/
function () {
  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
    var isEnable, repeatingPeriod;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return isEnableAndroidBackgroundService();

          case 2:
            isEnable = _context2.sent;

            if (!isEnable) {
              repeatingPeriod = 60 * 60 * 1000;
              window.JSBackgroundService.setRepeating(repeatingPeriod, function (err) {
                if (err) {
                  lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].warn(err);
                  Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__["logException"])('enableAndroidBackgroundService error');
                }
              });
            }

          case 4:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function enableAndroidBackgroundService() {
    return _ref2.apply(this, arguments);
  };
}();

var disableAndroidBackgroundService =
/*#__PURE__*/
function () {
  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3() {
    var isEnable;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.next = 2;
            return isEnableAndroidBackgroundService();

          case 2:
            isEnable = _context3.sent;

            if (isEnable) {
              window.JSBackgroundService.cancelRepeating(function (err) {
                if (err) {
                  lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].warn(err);
                  Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__["logException"])('disableAndroidBackgroundService error');
                }
              });
            }

          case 4:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function disableAndroidBackgroundService() {
    return _ref3.apply(this, arguments);
  };
}();

var startAndroidBackgroundService = function startAndroidBackgroundService() {
  backgroundService().then(function () {
    stopAndroidBackgroundService();
  });
};

var stopAndroidBackgroundService = function stopAndroidBackgroundService() {
  window.service.workDone();
};

var isEnableAndroidBackgroundService = function isEnableAndroidBackgroundService() {
  return new Promise(function (resolve) {
    window.JSBackgroundService.isRepeating(function (err, isSet) {
      if (err) {
        lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].warn(err);
        Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__["logException"])('isEnableAndroidBackgroundService error');
        resolve(false);
      }

      resolve(isSet);
    });
  });
}; // IOS


var hasIosCordovaPlugin = function hasIosCordovaPlugin() {
  return Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__["isIOSApp"])() && window.BackgroundFetch !== undefined;
};

var enableIosBackgroundService = function enableIosBackgroundService() {
  // documentation: https://github.com/transistorsoft/cordova-plugin-background-fetch
  var fetcher = window.BackgroundFetch;

  var failureCallback = function failureCallback(error) {
    lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].log('BackgroundFetch failed', error);
  };

  var options = {
    stopOnTerminate: false
  };
  fetcher.configure(startIosBackgroundService, failureCallback, options);
};

var disableIosBackgroundService = function disableIosBackgroundService() {
  window.BackgroundFetch.stop();
};

var startIosBackgroundService = function startIosBackgroundService() {
  backgroundService().then(function () {
    stopIosBackgroundService();
  });
};

var stopIosBackgroundService = function stopIosBackgroundService() {
  window.BackgroundFetch.finish();
};

/***/ }),

/***/ "UVeP":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "countNewRecipients", function() { return countNewRecipients; });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("67rm");
/* harmony import */ var cozy_ui_react_SelectBox__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("81zs");
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("7jrE");
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("OjRq");
/* harmony import */ var sharing_propTypes__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("G9pQ");
/* harmony import */ var sharing_components_ShareRecipientsInput__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("/TmC");
/* harmony import */ var sharing_share_styl__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("jrFr");
/* harmony import */ var sharing_share_styl__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(sharing_share_styl__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("OTOu");























var DropdownIndicator = function DropdownIndicator(props) {
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react_SelectBox__WEBPACK_IMPORTED_MODULE_15__["components"].DropdownIndicator, props, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__["Icon"], {
    icon: "bottom",
    color: cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_16___default.a.coolGrey
  }));
};

var Option = function Option(props) {
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react_SelectBox__WEBPACK_IMPORTED_MODULE_15__["components"].Option, props, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(sharing_share_styl__WEBPACK_IMPORTED_MODULE_20___default.a['select-option'])
  }, props.isSelected && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__["Icon"], {
    icon: "check",
    color: cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_16___default.a.dodgerBlue
  }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: sharing_share_styl__WEBPACK_IMPORTED_MODULE_20___default.a['select-option-label']
  }, props.label), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: sharing_share_styl__WEBPACK_IMPORTED_MODULE_20___default.a['select-option-desc']
  }, props.data.desc))));
};

var customStyles = {
  option: function option(base, state) {
    return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_8___default()({}, base, {
      color: 'black',
      backgroundColor: state.isFocused ? cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_16___default.a.paleGrey : null,
      padding: 0,
      borderBottom: state.options.findIndex(function (o) {
        return o.value === state.value;
      }) === 0 ? "1px solid ".concat(cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_16___default.a.silver) : null
    });
  },
  menu: function menu(base) {
    return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_8___default()({}, base, {
      width: '204%'
    });
  }
};

var ShareTypeSelect = function ShareTypeSelect(_ref) {
  var options = _ref.options,
      _onChange = _ref.onChange;
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: sharing_share_styl__WEBPACK_IMPORTED_MODULE_20___default.a['select-wrapper']
  }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react_SelectBox__WEBPACK_IMPORTED_MODULE_15__["default"], {
    name: "select",
    classNamePrefix: "needsclick react-select",
    components: {
      DropdownIndicator: DropdownIndicator,
      Option: Option
    },
    styles: customStyles,
    defaultValue: options[0],
    isSearchable: false,
    onChange: function onChange(option) {
      _onChange(option.value);
    },
    options: options
  }));
};

ShareTypeSelect.propTypes = {
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
  options: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.array.isRequired
};
ShareTypeSelect.defaultProps = {
  onChange: lib_logger__WEBPACK_IMPORTED_MODULE_21__["default"].log,
  value: ''
};

var ShareSubmit = function ShareSubmit(props) {
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__["Button"], {
    onClick: function onClick() {
      props.onSubmit();
    },
    busy: props.loading,
    label: props.label,
    disabled: props.disabled
  });
};

ShareSubmit.propTypes = {
  onSubmit: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  label: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,
  loading: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool,
  disabled: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool
};
ShareSubmit.defaultProps = {
  label: 'Submit',
  loading: false
};
var countNewRecipients = function countNewRecipients(currentRecipients, newRecipients) {
  return newRecipients.filter(function (contact) {
    var email = models__WEBPACK_IMPORTED_MODULE_17__["Contact"].getPrimaryEmail(contact);
    var cozyUrl = models__WEBPACK_IMPORTED_MODULE_17__["Contact"].getPrimaryCozy(contact);
    return !currentRecipients.find(function (r) {
      return email && r.email && r.email === email || cozyUrl && r.instance && r.instance === cozyUrl;
    });
  }).length;
};

var ShareByEmail =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(ShareByEmail, _Component);

  function ShareByEmail() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, ShareByEmail);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(ShareByEmail)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "sharingTypes", [{
      value: 'two-way',
      label: _this.context.t('Share.type.two-way'),
      desc: _this.context.t('Share.type.desc.two-way'),
      disabled: false
    }, {
      value: 'one-way',
      label: _this.context.t('Share.type.one-way'),
      desc: _this.context.t('Share.type.desc.one-way'),
      disabled: false
    }]);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "initialState", {
      recipients: [],
      sharingType: 'two-way',
      loading: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "state", _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_8___default()({}, _this.initialState));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "reset", function () {
      _this.setState(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_8___default()({}, _this.initialState));
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "onChange", function (value) {
      _this.setState(function (state) {
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_8___default()({}, state, {
          sharingType: value
        });
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "onSubmit", function () {
      _this.sendSharingLink();
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "sanitizeRecipient", function (recipient) {
      var matches = recipient.email.match(/\s(.+@.+)\s/g);
      recipient.email = matches.length ? matches[0].trim().replace(/\s.+/g, '').replace(/^[\W]|[\W]$/g, '') : recipient.email;
      return recipient;
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "onRecipientPick", function (recipient) {
      var contactsToAdd;

      if (recipient._type === models__WEBPACK_IMPORTED_MODULE_17__["Group"].doctype) {
        var groupId = recipient.id;
        contactsToAdd = _this.props.contacts.data.filter(function (contact) {
          var contactGroupIds = lodash_get__WEBPACK_IMPORTED_MODULE_12___default()(contact, 'relationships.groups.data', []).map(function (group) {
            return group._id;
          });
          return contactGroupIds.includes(groupId);
        });
      } else {
        contactsToAdd = [recipient];
      }

      var filtered = contactsToAdd.filter(function (contact) {
        return contact.email && contact.email.length > 0 || contact.cozy && contact.cozy.length > 0;
      }).filter(function (contact) {
        return !_this.state.recipients.find(function (r) {
          return r === contact;
        });
      });

      _this.setState(function (state) {
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_8___default()({}, state, {
          recipients: [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(state.recipients), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(filtered))
        });
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "onRecipientRemove", function (recipient) {
      var idx = _this.state.recipients.findIndex(function (r) {
        return r === recipient;
      });

      _this.setState(function (state) {
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_8___default()({}, state, {
          recipients: [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(state.recipients.slice(0, idx)), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(state.recipients.slice(idx + 1)))
        });
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "getSuccessMessage", function (recipientsBefore) {
      var documentType = _this.props.documentType;
      var recipients = _this.state.recipients;

      if (recipients.length === 1) {
        var recipient = recipients[0];
        var email = models__WEBPACK_IMPORTED_MODULE_17__["Contact"].isContact(recipient) ? models__WEBPACK_IMPORTED_MODULE_17__["Contact"].getPrimaryEmail(recipient) : recipient.email;
        var cozyUrl = models__WEBPACK_IMPORTED_MODULE_17__["Contact"].getPrimaryCozy(recipient);

        if (email) {
          return ["".concat(documentType, ".share.shareByEmail.success"), {
            email: email
          }];
        } else if (cozyUrl) {
          return ["".concat(documentType, ".share.shareByEmail.success"), {
            email: cozyUrl
          }];
        } else {
          return ["".concat(documentType, ".share.shareByEmail.genericSuccess"), {
            count: 1
          }];
        }
      } else {
        return ["".concat(documentType, ".share.shareByEmail.genericSuccess"), {
          count: countNewRecipients(recipientsBefore, recipients)
        }];
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "share", function () {
      var _this$props = _this.props,
          document = _this$props.document,
          sharingDesc = _this$props.sharingDesc,
          onShare = _this$props.onShare,
          createContact = _this$props.createContact;
      var _this$state = _this.state,
          recipients = _this$state.recipients,
          sharingType = _this$state.sharingType;

      if (recipients.length === 0) {
        return;
      } // we can't use currentRecipients prop in getSuccessMessage because it may use
      // the updated prop to count the new recipients


      var recipientsBefore = _this.props.currentRecipients;

      _this.setState(function (state) {
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_8___default()({}, state, {
          loading: true
        });
      });

      Promise.all(recipients.map(function (recipient) {
        return recipient.id ? recipient : createContact({
          email: [{
            address: recipient.email,
            primary: true
          }]
        }).then(function (resp) {
          return resp.data;
        });
      })).then(function (recipients) {
        return onShare(document, recipients, sharingType, sharingDesc);
      }).then(function () {
        cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_14__["default"].success.apply(cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_14__["default"], _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(_this.getSuccessMessage(recipientsBefore)));

        _this.reset();
      }).catch(function (err) {
        cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_14__["default"].error('Error.generic');

        _this.reset();

        throw err;
      });
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ShareByEmail, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var t = this.context.t;
      var _this$props2 = this.props,
          contacts = _this$props2.contacts,
          documentType = _this$props2.documentType,
          groups = _this$props2.groups;
      var recipients = this.state.recipients;
      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        className: sharing_share_styl__WEBPACK_IMPORTED_MODULE_20___default.a['coz-form-group']
      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        className: sharing_share_styl__WEBPACK_IMPORTED_MODULE_20___default.a['coz-form']
      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(sharing_components_ShareRecipientsInput__WEBPACK_IMPORTED_MODULE_19__["default"], {
        label: t("".concat(documentType, ".share.shareByEmail.email")),
        placeholder: recipients.length === 0 ? t("".concat(documentType, ".share.shareByEmail.emailPlaceholder")) : '',
        onFocus: this.onInputFocus,
        onPick: function onPick(recipient) {
          return _this2.onRecipientPick(recipient);
        },
        onRemove: function onRemove(recipient) {
          return _this2.onRecipientRemove(recipient);
        },
        contacts: contacts,
        groups: groups,
        recipients: recipients
      })), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        className: sharing_share_styl__WEBPACK_IMPORTED_MODULE_20___default.a['share-type-control']
      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(ShareTypeSelect, {
        options: this.sharingTypes,
        onChange: this.onChange
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(ShareSubmit, {
        label: t("".concat(documentType, ".share.shareByEmail.send")),
        onSubmit: this.share,
        loading: this.state.loading,
        disabled: recipients.length === 0
      })));
    }
  }]);

  return ShareByEmail;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(ShareByEmail, "contextTypes", {
  t: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  client: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired
});

ShareByEmail.propTypes = {
  currentRecipients: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object),
  contacts: sharing_propTypes__WEBPACK_IMPORTED_MODULE_18__["contactsResponseType"].isRequired,
  groups: sharing_propTypes__WEBPACK_IMPORTED_MODULE_18__["groupsResponseType"].isRequired,
  document: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired,
  documentType: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string.isRequired,
  sharingDesc: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string.isRequired,
  onShare: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  createContact: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (ShareByEmail);

/***/ }),

/***/ "UWrV":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SET_URL", function() { return SET_URL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACKUP_IMAGES", function() { return BACKUP_IMAGES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACKUP_CONTACTS", function() { return BACKUP_CONTACTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WIFI_ONLY", function() { return WIFI_ONLY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SET_ANALYTICS", function() { return SET_ANALYTICS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SET_OFFLINE", function() { return SET_OFFLINE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setUrl", function() { return setUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setOffline", function() { return setOffline; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setWifiOnly", function() { return setWifiOnly; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setAnalytics", function() { return setAnalytics; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setBackupImages", function() { return setBackupImages; });
/* harmony import */ var drive_mobile_lib_tracker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("WBR0");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("CsTO");


var SET_URL = 'SET_URL';
var BACKUP_IMAGES = 'BACKUP_IMAGES';
var BACKUP_CONTACTS = 'BACKUP_CONTACTS';
var WIFI_ONLY = 'WIFI_ONLY';
var SET_ANALYTICS = 'SET_ANALYTICS';
var SET_OFFLINE = 'SET_OFFLINE';
var setUrl = function setUrl(url) {
  return {
    type: SET_URL,
    url: url
  };
};
var setOffline = function setOffline(offline) {
  return {
    type: SET_OFFLINE,
    offline: offline
  };
};
var setWifiOnly = function setWifiOnly(wifiOnly) {
  return {
    type: WIFI_ONLY,
    wifiOnly: wifiOnly
  };
};
var setAnalytics = function setAnalytics(analytics) {
  return function (dispatch, getState) {
    dispatch({
      type: SET_ANALYTICS,
      analytics: analytics
    });
    var serverUrl = Object(_reducers__WEBPACK_IMPORTED_MODULE_1__["getServerUrl"])(getState());

    if (analytics && serverUrl) {
      Object(drive_mobile_lib_tracker__WEBPACK_IMPORTED_MODULE_0__["startTracker"])(serverUrl);
    } else if (analytics === false) {
      Object(drive_mobile_lib_tracker__WEBPACK_IMPORTED_MODULE_0__["stopTracker"])();
    }
  };
};
var setBackupImages = function setBackupImages(backupImages) {
  return {
    type: BACKUP_IMAGES,
    backupImages: backupImages
  };
};

/***/ }),

/***/ "VFG3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("i8i4");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var drive_web_modules_upload_UploadQueue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("trYA");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("H+Xc");










var PortaledQueue =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(PortaledQueue, _Component);

  function PortaledQueue() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, PortaledQueue);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(PortaledQueue).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(PortaledQueue, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          file = _this$props.file,
          doneCount = _this$props.doneCount,
          successCount = _this$props.successCount,
          t = _this$props.t,
          onClear = _this$props.onClear;
      return react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.createPortal(react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(drive_web_modules_upload_UploadQueue__WEBPACK_IMPORTED_MODULE_7__["UploadQueue"], {
        queue: file ? [file] : [],
        doneCount: doneCount,
        successCount: successCount,
        t: t,
        purgeQueue: onClear
      }), document.querySelector('[role=application]'));
    }
  }]);

  return PortaledQueue;
}(react__WEBPACK_IMPORTED_MODULE_5__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_8__["translate"])()(PortaledQueue));

/***/ }),

/***/ "VL2R":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CallToAction; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_ui_react_Icon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("y6ex");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("oAJy");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var components_pushClient__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("IFEr");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("PhqT");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var drive_config_config_json__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("FKqX");
var drive_config_config_json__WEBPACK_IMPORTED_MODULE_14___namespace = /*#__PURE__*/__webpack_require__.t("FKqX", 1);
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("7jrE");
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_15__);

















var CallToAction =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(CallToAction, _Component);

  function CallToAction() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, CallToAction);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(CallToAction)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "state", {
      mustShow: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "markAsSeen", function () {
      localforage__WEBPACK_IMPORTED_MODULE_11___default.a.setItem(components_pushClient__WEBPACK_IMPORTED_MODULE_12__["NOVIEWER_DESKTOP_CTA"], true);

      _this.setState({
        mustShow: false
      });
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(CallToAction, [{
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var seen, mustSee;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (!(drive_config_config_json__WEBPACK_IMPORTED_MODULE_14__.promoteDesktop.isActivated !== true)) {
                  _context.next = 2;
                  break;
                }

                return _context.abrupt("return");

              case 2:
                _context.next = 4;
                return localforage__WEBPACK_IMPORTED_MODULE_11___default.a.getItem(components_pushClient__WEBPACK_IMPORTED_MODULE_12__["NOVIEWER_DESKTOP_CTA"]);

              case 4:
                _context.t0 = _context.sent;

                if (_context.t0) {
                  _context.next = 7;
                  break;
                }

                _context.t0 = false;

              case 7:
                seen = _context.t0;

                if (seen) {
                  _context.next = 19;
                  break;
                }

                _context.prev = 9;
                _context.next = 12;
                return Object(components_pushClient__WEBPACK_IMPORTED_MODULE_12__["isClientAlreadyInstalled"])();

              case 12:
                mustSee = !_context.sent;

                if (mustSee) {
                  this.setState({
                    mustShow: true
                  });
                }

                _context.next = 19;
                break;

              case 16:
                _context.prev = 16;
                _context.t1 = _context["catch"](9);
                this.setState({
                  mustShow: false
                });

              case 19:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[9, 16]]);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: "render",
    value: function render() {
      if (!this.state.mustShow || drive_config_config_json__WEBPACK_IMPORTED_MODULE_14__.promoteDesktop.isActivated !== true) return null;
      var t = this.props.t;
      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_13___default.a['pho-viewer-noviewer-cta']
      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react_Icon__WEBPACK_IMPORTED_MODULE_10__["default"], {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_13___default.a['pho-viewer-noviewer-cta-cross'],
        color: cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_15___default.a.white,
        icon: "cross",
        onClick: this.markAsSeen
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("h3", null, t('Viewer.noviewer.cta.saveTime')), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("ul", null, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("li", null, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("a", {
        //eslint-disable-next-line react/jsx-no-target-blank
        target: "_blank",
        href: t(Object(components_pushClient__WEBPACK_IMPORTED_MODULE_12__["isLinux"])() ? 'Nav.link-client' : 'Nav.link-client-desktop')
      }, t('Viewer.noviewer.cta.installDesktop'))), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("li", null, t('Viewer.noviewer.cta.accessFiles'))));
    }
  }]);

  return CallToAction;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);



/***/ }),

/***/ "VSpF":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var ColorHash = function ColorHash() {
  var schemes = {
    base: ['304FFE', '2979FF', '00B0FF', '00DCE9', '00D5B8', '00C853', 'E70505', 'FF5700', 'FF7900', 'FFA300', 'B3C51D', '64DD17', 'FF2828', 'F819AA', 'AA00FF', '6200EA', '7190AB', '51658D']
  };

  var hashCode = function hashCode(str) {
    var h, i, len, max;
    h = 0;
    max = Math.pow(2, 32);

    for (i = 0, len = str.length; i < len; i++) {
      h = (h * 31 + str.charCodeAt(i)) % max;
    }

    return h;
  };

  var getColor = function getColor(str, name) {
    var scheme, hash;
    scheme = schemes[name] || schemes.base;
    hash = hashCode(str);
    return '#' + scheme[hash % scheme.length];
  };

  return {
    getHash: hashCode,
    getColor: getColor
  };
};

/* harmony default export */ __webpack_exports__["default"] = (ColorHash);

/***/ }),

/***/ "Vwdv":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("/MKj");
/* harmony import */ var sharing__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("OsbH");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("H+Xc");
/* harmony import */ var react_cozy_helpers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("Yo2A");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var components_Button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("SvPG");
/* harmony import */ var components_Menu__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("NU/b");
/* harmony import */ var drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("7oMs");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("z+SL");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var drive_web_modules_drive_Toolbar_components_NotRootFolder__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("oVrB");
/* harmony import */ var _Toolbar_delete_DeleteItem__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("MCe/");
/* harmony import */ var _Toolbar_selectable_SelectableItem__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("E3qw");
/* harmony import */ var _Toolbar_components_AddFolderItem__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("OMqL");
/* harmony import */ var _Toolbar_components_UploadItem__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("6Xwf");
/* harmony import */ var _Toolbar_components_DownloadButtonItem__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("06uc");
/* harmony import */ var _Toolbar_share_ShareItem__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("5vC2");
/* harmony import */ var _Toolbar_share_ShareButton__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("py1d");
/* harmony import */ var _Toolbar_share_SharedRecipients__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("2k09");
/* harmony import */ var _Toolbar_components_ScanWrapper__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__("Qt5O");








/* global cozy */























var Toolbar =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(Toolbar, _Component);

  function Toolbar() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Toolbar);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Toolbar).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Toolbar, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          t = _this$props.t,
          disabled = _this$props.disabled,
          selectionModeActive = _this$props.selectionModeActive,
          canUpload = _this$props.canUpload,
          canCreateFolder = _this$props.canCreateFolder,
          hasWriteAccess = _this$props.hasWriteAccess,
          isShared = _this$props.isShared,
          isMobile = _this$props.breakpoints.isMobile;
      var isDisabled = disabled || selectionModeActive;
      var BarRight = cozy.bar.BarRight;
      var MoreMenu = react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_Menu__WEBPACK_IMPORTED_MODULE_16__["default"], {
        title: t('toolbar.item_more'),
        disabled: isDisabled,
        className: drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-toolbar-menu'],
        innerClassName: drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-toolbar-inner-menu'],
        button: react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_Button__WEBPACK_IMPORTED_MODULE_15__["MoreButton"], null)
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(drive_web_modules_drive_Toolbar_components_NotRootFolder__WEBPACK_IMPORTED_MODULE_19__["default"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_Menu__WEBPACK_IMPORTED_MODULE_16__["Item"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Toolbar_share_ShareItem__WEBPACK_IMPORTED_MODULE_25__["default"], null))), canUpload && hasWriteAccess && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_Menu__WEBPACK_IMPORTED_MODULE_16__["Item"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Toolbar_components_UploadItem__WEBPACK_IMPORTED_MODULE_23__["default"], {
        insideMoreMenu: true,
        disabled: isDisabled
      })), Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_14__["isMobileApp"])() && canUpload && hasWriteAccess && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_Menu__WEBPACK_IMPORTED_MODULE_16__["Item"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Toolbar_components_ScanWrapper__WEBPACK_IMPORTED_MODULE_28__["default"], {
        insideMoreMenu: true,
        disabled: isDisabled
      })), canCreateFolder && hasWriteAccess && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_Menu__WEBPACK_IMPORTED_MODULE_16__["Item"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Toolbar_components_AddFolderItem__WEBPACK_IMPORTED_MODULE_22__["default"], null)), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(drive_web_modules_drive_Toolbar_components_NotRootFolder__WEBPACK_IMPORTED_MODULE_19__["default"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_Menu__WEBPACK_IMPORTED_MODULE_16__["Item"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Toolbar_components_DownloadButtonItem__WEBPACK_IMPORTED_MODULE_24__["default"], null))), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_Menu__WEBPACK_IMPORTED_MODULE_16__["Item"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Toolbar_selectable_SelectableItem__WEBPACK_IMPORTED_MODULE_21__["default"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("a", {
        className: drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-action-select']
      }, t('toolbar.menu_select')))), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(drive_web_modules_drive_Toolbar_components_NotRootFolder__WEBPACK_IMPORTED_MODULE_19__["default"], {
        type: "hr"
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("hr", null)), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(drive_web_modules_drive_Toolbar_components_NotRootFolder__WEBPACK_IMPORTED_MODULE_19__["default"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_Menu__WEBPACK_IMPORTED_MODULE_16__["Item"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Toolbar_delete_DeleteItem__WEBPACK_IMPORTED_MODULE_20__["default"], null))));
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        "data-test-id": "fil-toolbar-files",
        className: drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-toolbar-files'],
        role: "toolbar"
      }, !isShared && canUpload && hasWriteAccess && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Toolbar_components_UploadItem__WEBPACK_IMPORTED_MODULE_23__["default"], {
        disabled: isDisabled
      }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(drive_web_modules_drive_Toolbar_components_NotRootFolder__WEBPACK_IMPORTED_MODULE_19__["default"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Toolbar_share_SharedRecipients__WEBPACK_IMPORTED_MODULE_27__["default"], null)), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(drive_web_modules_drive_Toolbar_components_NotRootFolder__WEBPACK_IMPORTED_MODULE_19__["default"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Toolbar_share_ShareButton__WEBPACK_IMPORTED_MODULE_26__["default"], {
        isDisabled: isDisabled
      })), isMobile ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(BarRight, null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_cozy_helpers__WEBPACK_IMPORTED_MODULE_13__["BarContextProvider"], {
        client: this.context.client,
        store: this.context.store,
        t: this.context.t
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(sharing__WEBPACK_IMPORTED_MODULE_9__["default"], {
        doctype: "io.cozy.files",
        documentType: "Files"
      }, MoreMenu))) : MoreMenu);
    }
  }]);

  return Toolbar;
}(react__WEBPACK_IMPORTED_MODULE_7__["Component"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(Toolbar, "contextTypes", {
  client: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired,
  t: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  store: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired
});

var mapStateToProps = function mapStateToProps(state) {
  return {
    displayedFolder: state.view.displayedFolder,
    selectionModeActive: Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_17__["isSelectionBarVisible"])(state)
  };
};

var ToolbarWithSharingContext = function ToolbarWithSharingContext(props) {
  return !props.displayedFolder ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(Toolbar, props) : react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(sharing__WEBPACK_IMPORTED_MODULE_9__["SharedDocument"], {
    docId: props.displayedFolder.id
  }, function (_ref) {
    var isShared = _ref.isShared,
        hasWriteAccess = _ref.hasWriteAccess;
    return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(Toolbar, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
      hasWriteAccess: hasWriteAccess,
      isShared: isShared
    }));
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_11__["translate"])()(Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_12__["withBreakpoints"])()(Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["connect"])(mapStateToProps, null)(ToolbarWithSharingContext))));

/***/ }),

/***/ "W9Ej":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"fil-dropzone-active":"fil-dropzone-active--6mOTt","fil-dropzone-teaser":"fil-dropzone-teaser--HOFff","fil-dropzone-teaser-claudy":"fil-dropzone-teaser-claudy--NElRC","pulse":"pulse--sS0GG","fil-dropzone-teaser-content":"fil-dropzone-teaser-content--3YqGo","fil-dropzone-teaser-folder":"fil-dropzone-teaser-folder--2aWVM"};

/***/ }),

/***/ "WBR0":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useHistoryForTracker", function() { return useHistoryForTracker; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startTracker", function() { return startTracker; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stopTracker", function() { return stopTracker; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startHeartBeat", function() { return startHeartBeat; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stopHeartBeat", function() { return stopHeartBeat; });
/* harmony import */ var cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4kcP");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("Ow0/");
/* global __PIWIK_TRACKER_URL__ __PIWIK_SITEID_MOBILE__ */


var mobileHeartBeatDelay = 30; // how many seconds between each hreatbeat ping to the server
// We'll need access to the app's router history at some point

var appHistory;
var useHistoryForTracker = function useHistoryForTracker(history) {
  appHistory = history;
};
var startTracker = function startTracker() {
  var cozyServerUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  // start the tracker, inject the script
  var trackerInstance = Object(cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_0__["getTracker"])("https://matomo.cozycloud.cc", 12, false, true); // configure the options that aren't in webpack variables

  var url = new URL(cozyServerUrl);
  Object(cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_0__["configureTracker"])({
    userId: url.hostname || cozyServerUrl,
    app: _constants__WEBPACK_IMPORTED_MODULE_1__["SOFTWARE_ID"],
    heartbeat: mobileHeartBeatDelay
  }); // connect to the router history if possible

  if (appHistory) {
    trackerInstance.connectToHistory(appHistory);
    trackerInstance.track(appHistory.getCurrentLocation()); // force tracking the current page
  }
};
var stopTracker = function stopTracker() {
  Object(cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_0__["resetTracker"])();
  stopHeartBeat();
};
var startHeartBeat = function startHeartBeat() {
  var trackerInstance = Object(cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_0__["getTracker"])();

  if (trackerInstance) {
    try {
      trackerInstance.push(['enableHeartBeatTimer', mobileHeartBeatDelay]);
    } catch (err) {//logger.log(err)
    }
  }
};
var stopHeartBeat = function stopHeartBeat() {
  var trackerInstance = Object(cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_0__["getTracker"])();

  if (trackerInstance) {
    try {
      trackerInstance.push(['disableHeartBeatTimer']); // undocumented, see https://github.com/piwik/piwik/blob/3.x-dev/js/piwik.js#L6544
    } catch (err) {//logger.log(err)
    }
  }
};

/***/ }),

/***/ "Wu9Y":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-trash-big_48355d429631705f7ab5001494a0529c",
  "use": "icon-trash-big_48355d429631705f7ab5001494a0529c-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-trash-big_48355d429631705f7ab5001494a0529c\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(2)\">\n    <path fill=\"#D1D5DB\" d=\"M2,8 L26,8 L26,28.009947 C26,30.2135924 24.2157067,32 22.009947,32 L5.99005301,32 C3.78640758,32 2,30.2157067 2,28.009947 L2,8 Z\" />\n    <path fill=\"#A3ACB8\" d=\"M7,2 L1.99124431,2 C0.899897516,2 0,2.8954305 0,4 L0,6 L28,6 L28,4 C28,2.88772964 27.1084896,2 26.0087557,2 L21,2 L20.4438648,0.887729645 C20.1990795,0.398159027 19.5511774,0 18.9975267,0 L9.00247329,0 C8.45576096,0 7.80127495,0.3974501 7.55613518,0.887729645 L7,2 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "X/0B":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CozyHomeLinkIcon", function() { return CozyHomeLinkIcon; });
var CozyHomeLinkIcon = 'cozy-negative';
/* harmony default export */ __webpack_exports__["default"] = (CozyHomeLinkIcon);

/***/ }),

/***/ "XA+M":
/***/ (function(module, exports) {

module.exports = {"name":"Drive","name_prefix":"Cozy","slug":"drive","version":"1.18.16","type":"webapp","licence":"AGPL-3.0","icon":"public/app-icon.svg","categories":["cozy"],"source":"https://github.com/cozy/cozy-drive","editor":"Cozy","developer":{"name":"Cozy Cloud","url":"https://cozy.io"},"locales":{"en":{"short_description":"Cozy Drive helps you to save, sync and secure your files on your Cozy.","long_description":"With Cozy Drive, you can easily:\n- Store your important files and keep them secure in your Cozy\n- Access to all your documents online & offline, from your desktop, and on your smartphone or tablet\n- Share links to files ans folders with who you like;\n- Automatically retrieve bills, payrolls, tax notices and other data from your main online services (internet, energy, retail, mobile, energy, travel...)\n- Upload files to your Cozy from your Android","screenshots":["screenshots/en/screenshot01.png","screenshots/en/screenshot02.png","screenshots/en/screenshot03.png","screenshots/en/screenshot04.png"]},"fr":{"short_description":"Cozy Drive est lapplication de sauvegarde, de synchronisation et de scurisation de tous vos fichiers sur Cozy.","long_description":"Avec Cozy Drive vous pourrez :\n- Sauvegarder et synchroniser gratuitement tous vos documents importants (carte didentit, photos de vacances, avis dimposition, fiches de salaires);\n- Accder  vos documents nimporte quand, nimporte ou mme en mode avion depuis votre bureau, votre smartphone ou tablette;\n- Partager vos fichiers et dossiers par lien avec qui vous le souhaitez;\n- Rcuprer automatiquement vos documents administratifs de vos principaux fournisseurs de service (oprateur mobile, fournisseur dnergie, assureur, internet, sant);\n- Rester synchronise lors de vos voyages et dplacements professionnels avec nos applications mobiles.","screenshots":["screenshots/fr/screenshot01.png","screenshots/fr/screenshot02.png","screenshots/fr/screenshot03.png","screenshots/fr/screenshot04.png"]}},"screenshots":["screenshots/fr/screenshot01.png","screenshots/fr/screenshot02.png","screenshots/fr/screenshot03.png","screenshots/fr/screenshot04.png"],"langs":["en","fr"],"platforms":[{"type":"ios","url":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8"},{"type":"android","url":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile"}],"routes":{"/":{"folder":"/","index":"index.html","public":false},"/intents":{"folder":"/intents","index":"index.html","public":false},"/public":{"folder":"/public","index":"index.html","public":true},"/preview":{"folder":"/public","index":"index.html","public":true}},"intents":[{"action":"OPEN","type":["io.cozy.files"],"href":"/intents"},{"action":"PICK","type":["io.cozy.files"],"href":"/intents"},{"action":"GET_URL","type":["io.cozy.files"],"href":"/intents"},{"action":"OPEN","type":["io.cozy.suggestions"],"href":"/intents"}],"permissions":{"files":{"description":"Required to access the files","type":"io.cozy.files","verbs":["ALL"]},"apps":{"description":"Required by the cozy-bar to display the icons of the apps","type":"io.cozy.apps","verbs":["GET"]},"albums":{"description":"Required to manage photos albums","type":"io.cozy.photos.albums","verbs":["PUT"]},"contacts":{"type":"io.cozy.contacts","verbs":["GET","POST"]},"groups":{"type":"io.cozy.contacts.groups","verbs":["GET"]},"settings":{"description":"Required by the cozy-bar to display Claudy and know which applications are coming soon","type":"io.cozy.settings","verbs":["GET"]},"oauth":{"description":"Required to display the cozy-desktop banner","type":"io.cozy.oauth.clients","verbs":["GET"]},"reporting":{"description":"Allow to report unexpected errors to the support team","type":"cc.cozycloud.sentry","verbs":["POST"]},"mail":{"description":"Send feedback emails to the support team","type":"io.cozy.jobs","verbs":["POST"],"selector":"worker","values":["sendmail"]}}}

/***/ }),

/***/ "XHeq":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("bisv");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_3__);





var UploadUptodate = function UploadUptodate(_ref) {
  var t = _ref.t;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status'], _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status--success'])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-content']
  }, t('mobile.settings.media_backup.media_uptodate')));
};

UploadUptodate.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (UploadUptodate);

/***/ }),

/***/ "XQ74":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renamePathNames", function() { return renamePathNames; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Breadcrumb", function() { return Breadcrumb; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PreviousButton", function() { return PreviousButton; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("dtw8");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("/MKj");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var cozy_ui_react_Spinner__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("V2U0");
/* harmony import */ var cozy_ui_react_Icon__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("y6ex");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("H+Xc");
/* harmony import */ var sharing_components_SharedDocuments__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("PkQS");
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("Z7XG");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("yEaX");
/* harmony import */ var _getFolderPath__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("tnFV");
/* harmony import */ var _breadcrumb_styl__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("KVWx");
/* harmony import */ var _breadcrumb_styl__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_22__);











/* global __TARGET__ cozy */













var renamePathNames = function renamePathNames(path, pathname, t) {
  if (pathname === '/recent') {
    path.unshift({
      name: t('breadcrumb.title_recent')
    });
  } else if (pathname.match(/^\/sharings/)) {
    path.unshift({
      name: t('breadcrumb.title_sharings'),
      url: '/sharings'
    });
  }

  path.forEach(function (folder) {
    if (folder.id === drive_constants_config__WEBPACK_IMPORTED_MODULE_19__["ROOT_DIR_ID"]) {
      folder.name = t('breadcrumb.title_drive');
    } else if (folder.id === drive_constants_config__WEBPACK_IMPORTED_MODULE_19__["TRASH_DIR_ID"]) {
      folder.name = t('breadcrumb.title_trash');
    }

    if (!folder.name) folder.name = '';
  });
  return path;
};
var Breadcrumb =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(Breadcrumb, _Component);

  function Breadcrumb() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, Breadcrumb);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Breadcrumb)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "state", {
      deployed: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "toggleDeploy", function () {
      _this.state.deployed ? _this.closeMenu() : _this.openMenu();
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "handleClickOutside", function (e) {
      if (_this.menu && !_this.menu.contains(e.target)) {
        e.stopPropagation();

        _this.closeMenu();
      }
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(Breadcrumb, [{
    key: "openMenu",
    value: function openMenu() {
      this.setState({
        deployed: true
      });
      document.addEventListener('click', this.handleClickOutside, true);
    }
  }, {
    key: "closeMenu",
    value: function closeMenu() {
      this.setState({
        deployed: false
      });
      document.removeEventListener('click', this.handleClickOutside, true);
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          path = _this$props.path,
          onBreadcrumbClick = _this$props.onBreadcrumbClick,
          opening = _this$props.opening,
          inlined = _this$props.inlined,
          _this$props$className = _this$props.className,
          className = _this$props$className === void 0 ? '' : _this$props$className;
      var deployed = this.state.deployed;
      if (!path) return false;
      return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_13___default()(_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_22___default.a['fil-path-backdrop'], _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()({}, _breadcrumb_styl__WEBPACK_IMPORTED_MODULE_22___default.a['deployed'], deployed), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()({}, _breadcrumb_styl__WEBPACK_IMPORTED_MODULE_22___default.a['inlined'], inlined), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()({}, _breadcrumb_styl__WEBPACK_IMPORTED_MODULE_22___default.a['mobile'], "browser" === 'mobile'), className)
      }, react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("h2", {
        "data-test-id": "path-title",
        className: _breadcrumb_styl__WEBPACK_IMPORTED_MODULE_22___default.a['fil-path-title'],
        onClick: this.toggleDeploy,
        ref: function ref(_ref) {
          _this2.menu = _ref;
        }
      }, path.map(function (folder, index) {
        if (index < path.length - 1) {
          return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("span", {
            className: _breadcrumb_styl__WEBPACK_IMPORTED_MODULE_22___default.a['fil-path-link'],
            onClick: function onClick(e) {
              e.stopPropagation();
              onBreadcrumbClick(folder);
            },
            key: index
          }, react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("span", {
            className: _breadcrumb_styl__WEBPACK_IMPORTED_MODULE_22___default.a['fil-path-link-name']
          }, folder.name), react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_react_Icon__WEBPACK_IMPORTED_MODULE_15__["default"], {
            icon: "right",
            className: _breadcrumb_styl__WEBPACK_IMPORTED_MODULE_22___default.a['fil-path-separator']
          }));
        } else {
          return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("span", {
            className: _breadcrumb_styl__WEBPACK_IMPORTED_MODULE_22___default.a['fil-path-current'],
            onClick: function onClick(e) {
              e.stopPropagation();
              if (path.length >= 2) _this2.toggleDeploy();
            },
            key: index
          }, react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("span", {
            className: _breadcrumb_styl__WEBPACK_IMPORTED_MODULE_22___default.a['fil-path-current-name']
          }, folder.name), path.length >= 2 && react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("span", {
            className: _breadcrumb_styl__WEBPACK_IMPORTED_MODULE_22___default.a['fil-path-down']
          }), opening && react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_react_Spinner__WEBPACK_IMPORTED_MODULE_14__["default"], null));
        }
      })));
    }
  }]);

  return Breadcrumb;
}(react__WEBPACK_IMPORTED_MODULE_10__["Component"]);

var RouterBreadCrumb =
/*#__PURE__*/
function (_Component2) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(RouterBreadCrumb, _Component2);

  function RouterBreadCrumb() {
    var _getPrototypeOf3;

    var _this3;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, RouterBreadCrumb);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this3 = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, (_getPrototypeOf3 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(RouterBreadCrumb)).call.apply(_getPrototypeOf3, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this3), "state", {
      opening: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this3), "toggleOpening", function () {
      _this3.setState(function (state) {
        return {
          opening: !state.opening
        };
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this3), "navigateToFolder",
    /*#__PURE__*/
    function () {
      var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(folderId) {
        var goToFolder;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                goToFolder = _this3.props.goToFolder;

                _this3.toggleOpening();

                _context.next = 4;
                return goToFolder(folderId);

              case 4:
                _this3.toggleOpening();

              case 5:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function (_x) {
        return _ref2.apply(this, arguments);
      };
    }());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this3), "navigateToPath", function (path) {
      var router = _this3.props.router;
      router.push(path);
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this3), "navigateTo", function (folder) {
      if (folder.id) _this3.props.onFolderOpen(folder.id);else _this3.navigateToPath(folder.url);
    });

    return _this3;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(RouterBreadCrumb, [{
    key: "render",
    value: function render() {
      var path = this.props.path;
      var opening = this.state.opening;
      return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Breadcrumb, {
        path: path,
        onBreadcrumbClick: this.navigateTo,
        opening: opening
      });
    }
  }]);

  return RouterBreadCrumb;
}(react__WEBPACK_IMPORTED_MODULE_10__["Component"]);

var PreviousButton = function PreviousButton(_ref3) {
  var onClick = _ref3.onClick;
  return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("button", {
    className: _breadcrumb_styl__WEBPACK_IMPORTED_MODULE_22___default.a['fil-path-previous'],
    onClick: onClick
  });
};

var RouterPreviousButton =
/*#__PURE__*/
function (_Component3) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(RouterPreviousButton, _Component3);

  function RouterPreviousButton() {
    var _getPrototypeOf4;

    var _this4;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, RouterPreviousButton);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this4 = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, (_getPrototypeOf4 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(RouterPreviousButton)).call.apply(_getPrototypeOf4, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this4), "navigateToFolder",
    /*#__PURE__*/
    function () {
      var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(folderId) {
        var _this4$props, router, location, goToFolder, getFolderUrl;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _this4$props = _this4.props, router = _this4$props.router, location = _this4$props.location, goToFolder = _this4$props.goToFolder, getFolderUrl = _this4$props.getFolderUrl;
                _context2.next = 3;
                return goToFolder(folderId);

              case 3:
                router.push(getFolderUrl(folderId, location));

              case 4:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2);
      }));

      return function (_x2) {
        return _ref4.apply(this, arguments);
      };
    }());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this4), "navigateToPath", function (path) {
      var router = _this4.props.router;
      router.push(path);
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this4), "navigateBack", function () {
      var previousSegment = _this4.props.path[_this4.props.path.length - 2];
      if (previousSegment.id) _this4.props.onFolderOpen(previousSegment.id);else _this4.navigateToPath(previousSegment.url);
    });

    return _this4;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(RouterPreviousButton, [{
    key: "render",
    value: function render() {
      return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(PreviousButton, {
        onClick: this.navigateBack
      });
    }
  }]);

  return RouterPreviousButton;
}(react__WEBPACK_IMPORTED_MODULE_10__["Component"]);

var MobileAwareBreadcrumb = function MobileAwareBreadcrumb(props) {
  var _cozy$bar = cozy.bar,
      BarCenter = _cozy$bar.BarCenter,
      BarLeft = _cozy$bar.BarLeft;
  return props.breakpoints.isMobile ? react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div", null, props.path.length >= 2 && react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(BarLeft, null, react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(RouterPreviousButton, props)), react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(BarCenter, null, react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(RouterBreadCrumb, props))) : react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(RouterBreadCrumb, props);
};

var mapStateToProps = function mapStateToProps(state, ownProps) {
  return {
    path: renamePathNames(Object(_getFolderPath__WEBPACK_IMPORTED_MODULE_21__["default"])(state.view.displayedFolder, state.view.currentView, ownProps.isPublic, ownProps.sharedDocuments), ownProps.location.pathname, ownProps.t),
    getFolderUrl: drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_20__["getFolderUrl"]
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    goToFolder: function goToFolder(folderId) {
      return dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_20__["openFolder"])(folderId, 'ACTION_SUCCESS'));
    }
  };
};

var withSharedDocuments = function withSharedDocuments(Wrapped) {
  return (
    /*#__PURE__*/
    function (_React$Component) {
      _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(withSharedDocumentsClass, _React$Component);

      function withSharedDocumentsClass() {
        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, withSharedDocumentsClass);

        return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(withSharedDocumentsClass).apply(this, arguments));
      }

      _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(withSharedDocumentsClass, [{
        key: "render",
        value: function render() {
          var _this5 = this;

          return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(sharing_components_SharedDocuments__WEBPACK_IMPORTED_MODULE_18__["default"], null, function (_ref5) {
            var sharedDocuments = _ref5.sharedDocuments;
            return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(Wrapped, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
              sharedDocuments: sharedDocuments
            }, _this5.props));
          });
        }
      }]);

      return withSharedDocumentsClass;
    }(react__WEBPACK_IMPORTED_MODULE_10___default.a.Component)
  );
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_17__["withBreakpoints"])()(Object(react_router__WEBPACK_IMPORTED_MODULE_11__["withRouter"])(Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_16__["translate"])()(withSharedDocuments(Object(react_redux__WEBPACK_IMPORTED_MODULE_12__["connect"])(mapStateToProps, mapDispatchToProps)(MobileAwareBreadcrumb))))));

/***/ }),

/***/ "Xbs7":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-folder-broken_6aea13ed766f34f5967acf158d5b3f17",
  "use": "icon-folder-broken_6aea13ed766f34f5967acf158d5b3f17-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-folder-broken_6aea13ed766f34f5967acf158d5b3f17\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(0 2)\">\n    <path fill=\"#FDD5D5\" d=\"M0,4.00585866 C0,2.89805351 0.889261723,2 2.00174332,2 L29.9982567,2 C31.103789,2 32,2.89354265 32,4.00276013 L32,15 L24,19 L8,12 L0,16 L0,4.00585866 Z M0,18 L8,14 L24,21 L32,17 L32,26.007983 C32,27.1081436 31.1107383,28 29.9982567,28 L2.00174332,28 C0.89621101,28 0,27.1125667 0,26.000385 L0,18 Z\" />\n    <path fill=\"#F52D2D\" d=\"M0,0.990777969 C0,0.443586406 0.449948758,0 1.00684547,0 L12.9931545,0 C13.5492199,0 14.3125,0.3125 14.7107565,0.71075654 L15.2892435,1.28924346 C15.6817835,1.68178346 16.4446309,2 17.0008717,2 L30.0059397,2 C31.1072288,2 32,2.89470506 32,4 L32,4 L17.0008717,4 C16.4481055,4 15.6875,4.3125 15.2892435,4.71075654 L14.7107565,5.28924346 C14.3182165,5.68178346 13.5500512,6 12.9931545,6 L1.00684547,6 C0.450780073,6 0,5.54902482 0,5.00922203 L0,0.990777969 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "XetN":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_web_modules_filelist_LoadMore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("0uru");




var LoadMore = function LoadMore(_ref) {
  var hasMore = _ref.hasMore,
      fetchMore = _ref.fetchMore;
  return hasMore ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_LoadMore__WEBPACK_IMPORTED_MODULE_2__["default"], {
    onClick: fetchMore,
    isLoading: false
  }) : false;
};

LoadMore.propTypes = {
  hasMore: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  fetchMore: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (LoadMore);

/***/ }),

/***/ "XxWZ":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"fil-topbar":"fil-topbar--1eJFH","hidden-mobile":"hidden-mobile--x6udF","spin":"spin--KIZH2","shake":"shake--2eSbq"};

/***/ }),

/***/ "Yo2A":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("fvjX");
/* harmony import */ var _ModalManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("2Ekz");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ModalManager", function() { return _ModalManager__WEBPACK_IMPORTED_MODULE_1__["ModalManager"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "showModal", function() { return _ModalManager__WEBPACK_IMPORTED_MODULE_1__["showModal"]; });

/* harmony import */ var _QueryParameter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("ciCs");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getQueryParameter", function() { return _QueryParameter__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _BarContextProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("0Apg");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BarContextProvider", function() { return _BarContextProvider__WEBPACK_IMPORTED_MODULE_3__["default"]; });



/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
  modal: _ModalManager__WEBPACK_IMPORTED_MODULE_1__["default"]
}));




/***/ }),

/***/ "YsA6":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var whatwg_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("bZMm");
/* harmony import */ var cozy_ui_transpiled_react_stylesheet_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/8/d");
/* harmony import */ var cozy_ui_transpiled_react_stylesheet_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_transpiled_react_stylesheet_css__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("i8i4");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var drive_web_modules_services__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("2ogT");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("buk/");
/* harmony import */ var react_cozy_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Yo2A");
/* harmony import */ var drive_appMetadata__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("unzg");
/* harmony import */ var drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("z6Q1");
/* global cozy */










document.addEventListener('DOMContentLoaded', function () {
  var root = document.getElementById('main');
  var data = root.dataset;
  var protocol = window.location ? window.location.protocol : 'https:';
  var cozyUrl = "".concat(protocol, "//").concat(data.cozyDomain);

  var _getQueryParameter = Object(react_cozy_helpers__WEBPACK_IMPORTED_MODULE_7__["getQueryParameter"])(),
      intent = _getQueryParameter.intent;

  var client = new cozy_client__WEBPACK_IMPORTED_MODULE_5___default.a({
    uri: cozyUrl,
    token: data.cozyToken,
    appMetadata: drive_appMetadata__WEBPACK_IMPORTED_MODULE_8__["default"],
    schema: drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_9__["schema"]
  });
  cozy.client.init({
    cozyURL: cozyUrl,
    token: data.cozyToken
  });
  Object(react_dom__WEBPACK_IMPORTED_MODULE_3__["render"])(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_6__["I18n"], {
    lang: data.cozyLocale,
    dictRequire: function dictRequire(lang) {
      return __webpack_require__("tqYW")("./".concat(lang));
    }
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_5__["CozyProvider"], {
    client: client
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(drive_web_modules_services__WEBPACK_IMPORTED_MODULE_4__["default"], {
    intentId: intent
  }))), root);
});

/***/ }),

/***/ "YwPC":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_react_ActionMenu__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("UxX4");
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("7jrE");
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _Grid_CategoryGridItem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("AGQC");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("JyWO");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _Grid_GridItem__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("2+0p");
















/**
 * DocumentCategory component
 *
 * The goal of this component is to display a
 * category / type of document and also manage
 * its associated ActionMenu since a category has
 * several associated items.
 *
 * If an item from a category is selected, we display
 * its label instead of the label from the category
 *
 */

var DocumentCategory =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(DocumentCategory, _Component);

  function DocumentCategory() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, DocumentCategory);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(DocumentCategory)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", {
      isMenuDisplayed: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "onSelect", function (item) {
      var onSelect = _this.props.onSelect;
      if (onSelect) onSelect(item);
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(DocumentCategory, [{
    key: "toggleMenu",
    value: function toggleMenu() {
      this.setState(function (prevState) {
        return {
          isMenuDisplayed: !prevState.isMenuDisplayed
        };
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var isMenuDisplayed = this.state.isMenuDisplayed;
      var _this$props = this.props,
          category = _this$props.category,
          isSelected = _this$props.isSelected,
          selectedItem = _this$props.selectedItem,
          items = _this$props.items,
          t = _this$props.t;
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Grid_GridItem__WEBPACK_IMPORTED_MODULE_15__["default"], {
        onClick: function onClick() {
          return _this2.toggleMenu();
        }
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Grid_CategoryGridItem__WEBPACK_IMPORTED_MODULE_13__["default"], {
        isSelected: isSelected,
        icon: category.icon,
        theme: t("Scan.themes.".concat(category.label)),
        label: isSelected ? t("Scan.items.".concat(selectedItem.label)) : undefined
      })), isMenuDisplayed && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react_ActionMenu__WEBPACK_IMPORTED_MODULE_11__["default"], {
        onClose: function onClose() {
          return _this2.toggleMenu();
        }
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react_ActionMenu__WEBPACK_IMPORTED_MODULE_11__["ActionMenuHeader"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__["Media"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__["Img"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        className: "u-pos-relative u-w-2"
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__["Icon"], {
        icon: 'file-duotone',
        size: '32',
        color: cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_12___default.a.dodgerBlue
      }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__["Icon"], {
        icon: category.icon,
        color: cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_12___default.a.dodgerBlue,
        size: '16',
        className: classnames__WEBPACK_IMPORTED_MODULE_9___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_14___default.a['icon-absolute-centered'])
      }))), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__["Bd"], {
        className: 'u-ml-1'
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__["Bold"], {
        tag: "span",
        ellipsis: true
      }, t("Scan.themes.".concat(category.label)))))), items.map(function (item) {
        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react_ActionMenu__WEBPACK_IMPORTED_MODULE_11__["ActionMenuItem"], {
          onClick: function onClick() {
            _this2.onSelect({
              categoryLabel: category.label,
              itemId: item.id
            });

            _this2.toggleMenu();
          },
          key: item.id
        }, t("Scan.items.".concat(item.label)));
      })));
    }
  }]);

  return DocumentCategory;
}(react__WEBPACK_IMPORTED_MODULE_7__["Component"]);

DocumentCategory.propTypes = {
  onSelect: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,
  category: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object.isRequired,
  isSelected: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool,
  selectedItem: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object.isRequired,
  items: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array.isRequired,
  t: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (DocumentCategory);

/***/ }),

/***/ "Z7XG":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROOT_DIR_ID", function() { return ROOT_DIR_ID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TRASH_DIR_ID", function() { return TRASH_DIR_ID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "APPS_DIR_PATH", function() { return APPS_DIR_PATH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TRASH_DIR_PATH", function() { return TRASH_DIR_PATH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KONNECTORS_DIR_PATH", function() { return KONNECTORS_DIR_PATH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FILES_FETCH_LIMIT", function() { return FILES_FETCH_LIMIT; });
/**
  Redux constants
**/
// global variables
var ROOT_DIR_ID = 'io.cozy.files.root-dir';
var TRASH_DIR_ID = 'io.cozy.files.trash-dir';
var APPS_DIR_PATH = '/.cozy_apps';
var TRASH_DIR_PATH = '/.cozy_trash';
var KONNECTORS_DIR_PATH = '/.cozy_konnectors';
var FILES_FETCH_LIMIT = 100;

/***/ }),

/***/ "ZorK":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("/MKj");
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("fvjX");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("H+Xc");
/* harmony import */ var sharing_hoc_withSharingState__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("xYmX");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("yEaX");








var UploadButton = function UploadButton(_ref) {
  var label = _ref.label,
      disabled = _ref.disabled,
      onUpload = _ref.onUpload,
      className = _ref.className;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_4__["FileInput"], {
    className: className,
    label: label,
    disabled: disabled,
    multiple: true,
    onChange: onUpload,
    "data-test-id": "upload-btn",
    value: [] // always erase the value to be able to re-upload the same file

  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_4__["Icon"], {
    icon: "upload"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, label)));
};

UploadButton.propTypes = {
  label: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  disabled: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  onUpload: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  className: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  displayedFolder: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  // io.cozy.files
  // in case of upload conflicts, shared files are not overridden
  sharingState: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired
};
UploadButton.defaultProps = {
  disabled: false
};

var mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {
  var displayedFolder = _ref2.displayedFolder,
      sharingState = _ref2.sharingState;
  return {
    onUpload: function onUpload(files) {
      dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_6__["uploadFiles"])(files, displayedFolder.id, sharingState));
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_3__["compose"])(sharing_hoc_withSharingState__WEBPACK_IMPORTED_MODULE_5__["default"], Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(null, mapDispatchToProps))(UploadButton));

/***/ }),

/***/ "a4ea":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-main-app_5a0af3714e77328d0c04b0d83712f645",
  "use": "icon-main-app_5a0af3714e77328d0c04b0d83712f645-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-main-app_5a0af3714e77328d0c04b0d83712f645\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(0 3)\">\n    <rect width=\"32\" height=\"26\" fill=\"#8EE39B\" rx=\"2\" />\n    <path fill=\"#1EC737\" d=\"M0,20 L6.29028051,13.7097195 C6.68224776,13.3177522 7.31387329,13.3138733 7.70591205,13.7059121 L11,17 L19.2937851,8.7062149 C19.6838168,8.31618318 20.320971,8.32097101 20.7058543,8.70585426 L32,20 L32,24.0020869 C32,25.1055038 31.1107383,26 29.9982567,26 L2.00174332,26 C0.89621101,26 0,25.1017394 0,24.0020869 L0,20 Z\" />\n    <circle cx=\"8\" cy=\"7\" r=\"3\" fill=\"#FFFFFF\" />\n    <path stroke=\"#8EE39B\" d=\"M11,16 L5.5,21.5 L11,16 Z\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "aNx5":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MEDIA_UPLOAD_START", function() { return MEDIA_UPLOAD_START; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MEDIA_UPLOAD_END", function() { return MEDIA_UPLOAD_END; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MEDIA_UPLOAD_ABORT", function() { return MEDIA_UPLOAD_ABORT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MEDIA_UPLOAD_SUCCESS", function() { return MEDIA_UPLOAD_SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MEDIA_UPLOAD_CANCEL", function() { return MEDIA_UPLOAD_CANCEL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MEDIA_UPLOAD_QUOTA", function() { return MEDIA_UPLOAD_QUOTA; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CURRENT_UPLOAD", function() { return CURRENT_UPLOAD; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CURRENT_UPLOAD_PROGRESS", function() { return CURRENT_UPLOAD_PROGRESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CURRENT_UPLOAD_THUMBNAIL", function() { return CURRENT_UPLOAD_THUMBNAIL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isPreparingBackup", function() { return isPreparingBackup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isUploading", function() { return isUploading; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAborted", function() { return isAborted; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isQuotaReached", function() { return isQuotaReached; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getUploadStatus", function() { return getUploadStatus; });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__);


// We're forced to separate the reducer and selectors from the actions
// to avoid a circular dependency: actions (index.js) import setBackupImages()
// that imports.... that imports configureStore which itself needs to import this reducer
var MEDIA_UPLOAD_START = 'MEDIA_UPLOAD_START';
var MEDIA_UPLOAD_END = 'MEDIA_UPLOAD_END';
var MEDIA_UPLOAD_ABORT = 'MEDIA_UPLOAD_ABORT';
var MEDIA_UPLOAD_SUCCESS = 'MEDIA_UPLOAD_SUCCESS';
var MEDIA_UPLOAD_CANCEL = 'MEDIA_UPLOAD_CANCEL';
var MEDIA_UPLOAD_QUOTA = 'MEDIA_UPLOAD_QUOTA';
var CURRENT_UPLOAD = 'CURRENT_UPLOAD';
var CURRENT_UPLOAD_PROGRESS = 'CURRENT_UPLOAD_PROGRESS';
var CURRENT_UPLOAD_THUMBNAIL = 'CURRENT_UPLOAD_THUMBNAIL';
var initialState = {
  running: false,
  uploading: false,
  cancelMediaBackup: false,
  abortedMediaBackup: false,
  diskQuotaReached: false,
  uploaded: [],
  currentUpload: undefined
};

var reducer = function reducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case MEDIA_UPLOAD_START:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        running: true,
        cancelMediaBackup: false,
        abortedMediaBackup: false,
        diskQuotaReached: false
      });

    case MEDIA_UPLOAD_CANCEL:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        cancelMediaBackup: true
      });

    case MEDIA_UPLOAD_ABORT:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        abortedMediaBackup: true
      });

    case MEDIA_UPLOAD_QUOTA:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        diskQuotaReached: true
      });

    case MEDIA_UPLOAD_END:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        running: false,
        uploading: false,
        cancelMediaBackup: true,
        currentUpload: undefined
      });

    case MEDIA_UPLOAD_SUCCESS:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        uploaded: [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(state.uploaded), [action.id])
      });

    case CURRENT_UPLOAD:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        uploading: true,
        currentUpload: {
          media: action.media,
          message: action.message,
          messageData: action.messageData
        }
      });

    case CURRENT_UPLOAD_PROGRESS:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        currentUpload: _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state.currentUpload, {
          messageData: _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state.currentUpload ? state.currentUpload.messageData : {}, {
            progress: action.progress
          })
        })
      });

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (reducer);
var isPreparingBackup = function isPreparingBackup(state) {
  return state.mobile.mediaBackup.running && !state.mobile.mediaBackup.uploading;
};
var isUploading = function isUploading(state) {
  return state.mobile.mediaBackup.uploading;
};
var isAborted = function isAborted(state) {
  return state.mobile.mediaBackup.abortedMediaBackup;
};
var isQuotaReached = function isQuotaReached(state) {
  return state.mobile.mediaBackup.diskQuotaReached;
};
var getUploadStatus = function getUploadStatus(state) {
  return state.mobile.mediaBackup.currentUpload && !state.mobile.mediaBackup.diskQuotaReached ? {
    current: state.mobile.mediaBackup.currentUpload.messageData.current,
    total: state.mobile.mediaBackup.currentUpload.messageData.total,
    progress: state.mobile.mediaBackup.currentUpload.messageData.progress
  } : {};
};

/***/ }),

/***/ "arUP":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("EqME");


var initialState = {
  authorized: false,
  revoked: false,
  client: null,
  token: null,
  onboarding: {
    code: null,
    state: null,
    cozy_url: null
  }
};

var authorization = function authorization() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case _actions__WEBPACK_IMPORTED_MODULE_1__["SET_CLIENT"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        authorized: true,
        revoked: false,
        client: action.client
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["SET_TOKEN"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        token: action.token
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["REVOKE"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        revoked: true
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["UNREVOKE"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        revoked: false
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["SET_ONBOARDING"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        onboarding: {
          code: action.code,
          state: action.state,
          cozy_url: action.cozy_url
        }
      });

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (authorization);

/***/ }),

/***/ "bMkt":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPouchIndexes", function() { return getPouchIndexes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFirstReplicationDone", function() { return isFirstReplicationDone; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shouldWorkFromPouchDB", function() { return shouldWorkFromPouchDB; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setFirstReplication", function() { return setFirstReplication; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setPouchIndexes", function() { return setPouchIndexes; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("cSBT");


/* global __TARGET__ */

var SET_FIRST_REPLICATION = 'SET_FIRST_REPLICATION';
var SET_POUCH_INDEXES = 'SET_POUCH_INDEXES';
var initialState = {
  firstReplication: false,
  indexes: null
};

var replication = function replication() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case SET_FIRST_REPLICATION:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        firstReplication: action.firstReplication
      });

    case SET_POUCH_INDEXES:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        indexes: action.indexes
      });

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (replication);
var getPouchIndexes = function getPouchIndexes(state) {
  return state.mobile && state.mobile.replication && state.mobile.replication.indexes;
};
var isFirstReplicationDone = function isFirstReplicationDone(state) {
  return state.mobile && state.mobile.replication && state.mobile.replication.firstReplication;
};
var shouldWorkFromPouchDB = function shouldWorkFromPouchDB(state) {
  return  false && false;
};
var setFirstReplication = function setFirstReplication(firstReplication) {
  return {
    type: SET_FIRST_REPLICATION,
    firstReplication: firstReplication
  };
};
var setPouchIndexes = function setPouchIndexes(indexes) {
  return {
    type: SET_POUCH_INDEXES,
    indexes: indexes
  };
};

/***/ }),

/***/ "bisv":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"coz-upload-status-wrapper":"coz-upload-status-wrapper--e0aoJ","coz-upload-status":"coz-upload-status--1ytxW","coz-upload-progress":"coz-upload-progress--1GhMB","coz-upload-progress--global":"coz-upload-progress--global--IpVlf","coz-upload-progress--individual":"coz-upload-progress--individual--2JzLZ","infinite-progress":"infinite-progress--3n0vL","squashstretch":"squashstretch--3uNZn","infinite-progress--global":"infinite-progress--global--1-9Xu","coz-progress-pic":"coz-progress-pic--3fCMW","coz-upload-status-content":"coz-upload-status-content--2ZdG3","coz-upload-status-link":"coz-upload-status-link--3SJQJ","coz-upload-status--success":"coz-upload-status--success--1lTE6","coz-upload-status--waiting":"coz-upload-status--waiting--1Ae6F","coz-upload-status--error":"coz-upload-status--error--3_GOe"};

/***/ }),

/***/ "c96E":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_lib_getMimeTypeIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("QQky");
/* harmony import */ var drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("ommj");






var FileIcon = function FileIcon(_ref) {
  var file = _ref.file,
      size = _ref.size;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Icon"], {
    icon: Object(drive_lib_getMimeTypeIcon__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_4__["isDirectory"])(file), file.name, file.mime),
    size: size || 32
  });
};

FileIcon.propTypes = {
  file: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    class: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    mime: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
  }).isRequired,
  size: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
};
/* harmony default export */ __webpack_exports__["default"] = (FileIcon);

/***/ }),

/***/ "cQrJ":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var cozy_ui_react___WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("H+Xc");
/* harmony import */ var _sharing_components_Recipient__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("MzcY");
/* harmony import */ var drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("32XB");
/* harmony import */ var drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_10__);












var MenuAwareMobile =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(MenuAwareMobile, _Component);

  function MenuAwareMobile() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, MenuAwareMobile);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(MenuAwareMobile)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", {
      active: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "toggle", function () {
      _this.setState({
        active: !_this.state.active
      });
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(MenuAwareMobile, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          isMobile = _this$props.breakpoints.isMobile,
          children = _this$props.children,
          text = _this$props.text,
          buttonClassName = _this$props.buttonClassName,
          name = _this$props.name;

      if (isMobile) {
        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react___WEBPACK_IMPORTED_MODULE_8__["MenuButton"], {
          onClick: this.toggle,
          text: text,
          buttonClassName: buttonClassName
        }), this.state.active && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react___WEBPACK_IMPORTED_MODULE_8__["ActionMenu"], {
          onClose: function onClose() {
            return _this2.toggle();
          }
        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react___WEBPACK_IMPORTED_MODULE_8__["MenuItem"], {
          className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_10___default.a['fil-mobileactionmenu']
        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_sharing_components_Recipient__WEBPACK_IMPORTED_MODULE_9__["UserAvatar"], {
          name: name,
          size: 'small'
        })), children));
      }

      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_react___WEBPACK_IMPORTED_MODULE_8__["Menu"], this.props);
    }
  }]);

  return MenuAwareMobile;
}(react__WEBPACK_IMPORTED_MODULE_7__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react___WEBPACK_IMPORTED_MODULE_8__["withBreakpoints"])()(MenuAwareMobile));

/***/ }),

/***/ "cSBT":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("UWrV");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setUrl", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["setUrl"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setAnalytics", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["setAnalytics"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setOffline", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["setOffline"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setBackupImages", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["setBackupImages"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setWifiOnly", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["setWifiOnly"]; });

/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("CsTO");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _reducers__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getServerUrl", function() { return _reducers__WEBPACK_IMPORTED_MODULE_1__["getServerUrl"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isAnalyticsOn", function() { return _reducers__WEBPACK_IMPORTED_MODULE_1__["isAnalyticsOn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isOfflineCapable", function() { return _reducers__WEBPACK_IMPORTED_MODULE_1__["isOfflineCapable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isImagesBackupOn", function() { return _reducers__WEBPACK_IMPORTED_MODULE_1__["isImagesBackupOn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isWifiOnlyOn", function() { return _reducers__WEBPACK_IMPORTED_MODULE_1__["isWifiOnlyOn"]; });




/***/ }),

/***/ "ciCs":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);


var arrToObj = function arrToObj() {
  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  var _ref = arguments.length > 1 ? arguments[1] : undefined,
      _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref, 2),
      key = _ref2[0],
      _ref2$ = _ref2[1],
      val = _ref2$ === void 0 ? true : _ref2$;

  obj[key] = val;
  return obj;
};

var getQueryParameter = function getQueryParameter() {
  return window.location.search.substring(1).split('&').map(function (varval) {
    return varval.split('=');
  }).reduce(arrToObj, {});
};

/* harmony default export */ __webpack_exports__["default"] = (getQueryParameter);

/***/ }),

/***/ "d9dq":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getParentLink", function() { return getParentLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbFile", function() { return DumbFile; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var filesize__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("SdWe");
/* harmony import */ var filesize__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(filesize__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("dtw8");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("/MKj");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("yLV6");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("buk/");
/* harmony import */ var drive_web_modules_drive_RenameInput__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("D2Hl");
/* harmony import */ var drive_web_modules_actionmenu_ActionMenu__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("xeLO");
/* harmony import */ var drive_web_modules_actionmenu_MobileActionMenu__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("Gsrt");
/* harmony import */ var drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("ommj");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("H+Xc");
/* harmony import */ var sharing__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("OsbH");
/* harmony import */ var drive_web_modules_filelist_FileThumbnail__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("oRqk");
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("OjRq");
/* harmony import */ var drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("7oMs");
/* harmony import */ var drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("iTW1");
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("7jrE");
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28__);






























var ActionMenu = Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_21__["withBreakpoints"])()(function (_ref) {
  var isMobile = _ref.breakpoints.isMobile,
      props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8___default()(_ref, ["breakpoints"]);

  return isMobile ? react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_actionmenu_MobileActionMenu__WEBPACK_IMPORTED_MODULE_19__["default"], props) : react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_actionmenu_ActionMenu__WEBPACK_IMPORTED_MODULE_18__["default"], props);
});

var getParentDiv = function getParentDiv(element) {
  if (element.nodeName.toLowerCase() === 'div') {
    return element;
  }

  return getParentDiv(element.parentNode);
};

var getParentLink = function getParentLink(element) {
  if (!element) {
    return null;
  }

  if (element.nodeName.toLowerCase() === 'a') {
    return element;
  }

  return getParentLink(element.parentNode);
};

var enableTouchEvents = function enableTouchEvents(ev) {
  // remove event when you rename a file
  if (['INPUT', 'BUTTON'].indexOf(ev.target.nodeName) !== -1) {
    return false;
  }

  var parentDiv = getParentDiv(ev.target); // remove event when it's the checkbox or the more button

  if (parentDiv.className.indexOf(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-file-select']) !== -1 || parentDiv.className.indexOf(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-file-action']) !== -1) {
    return false;
  } // remove events when they are on the file's path, because it's a different behavior


  var parentLink = getParentLink(ev.target);

  if (parentLink && parentLink.className.indexOf(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-file-path']) >= 0) {
    return false;
  }

  return true;
};

var SelectBox = function SelectBox(_ref2) {
  var withSelectionCheckbox = _ref2.withSelectionCheckbox,
      selected = _ref2.selected,
      onClick = _ref2.onClick;
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-file-select']),
    onClick: onClick
  }, withSelectionCheckbox && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span", {
    "data-input": "checkbox"
  }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("input", {
    onChange: function onChange() {// handled by onClick on the <div>
    },
    type: "checkbox",
    checked: selected
  }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("label", null)));
};

var FileName = function FileName(_ref3) {
  var attributes = _ref3.attributes,
      isRenaming = _ref3.isRenaming,
      interactive = _ref3.interactive,
      withFilePath = _ref3.withFilePath,
      isMobile = _ref3.isMobile,
      formattedSize = _ref3.formattedSize,
      formattedUpdatedAt = _ref3.formattedUpdatedAt;
  var classes = classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-file'], _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()({}, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-file-openable'], !isRenaming && interactive));

  var _CozyFile$splitFilena = models__WEBPACK_IMPORTED_MODULE_24__["CozyFile"].splitFilename(attributes),
      filename = _CozyFile$splitFilena.filename,
      extension = _CozyFile$splitFilena.extension;

  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: classes
  }, isRenaming ? react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_drive_RenameInput__WEBPACK_IMPORTED_MODULE_17__["default"], null) : react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-file']
  }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-file-filename']
  }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-file-filename-wrapper']
  }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    "data-test-id": "fil-file-filename-and-ext",
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-file-filename-and-ext']
  }, filename, extension && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-ext']
  }, extension)))), withFilePath && attributes.displayedPath && (isMobile ? react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_21__["MidEllipsis"], {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-file-path'],
    text: attributes.displayedPath
  }) : react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_13__["Link"], {
    to: "/folder/".concat(attributes.dir_id),
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-file-path']
  }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_21__["MidEllipsis"], {
    text: attributes.displayedPath
  }))), !withFilePath && (Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_20__["isDirectory"])(attributes) || react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-file-infos']
  }, "".concat(formattedUpdatedAt).concat(formattedSize ? " - ".concat(formattedSize) : '')))));
};

var LastUpdate = function LastUpdate(_ref4) {
  var date = _ref4.date,
      _ref4$formatted = _ref4.formatted,
      formatted = _ref4$formatted === void 0 ? '-' : _ref4$formatted;
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-date'])
  }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("time", {
    dateTime: date
  }, formatted));
};

var Size = function Size(_ref5) {
  var _ref5$filesize = _ref5.filesize,
      filesize = _ref5$filesize === void 0 ? '-' : _ref5$filesize;
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-size'])
  }, filesize);
};

var Status = function Status(_ref6) {
  var isAvailableOffline = _ref6.isAvailableOffline,
      id = _ref6.id;
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-status'])
  }, isAvailableOffline && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-offline']
  }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_21__["Icon"], {
    icon: "phone-download",
    color: cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_27___default.a.white,
    width: "14",
    height: "14"
  })), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(sharing__WEBPACK_IMPORTED_MODULE_22__["SharedStatus"], {
    docId: id,
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-sharestatus']
  }));
};

var FileAction = Object(react__WEBPACK_IMPORTED_MODULE_9__["forwardRef"])(function (_ref7, ref) {
  var t = _ref7.t,
      onClick = _ref7.onClick;
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-file-action']),
    ref: ref
  }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_21__["Button"], {
    theme: "action",
    onClick: onClick,
    extension: "narrow",
    icon: react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_21__["Icon"], {
      icon: "dots",
      color: cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_27___default.a.charcoalGrey,
      width: "17",
      height: "17"
    }),
    iconOnly: true,
    label: t('Toolbar.more')
  }));
});

var File =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(File, _Component);

  function File(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, File);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(File).call(this, props));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "state", {
      actionMenuVisible: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "showActionMenu", function () {
      _this.setState(function (state) {
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
          actionMenuVisible: true
        });
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "hideActionMenu", function () {
      _this.setState(function (state) {
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
          actionMenuVisible: false
        });
      });
    });

    _this.filerowMenuToggleRef = react__WEBPACK_IMPORTED_MODULE_9___default.a.createRef();
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(File, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      var _this$props = this.props,
          disabled = _this$props.disabled,
          attributes = _this$props.attributes;
      this.gesturesHandler = new hammerjs__WEBPACK_IMPORTED_MODULE_15___default.a.Manager(this.filerow);
      this.gesturesHandler.add(new hammerjs__WEBPACK_IMPORTED_MODULE_15___default.a.Tap({
        event: 'singletap'
      }));
      this.gesturesHandler.add(new hammerjs__WEBPACK_IMPORTED_MODULE_15___default.a.Press({
        event: 'onpress'
      }));
      this.gesturesHandler.on('onpress singletap', function (ev) {
        if (_this2.state.actionMenuVisible || disabled) return; //don't read this value on the didMount... prefer when the listener is called

        var selectionModeActive = _this2.props.selectionModeActive;

        if (enableTouchEvents(ev)) {
          ev.preventDefault(); // prevent a ghost click

          if (ev.type === 'onpress' || selectionModeActive) {
            _this2.toggle(ev.srcEvent);
          } else {
            _this2.open(ev.srcEvent, attributes);
          }
        }
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.gesturesHandler && this.gesturesHandler.destroy();
    }
  }, {
    key: "toggle",
    value: function toggle(e) {
      e.stopPropagation();
      var _this$props2 = this.props,
          attributes = _this$props2.attributes,
          onCheckboxToggle = _this$props2.onCheckboxToggle,
          selected = _this$props2.selected;
      onCheckboxToggle(attributes.id, selected);
    }
  }, {
    key: "open",
    value: function open(e, attributes) {
      var _this$props3 = this.props,
          onFolderOpen = _this$props3.onFolderOpen,
          onFileOpen = _this$props3.onFileOpen,
          isAvailableOffline = _this$props3.isAvailableOffline;
      e.stopPropagation();

      if (Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_20__["isDirectory"])(attributes)) {
        onFolderOpen(attributes.id);
      } else {
        onFileOpen(attributes, isAvailableOffline);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _classNames2,
          _this3 = this;

      var _this$props4 = this.props,
          t = _this$props4.t,
          f = _this$props4.f,
          attributes = _this$props4.attributes,
          selected = _this$props4.selected,
          actions = _this$props4.actions,
          isRenaming = _this$props4.isRenaming,
          withSelectionCheckbox = _this$props4.withSelectionCheckbox,
          withFilePath = _this$props4.withFilePath,
          withSharedBadge = _this$props4.withSharedBadge,
          isAvailableOffline = _this$props4.isAvailableOffline,
          disabled = _this$props4.disabled,
          thumbnailSizeBig = _this$props4.thumbnailSizeBig,
          _this$props4$breakpoi = _this$props4.breakpoints,
          isExtraLarge = _this$props4$breakpoi.isExtraLarge,
          isMobile = _this$props4$breakpoi.isMobile;
      var actionMenuVisible = this.state.actionMenuVisible;
      var filContentRowSelected = classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-row'], (_classNames2 = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_classNames2, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-row-selected'], selected), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_classNames2, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-row-actioned'], actionMenuVisible), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_classNames2, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-row-disabled'], disabled), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_classNames2, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_28___default.a['fil-content-row-bigger'], thumbnailSizeBig), _classNames2));
      var formattedSize = Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_20__["isDirectory"])(attributes) ? undefined : filesize__WEBPACK_IMPORTED_MODULE_12___default()(attributes.size, {
        base: 10
      });
      var updatedAt = attributes.updated_at || attributes.created_at;
      var formattedUpdatedAt = f(updatedAt, isExtraLarge ? t('table.row_update_format_full') : t('table.row_update_format'));
      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        ref: function ref(filerow) {
          _this3.filerow = filerow;
        },
        className: filContentRowSelected
      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(SelectBox, {
        withSelectionCheckbox: withSelectionCheckbox,
        selected: selected,
        onClick: function onClick(e) {
          return _this3.toggle(e);
        }
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_filelist_FileThumbnail__WEBPACK_IMPORTED_MODULE_23__["default"], {
        file: attributes,
        withSharedBadge: withSharedBadge,
        size: thumbnailSizeBig ? 96 : undefined
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(FileName, {
        attributes: attributes,
        isRenaming: isRenaming,
        interactive: !disabled,
        withFilePath: withFilePath,
        isMobile: isMobile,
        formattedSize: formattedSize,
        formattedUpdatedAt: formattedUpdatedAt
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(LastUpdate, {
        date: updatedAt,
        formatted: Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_20__["isDirectory"])(attributes) ? undefined : formattedUpdatedAt
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(Size, {
        filesize: formattedSize
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(Status, {
        id: attributes.id,
        isAvailableOffline: isAvailableOffline
      }), actions && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(FileAction, {
        t: t,
        ref: this.filerowMenuToggleRef,
        onClick: function onClick(e) {
          _this3.showActionMenu();

          e.stopPropagation();
        }
      }), actions && actionMenuVisible && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(ActionMenu, {
        file: attributes,
        reference: this.filerowMenuToggleRef.current,
        actions: actions,
        onClose: this.hideActionMenu
      }));
    }
  }]);

  return File;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);

File.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
  f: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
  attributes: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired,
  selected: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool.isRequired,
  actions: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired,
  isRenaming: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool,
  withSelectionCheckbox: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool.isRequired,
  withFilePath: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool,
  withSharedBadge: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool.isRequired,
  isAvailableOffline: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool.isRequired,
  disabled: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool,
  breakpoints: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired,
  selectionModeActive: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool.isRequired,

  /** When a user click on a Folder */
  onFolderOpen: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,

  /** onFileOpen : When a user click on a File */
  onFileOpen: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  onCheckboxToggle: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired
};

var mapStateToProps = function mapStateToProps(state, ownProps) {
  return {
    selected: Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_25__["isSelected"])(state, ownProps.attributes.id),
    isAvailableOffline: Object(drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_26__["isAvailableOffline"])(state, ownProps.attributes.id),
    thumbnailSizeBig: state.view.thumbnailSize,
    selectionModeActive: Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_25__["isSelectionBarVisible"])(state)
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    onCheckboxToggle: function onCheckboxToggle(file, selected) {
      return dispatch(Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_25__["toggleItemSelection"])(file, selected));
    }
  };
};

var DumbFile = Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_21__["withBreakpoints"])()(Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_16__["translate"])()(File));
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_14__["connect"])(mapStateToProps, mapDispatchToProps)(DumbFile));

/***/ }),

/***/ "dPaS":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("cLsY");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("H+Xc");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("/MKj");
/* harmony import */ var drive_mobile_lib_withPersistentState__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("PC2r");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_14__);















var MINIMUM_LONG_UPLOAD_FILES_COUNT = 50;
var FirstUploadModal = Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_10__["translate"])()(function (_ref) {
  var t = _ref.t,
      onClose = _ref.onClose;
  return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_9__["default"], {
    title: t('mobile.first_sync.title'),
    withCross: false,
    into: "body"
  }, react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_9__["ModalContent"], null, react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("h4", null, t('mobile.first_sync.tips')), react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("ul", null, react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("li", null, t('mobile.first_sync.tip_wifi')), react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("li", null, t('mobile.first_sync.tip_bed')), Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_14__["isIOSApp"])() && react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("li", null, t('mobile.first_sync.tip_lock'))), react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("p", null, t('mobile.first_sync.result')), react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_11__["Button"], {
    onClick: onClose,
    extension: "full",
    label: t('mobile.first_sync.button')
  })));
});

var showOnceOnUpload = function showOnceOnUpload(WrappedComponent) {
  var _temp;

  return _temp =
  /*#__PURE__*/
  function (_Component) {
    _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(showOnceOnUploadClass, _Component);

    function showOnceOnUploadClass(props) {
      var _this;

      _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, showOnceOnUploadClass);

      _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(showOnceOnUploadClass).call(this, props));

      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "markAsViewed", function () {
        _this.setState({
          viewed: true
        });
      });

      _this.restored = false;
      _this.state = {
        viewed: false
      };
      return _this;
    }

    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(showOnceOnUploadClass, [{
      key: "componentStateRestored",
      value: function componentStateRestored() {
        this.restored = true; // As this method is called after the persisted state has been restored, we must trigger an update
        // by making a dumb setState call

        this.setState(function (prevState) {
          return prevState;
        });
      }
    }, {
      key: "render",
      value: function render() {
        // we don't want to render unless the state is restored to avoid flashing
        if (!this.restored) {
          return null;
        }

        var uploading = this.props.uploading;
        var viewed = this.state.viewed;
        if (uploading && !viewed) return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(WrappedComponent, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, this.props, {
          onClose: this.markAsViewed
        }));else return null;
      }
    }]);

    return showOnceOnUploadClass;
  }(react__WEBPACK_IMPORTED_MODULE_8__["Component"]), _temp;
};

var OnlyOnceFirstUploadModal = Object(drive_mobile_lib_withPersistentState__WEBPACK_IMPORTED_MODULE_13__["default"])(showOnceOnUpload(FirstUploadModal), 'OnlyOnceFirstUploadModal');

var mapStateToProps = function mapStateToProps(state) {
  var _state$mobile$mediaBa = state.mobile.mediaBackup,
      _state$mobile$mediaBa2 = _state$mobile$mediaBa.uploading,
      uploading = _state$mobile$mediaBa2 === void 0 ? false : _state$mobile$mediaBa2,
      _state$mobile$mediaBa3 = _state$mobile$mediaBa.currentUpload,
      currentUpload = _state$mobile$mediaBa3 === void 0 ? {
    messageData: {
      total: 0
    }
  } : _state$mobile$mediaBa3;
  var messageData = currentUpload.messageData;
  return {
    uploading: uploading && messageData['total'] >= MINIMUM_LONG_UPLOAD_FILES_COUNT
  };
};

var ConnectedFirstUploadModal = Object(react_redux__WEBPACK_IMPORTED_MODULE_12__["connect"])(mapStateToProps)(OnlyOnceFirstUploadModal);
/* harmony default export */ __webpack_exports__["default"] = (ConnectedFirstUploadModal);

/***/ }),

/***/ "eXby":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_react_SelectionBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("+MCZ");
/* harmony import */ var _duck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7oMs");






var mapStateToProps = function mapStateToProps(state) {
  return {
    selected: Object(_duck__WEBPACK_IMPORTED_MODULE_4__["getSelectedFiles"])(state),
    selectionModeActive: Object(_duck__WEBPACK_IMPORTED_MODULE_4__["isSelectionBarVisible"])(state)
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    hideSelectionBar: function hideSelectionBar() {
      return dispatch(Object(_duck__WEBPACK_IMPORTED_MODULE_4__["hideSelectionBar"])());
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(mapStateToProps, mapDispatchToProps)(function (_ref) {
  var selectionModeActive = _ref.selectionModeActive,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref, ["selectionModeActive"]);

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    style: {
      display: selectionModeActive ? 'inherit' : 'none'
    }
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_react_SelectionBar__WEBPACK_IMPORTED_MODULE_3__["default"], rest));
}));

/***/ }),

/***/ "ebEV":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("/MKj");
/* harmony import */ var react_cozy_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Yo2A");
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("dtw8");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("yEaX");
/* harmony import */ var _DeleteConfirm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("3Cim");
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("fD9B");










var mapStateToProps = function mapStateToProps() {
  return {};
};

var mapDispatchToProps = function mapDispatchToProps(dispatch, ownProps) {
  return {
    trashFolder: function trashFolder(folder) {
      return dispatch(Object(react_cozy_helpers__WEBPACK_IMPORTED_MODULE_4__["showModal"])(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_DeleteConfirm__WEBPACK_IMPORTED_MODULE_7__["default"], {
        files: [folder],
        onConfirm:
        /*#__PURE__*/
        _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_6__["trashFiles"])([folder]));

                case 2:
                  ownProps.router.push("/folder/".concat(folder.parent.id));

                case 3:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee);
        }))
      })));
    }
  };
};

var deleteContainer = function deleteContainer(component) {
  return Object(_toolbar__WEBPACK_IMPORTED_MODULE_8__["default"])(Object(react_router__WEBPACK_IMPORTED_MODULE_5__["withRouter"])(Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["connect"])(mapStateToProps, mapDispatchToProps)(component)));
};

/* harmony default export */ __webpack_exports__["default"] = (deleteContainer);

/***/ }),

/***/ "f/2S":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-slide_440e71a068f2c361f14a6402991887d2",
  "use": "icon-type-slide_440e71a068f2c361f14a6402991887d2-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-slide_440e71a068f2c361f14a6402991887d2\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(0 2)\">\n    <path fill=\"#FFDEC1\" d=\"M0,1.99124431 C0,0.891510444 0.889763236,0 2.00359486,0 L25,0 L32,7 L32,26.0054385 C32,27.1070044 31.1107383,28 29.9982567,28 L2.00174332,28 C0.89621101,28 0,27.1001025 0,26.0087557 L0,1.99124431 Z\" />\n    <path fill=\"#FF9433\" d=\"M24.5.57092175e-14C24.2238576.33045111e-13 24 .230796814 24 .500435829L24 8 31.4995642 8C31.7759472 8 32 7.76806641 32 7.5L32 7 25 0 24.5.57092175e-14zM9.99621582 16L25.9962158 16 25.9962158 18 9.99621582 18 9.99621582 16zM9.99621582 20L25.9962158 20 25.9962158 22 9.99621582 22 9.99621582 20zM6 16L8 16 8 18 6 18 6 16zM6 20L8 20 8 22 6 22 6 20zM16 14C18.209139 14 20 12.209139 20 10L16 10 16 6C13.790861 6 12 7.790861 12 10 12 12.209139 13.790861 14 16 14zM17 9C17 9 16.9999999 6 17 5 19 5 21.0000002 7 21 9L17 9z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "f/Nf":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _pushClient_styl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("AzIT");
/* harmony import */ var _pushClient_styl__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_pushClient_styl__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("buk/");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("IFEr");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_config_config_json__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("FKqX");
var drive_config_config_json__WEBPACK_IMPORTED_MODULE_14___namespace = /*#__PURE__*/__webpack_require__.t("FKqX", 1);
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("oAJy");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_15__);










/* global localStorage */








var BannerClient =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(BannerClient, _Component);

  function BannerClient(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, BannerClient);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(BannerClient).call(this, props));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "state", {
      mustShow: false
    });

    _this.willUnmount = false;
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(BannerClient, [{
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var seen, mustSee;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                this.willUnmount = false;
                _context.next = 3;
                return localforage__WEBPACK_IMPORTED_MODULE_15___default.a.getItem(___WEBPACK_IMPORTED_MODULE_12__["DESKTOP_BANNER"]);

              case 3:
                _context.t0 = _context.sent;

                if (_context.t0) {
                  _context.next = 6;
                  break;
                }

                _context.t0 = false;

              case 6:
                seen = _context.t0;

                if (seen) {
                  _context.next = 12;
                  break;
                }

                _context.next = 10;
                return Object(___WEBPACK_IMPORTED_MODULE_12__["isClientAlreadyInstalled"])();

              case 10:
                mustSee = !_context.sent;

                if (mustSee && !this.willUnmount) {
                  this.setState({
                    mustShow: true
                  });
                }

              case 12:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.willUnmount = true;
    }
  }, {
    key: "markAsSeen",
    value: function markAsSeen(element) {
      localforage__WEBPACK_IMPORTED_MODULE_15___default.a.setItem(___WEBPACK_IMPORTED_MODULE_12__["DESKTOP_BANNER"], true);
      this.setState({
        mustShow: false
      });
      Object(___WEBPACK_IMPORTED_MODULE_12__["track"])(element);
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      if (drive_config_config_json__WEBPACK_IMPORTED_MODULE_14__.promoteDesktop.isActivated !== true || !this.state.mustShow) return null;
      var t = this.props.t;
      var mobileLink = Object(___WEBPACK_IMPORTED_MODULE_12__["isIOS"])() ? 'Nav.link-client-ios' : Object(___WEBPACK_IMPORTED_MODULE_12__["isAndroid"])() ? 'Nav.link-client-android' : 'Nav.link-client';
      var desktopLink = Object(___WEBPACK_IMPORTED_MODULE_12__["isLinux"])() ? 'Nav.link-client' : 'Nav.link-client-desktop';
      return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
        className: _pushClient_styl__WEBPACK_IMPORTED_MODULE_9___default.a['coz-banner-client']
      }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__["ButtonLink"], {
        href: t(mobileLink),
        target: "_blank",
        className: _pushClient_styl__WEBPACK_IMPORTED_MODULE_9___default.a['coz-btn-clientMobile'],
        onClick: function onClick() {
          _this2.markAsSeen('banner');
        },
        label: t('Nav.btn-client-mobile')
      }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
        className: _pushClient_styl__WEBPACK_IMPORTED_MODULE_9___default.a['coz-banner-text']
      }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("figure", null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__["Icon"], {
        icon: "cozy",
        width: "44",
        height: "44"
      })), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("span", null, t('Nav.banner-txt-client')), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__["ButtonLink"], {
        href: t(desktopLink),
        target: "_blank",
        theme: "alpha",
        onClick: function onClick() {
          _this2.markAsSeen('banner');
        },
        label: t('Nav.banner-btn-client')
      })), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__["Button"], {
        theme: "close",
        extension: "narrow",
        className: _pushClient_styl__WEBPACK_IMPORTED_MODULE_9___default.a['close-banner'],
        onClick: function onClick() {
          _this2.markAsSeen('close');
        },
        icon: react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__["Icon"], {
          icon: "cross",
          width: "24",
          height: "24"
        }),
        iconOnly: true,
        label: t('SelectionBar.close')
      }));
    }
  }]);

  return BannerClient;
}(react__WEBPACK_IMPORTED_MODULE_11__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_10__["translate"])()(BannerClient));

/***/ }),

/***/ "fD9B":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("/MKj");
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("Z7XG");
/* harmony import */ var drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("7oMs");




var mapStateToProps = function mapStateToProps(state) {
  return {
    displayedFolder: state.view.displayedFolder,
    notRootfolder: state.view.displayedFolder && state.view.displayedFolder.id !== drive_constants_config__WEBPACK_IMPORTED_MODULE_1__["ROOT_DIR_ID"],
    selectionModeActive: Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_2__["isSelectionBarVisible"])(state)
  };
};

var toolbarContainer = function toolbarContainer(component) {
  return Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(mapStateToProps)(component);
};

/* harmony default export */ __webpack_exports__["default"] = (toolbarContainer);

/***/ }),

/***/ "fKGi":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAuthorized", function() { return isAuthorized; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "requestAuthorization", function() { return requestAuthorization; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateLibraryItem", function() { return updateLibraryItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uploadLibraryItem", function() { return uploadLibraryItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPhotos", function() { return getPhotos; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _cozy_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q3u0");
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("qxHO");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("OTOu");







var hasCordovaPlugin = function hasCordovaPlugin() {
  return Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__["isMobileApp"])() && window.cordova.plugins !== undefined && window.cordova.plugins.listLibraryItems !== undefined;
};

var isAuthorized =
/*#__PURE__*/
function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (hasCordovaPlugin()) {
              _context.next = 2;
              break;
            }

            return _context.abrupt("return", Promise.resolve(false));

          case 2:
            return _context.abrupt("return", new Promise(function (resolve) {
              var success = function success() {
                return resolve(true);
              };

              var error = function error() {
                return resolve(false);
              };

              window.cordova.plugins.listLibraryItems.isAuthorized(success, error);
            }));

          case 3:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function isAuthorized() {
    return _ref.apply(this, arguments);
  };
}();
var requestAuthorization =
/*#__PURE__*/
function () {
  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            if (hasCordovaPlugin()) {
              _context2.next = 2;
              break;
            }

            return _context2.abrupt("return", Promise.resolve(false));

          case 2:
            return _context2.abrupt("return", new Promise(function (resolve) {
              window.cordova.plugins.listLibraryItems.requestReadAuthorization(function () {
                return resolve(true);
              }, function (error) {
                if (!error.startsWith('Permission')) {
                  Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_3__["logException"])('requestAuthorization error:', error);
                }

                resolve(false);
              });
            }));

          case 3:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function requestAuthorization() {
    return _ref2.apply(this, arguments);
  };
}();

var generatePayloadForNative =
/*#__PURE__*/
function () {
  var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(_ref3) {
    var uri, file, _ref3$method, method, _ref3$id, id, token, payload;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            uri = _ref3.uri, file = _ref3.file, _ref3$method = _ref3.method, method = _ref3$method === void 0 ? 'POST' : _ref3$method, _ref3$id = _ref3.id, id = _ref3$id === void 0 ? undefined : _ref3$id;
            _context3.next = 3;
            return Object(_cozy_helper__WEBPACK_IMPORTED_MODULE_2__["getToken"])();

          case 3:
            token = _context3.sent;
            payload = {
              id: id,
              serverUrl: uri,
              libraryId: file['id'],
              mimeType: file['mimeType'],
              filePath: file['filePath'],
              httpMethod: method,
              headers: {
                Authorization: 'Bearer ' + token,
                'Content-Type': file['mimeType']
              }
            };
            return _context3.abrupt("return", payload);

          case 6:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function generatePayloadForNative(_x) {
    return _ref4.apply(this, arguments);
  };
}();

var uploadNativeItem = function uploadNativeItem(payload, progressCallback, thumbnailCallback) {
  return new Promise(function (resolve, reject) {
    window.cordova.plugins.listLibraryItems.uploadItem(payload, function (result) {
      if (result.errors) reject(result.errors);else if (result.progress !== undefined) progressCallback(result.progress);else if (result.thumbnail) thumbnailCallback(result.thumbnail);else {
        resolve(result);
      }
    }, reject);
  });
};

var updateLibraryItem =
/*#__PURE__*/
function () {
  var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(previousDocument, libraryItem, progressCallback, thumbnailCallback) {
    var uri, payload;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            if (!hasCordovaPlugin()) {
              _context4.next = 6;
              break;
            }

            // the cordova plugin is going to do the upload and needs all the infos to make a request to the stack
            uri = Object(_cozy_helper__WEBPACK_IMPORTED_MODULE_2__["getClientUrl"])() + '/files/' + encodeURIComponent(previousDocument._id);
            _context4.next = 4;
            return generatePayloadForNative({
              uri: uri,
              file: libraryItem,
              method: 'PUT'
            });

          case 4:
            payload = _context4.sent;
            return _context4.abrupt("return", uploadNativeItem(payload, progressCallback, thumbnailCallback));

          case 6:
            return _context4.abrupt("return", Promise.resolve());

          case 7:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));

  return function updateLibraryItem(_x2, _x3, _x4, _x5) {
    return _ref5.apply(this, arguments);
  };
}();
var uploadLibraryItem =
/*#__PURE__*/
function () {
  var _ref6 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(dirID, libraryItem, progressCallback, thumbnailCallback) {
    var uri, payload;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            if (!hasCordovaPlugin()) {
              _context5.next = 6;
              break;
            }

            uri = Object(_cozy_helper__WEBPACK_IMPORTED_MODULE_2__["getClientUrl"])() + '/files/' + encodeURIComponent(dirID) + '?Name=' + encodeURIComponent(libraryItem['fileName']) + '&Type=file&Tags=library&Executable=false';
            _context5.next = 4;
            return generatePayloadForNative({
              id: dirID,
              file: libraryItem,
              uri: uri
            });

          case 4:
            payload = _context5.sent;
            return _context5.abrupt("return", uploadNativeItem(payload, progressCallback, thumbnailCallback));

          case 6:
            return _context5.abrupt("return", Promise.resolve());

          case 7:
          case "end":
            return _context5.stop();
        }
      }
    }, _callee5);
  }));

  return function uploadLibraryItem(_x6, _x7, _x8, _x9) {
    return _ref6.apply(this, arguments);
  };
}();
var getPhotos =
/*#__PURE__*/
function () {
  var _ref7 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6() {
    var defaultReturn;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            defaultReturn = [];

            if (!hasCordovaPlugin()) {
              _context6.next = 3;
              break;
            }

            return _context6.abrupt("return", new Promise(function (resolve) {
              window.cordova.plugins.listLibraryItems.listItems(true, true, false, // includePictures, includeVideos, includeCloud
              function (response) {
                return resolve(response.library);
              }, function (err) {
                lib_logger__WEBPACK_IMPORTED_MODULE_5__["default"].warn(err);
                resolve(defaultReturn);
              });
            }));

          case 3:
            return _context6.abrupt("return", Promise.resolve(defaultReturn));

          case 4:
          case "end":
            return _context6.stop();
        }
      }
    }, _callee6);
  }));

  return function getPhotos() {
    return _ref7.apply(this, arguments);
  };
}();

/***/ }),

/***/ "fWVu":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"container":"container--3-RCo","suggestionsContainer":"suggestionsContainer--3lRrx","suggestionsContainerOpen":"suggestionsContainerOpen--3Y523","input":"input--2DlOl","suggestionsList":"suggestionsList--35tTI","suggestion":"suggestion--iMlMu","suggestionHighlighted":"suggestionHighlighted--3v0My","recipientsContainer":"recipientsContainer--1GWdl","recipientChip":"recipientChip--1HV-h","removeRecipient":"removeRecipient--2dtVM"};

/***/ }),

/***/ "fyrk":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ShareAutocomplete; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react_autosuggest__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("1h/R");
/* harmony import */ var react_autosuggest__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_autosuggest__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("7jrE");
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var sharing_components_autosuggest_styl__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("fWVu");
/* harmony import */ var sharing_components_autosuggest_styl__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(sharing_components_autosuggest_styl__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var sharing_assets_icons_icon_cross_bold_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("SdrL");
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("OjRq");
/* harmony import */ var sharing_suggestionMatchers__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("PFWH");
/* harmony import */ var sharing_components_ContactSuggestion__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("rPfp");



















var ShareAutocomplete =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(ShareAutocomplete, _Component);

  function ShareAutocomplete() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, ShareAutocomplete);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(ShareAutocomplete)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "state", {
      inputValue: '',
      suggestions: []
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "onSuggestionsFetchRequested", function (_ref) {
      var value = _ref.value;

      _this.setState(function (state) {
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
          suggestions: _this.computeSuggestions(value)
        });
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "onSuggestionsClearRequested", function () {
      _this.setState(function (state) {
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
          suggestions: []
        });
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "onChange", function (event, _ref2) {
      var newValue = _ref2.newValue,
          method = _ref2.method;

      if (typeof newValue !== 'object') {
        _this.setState(function (state) {
          return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
            inputValue: newValue
          });
        });
      } else if (method === 'click' || method === 'enter') {
        // A suggestion has been picked
        _this.onPick(newValue);
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "onKeyPress", function (event) {
      // The user wants to add an unknown email
      if ((event.key === 'Enter' || event.keyCode === 13) && _this.state.inputValue !== '' || (event.key === 'Space' || event.keyCode === 32) && /^.+@.+/.test(_this.state.inputValue)) {
        _this.onPick({
          email: _this.state.inputValue
        });
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "onFocus", function () {
      _this.props.onFocus();
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "onBlur", function (event, _ref3) {
      var highlightedSuggestion = _ref3.highlightedSuggestion;

      if (highlightedSuggestion) {
        _this.props.onPick(highlightedSuggestion);

        _this.setState(function (state) {
          return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
            inputValue: ''
          });
        });
      } else if (_this.state.inputValue !== '' && _this.state.inputValue.match(/\S+@\S+/)) {
        _this.props.onPick({
          email: _this.state.inputValue
        });

        _this.setState(function (state) {
          return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
            inputValue: ''
          });
        });
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "onPick", function (value) {
      _this.props.onPick(value);

      _this.setState(function (state) {
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
          inputValue: ''
        });
      });

      setTimeout(function () {
        return _this.input.focus();
      }, 1); // don't ask...
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "onRemove", function (value) {
      _this.props.onRemove(value);

      setTimeout(function () {
        return _this.input.focus();
      }, 1);
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ShareAutocomplete, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (this.props.contactsAndGroups.length !== prevProps.contactsAndGroups.length) {
        this.onSuggestionsFetchRequested({
          value: this.state.inputValue
        });
      }
    }
  }, {
    key: "computeSuggestions",
    value: function computeSuggestions(value) {
      var inputValue = value.trim().toLowerCase();
      return inputValue.length === 0 ? [] : this.props.contactsAndGroups.filter(function (contactOrGroup) {
        return Object(sharing_suggestionMatchers__WEBPACK_IMPORTED_MODULE_16__["groupNameMatch"])(inputValue, contactOrGroup) || Object(sharing_suggestionMatchers__WEBPACK_IMPORTED_MODULE_16__["emailMatch"])(inputValue, contactOrGroup) || Object(sharing_suggestionMatchers__WEBPACK_IMPORTED_MODULE_16__["cozyUrlMatch"])(inputValue, contactOrGroup);
      });
    }
  }, {
    key: "renderInput",
    value: function renderInput(inputProps) {
      var _this2 = this;

      var _this$props = this.props,
          loading = _this$props.loading,
          recipients = _this$props.recipients;
      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        className: sharing_components_autosuggest_styl__WEBPACK_IMPORTED_MODULE_13___default.a['recipientsContainer']
      }, recipients.map(function (recipient, idx) {
        var value = models__WEBPACK_IMPORTED_MODULE_15__["Contact"].getDisplayName(recipient);
        return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
          className: sharing_components_autosuggest_styl__WEBPACK_IMPORTED_MODULE_13___default.a['recipientChip'],
          key: "key_recipient_".concat(idx)
        }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span", null, value), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("button", {
          className: sharing_components_autosuggest_styl__WEBPACK_IMPORTED_MODULE_13___default.a['removeRecipient'],
          onClick: function onClick() {
            return _this2.onRemove(recipient);
          }
        }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_11__["Icon"], {
          icon: sharing_assets_icons_icon_cross_bold_svg__WEBPACK_IMPORTED_MODULE_14__["default"],
          width: "16",
          height: "16"
        })));
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("input", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, inputProps, {
        onKeyPress: this.onKeyPress
      })), loading && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_11__["Spinner"], {
        color: cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_12___default.a.dodgerBlue,
        className: "u-flex u-flex-items-center"
      }));
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var _this$state = this.state,
          inputValue = _this$state.inputValue,
          suggestions = _this$state.suggestions;
      var _this$props2 = this.props,
          contactsAndGroups = _this$props2.contactsAndGroups,
          placeholder = _this$props2.placeholder;
      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(react_autosuggest__WEBPACK_IMPORTED_MODULE_10___default.a, {
        ref: function ref(self) {
          _this3.input = self ? self.input : null;
        },
        theme: sharing_components_autosuggest_styl__WEBPACK_IMPORTED_MODULE_13___default.a,
        suggestions: suggestions.slice(0, 20),
        getSuggestionValue: function getSuggestionValue(contact) {
          return contact;
        },
        onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,
        onSuggestionsClearRequested: this.onSuggestionsClearRequested,
        renderSuggestion: function renderSuggestion(contactOrGroup) {
          return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(sharing_components_ContactSuggestion__WEBPACK_IMPORTED_MODULE_17__["default"], {
            contacts: contactsAndGroups.filter(function (item) {
              return item._type === models__WEBPACK_IMPORTED_MODULE_15__["Contact"].doctype;
            }),
            contactOrGroup: contactOrGroup
          });
        },
        renderInputComponent: function renderInputComponent(props) {
          return _this3.renderInput(props);
        },
        highlightFirstSuggestion: true,
        inputProps: {
          onFocus: this.onFocus,
          onChange: this.onChange,
          onBlur: this.onBlur,
          value: inputValue,
          type: 'email',
          placeholder: placeholder
        }
      });
    }
  }]);

  return ShareAutocomplete;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);



/***/ }),

/***/ "gbp9":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-pdf_ea9c680326440f2601a8a80345ef5a5d",
  "use": "icon-type-pdf_ea9c680326440f2601a8a80345ef5a5d-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-pdf_ea9c680326440f2601a8a80345ef5a5d\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(3)\">\n    <path fill=\"#FCD0D5\" d=\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\" />\n    <path fill=\"#F1132D\" d=\"M18.5.57092175e-14C18.2238576.33045111e-13 18 .230796814 18 .500435829L18 8 25.4995642 8C25.7759472 8 26 7.76806641 26 7.5L26 7 19 0 18.5.57092175e-14zM6 11L20 11 20 13 6 13 6 11zM6 15L18 15 18 17 6 17 6 15zM6.06599695 19.784L7.96999695 19.784C8.25266503 19.784 8.51799571 19.8119997 8.76599695 19.868 9.01399819 19.9240003 9.22999603 20.0173327 9.41399695 20.148 9.59799787 20.2786673 9.74332975 20.4519989 9.84999695 20.668 9.95666415 20.8840011 10.0099969 21.1493318 10.0099969 21.464 10.0099969 21.7680015 9.95533083 22.0319989 9.84599695 22.256 9.73666307 22.4800011 9.58866455 22.6639993 9.40199695 22.808 9.21532935 22.9520007 8.99933151 23.0586663 8.75399695 23.128 8.50866239 23.1973337 8.24733167 23.232 7.96999695 23.232L7.24199695 23.232 7.24199695 25 6.06599695 25 6.06599695 19.784zM7.89799695 22.296C8.53800015 22.296 8.85799695 22.0186694 8.85799695 21.464 8.85799695 21.1919986 8.77666443 21.0000006 8.61399695 20.888 8.45132947 20.7759994 8.21266519 20.72 7.89799695 20.72L7.24199695 20.72 7.24199695 22.296 7.89799695 22.296zM10.9139969 19.784L12.3859969 19.784C12.7859989 19.784 13.1459953 19.8346662 13.4659969 19.936 13.7859985 20.0373338 14.0606625 20.1933323 14.2899969 20.404 14.5193314 20.6146677 14.6953297 20.882665 14.8179969 21.208 14.9406642 21.533335 15.0019969 21.9199978 15.0019969 22.368 15.0019969 22.8160022 14.9406642 23.2053317 14.8179969 23.536 14.6953297 23.8666683 14.5219981 24.1399989 14.2979969 24.356 14.0739958 24.5720011 13.8059985 24.7333328 13.4939969 24.84 13.1819954 24.9466672 12.8339989 25 12.4499969 25L10.9139969 25 10.9139969 19.784zM12.3139969 24.048C12.5379981 24.048 12.7406627 24.018667 12.9219969 23.96 13.1033312 23.901333 13.2579963 23.8066673 13.3859969 23.676 13.5139976 23.5453327 13.6139966 23.3733344 13.6859969 23.16 13.7579973 22.9466656 13.7939969 22.6826682 13.7939969 22.368 13.7939969 22.0586651 13.7579973 21.7986677 13.6859969 21.588 13.6139966 21.3773323 13.5139976 21.209334 13.3859969 21.084 13.2579963 20.958666 13.1033312 20.8693336 12.9219969 20.816 12.7406627 20.7626664 12.5379981 20.736 12.3139969 20.736L12.0899969 20.736 12.0899969 24.048 12.3139969 24.048zM15.9939969 19.784L19.2819969 19.784 19.2819969 20.776 17.1699969 20.776 17.1699969 21.984 18.9779969 21.984 18.9779969 22.976 17.1699969 22.976 17.1699969 25 15.9939969 25 15.9939969 19.784z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "h0jr":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("H+Xc");
/* harmony import */ var components_Button_index_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("swni");
/* harmony import */ var components_Button_index_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(components_Button_index_styl__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var components_Button_getHomeLinkHref__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("l0Ix");
/* harmony import */ var components_Button_CozyHomeLinkIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("X/0B");







var CozyHomeLink = function CozyHomeLink(_ref) {
  var from = _ref.from,
      _ref$embedInCozyBar = _ref.embedInCozyBar,
      embedInCozyBar = _ref$embedInCozyBar === void 0 ? false : _ref$embedInCozyBar,
      t = _ref.t,
      size = _ref.size,
      className = _ref.className;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["ButtonLink"], {
    label: t('Share.create-cozy'),
    icon: components_Button_CozyHomeLinkIcon__WEBPACK_IMPORTED_MODULE_5__["default"],
    className: embedInCozyBar ? components_Button_index_styl__WEBPACK_IMPORTED_MODULE_3___default.a['bar-homelink'] : className,
    href: Object(components_Button_getHomeLinkHref__WEBPACK_IMPORTED_MODULE_4__["default"])(from),
    size: size
  });
};

CozyHomeLink.propTypes = {
  from: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  embedInCozyBar: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  size: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(['tiny', 'small', 'large', 'normal'])
};
CozyHomeLink.defaultProps = {
  from: '',
  size: 'normal'
};
/* harmony default export */ __webpack_exports__["default"] = (CozyHomeLink);

/***/ }),

/***/ "hehj":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-audio_e99d441b7729b89692055537e75fa922",
  "use": "icon-type-audio_e99d441b7729b89692055537e75fa922-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-audio_e99d441b7729b89692055537e75fa922\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\">\n    <rect width=\"30\" height=\"30\" fill=\"#ACF6F7\" rx=\"2\" />\n    <path fill=\"#0CCBD0\" d=\"M8,19.9979317 C6.8954305,19.9979317 6,20.8856614 6,21.9979317 L6,21.9979317 C6,23.1025012 6.89826062,23.9979317 7.99791312,23.9979317 L9,23.9979317 C10.6568542,23.9979317 12,22.6487458 12,21.0005269 L12,13.3224852 C12,13.0410046 12.217172,12.7720898 12.4922264,12.7205046 L18.5077736,11.5923149 C18.7796227,11.5413308 19,11.7161978 19,12.0098818 L19,17.4880499 C19,17.7696499 18.7849426,17.9979317 18.5095215,17.9979317 L17,17.9979317 C15.8954305,17.9979317 15,18.9020069 15,19.9947579 L15,19.8159933 C15,20.9188099 15.8982606,21.8128195 16.9979131,21.8128195 L18,21.8128195 C19.6568542,21.8128195 21,20.464451 21,18.8195676 L21,6.99922157 C21,6.44622446 20.555163,6.07881118 20.0238234,6.17541838 L10.9761766,7.82044507 C10.4370492,7.91846824 10,8.45369268 10,9.00040502 L10,19.4975844 C10,19.7739186 9.78494263,19.9979317 9.50952148,19.9979317 L8,19.9979317 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "huNH":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("fvjX");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yEaX");
/* harmony import */ var drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("7oMs");
/* harmony import */ var drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("37ak");
/* harmony import */ var drive_web_modules_drive_rename__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("JZSQ");
/* harmony import */ var drive_web_modules_upload__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("2U19");
/* harmony import */ var drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("iTW1");
/* harmony import */ var react_cozy_helpers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("Yo2A");
/* harmony import */ var drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("cSBT");
/* harmony import */ var drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("NMd3");
/* harmony import */ var drive_mobile_modules_authorization_duck__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("QDdI");
/* harmony import */ var drive_mobile_modules_replication_duck__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("bMkt");


/* global __TARGET__ */



 // TODO: Get rid of this, local state would be better


 // TODO: Move this to his own module/duck?






 // Per Dan Abramov: https://stackoverflow.com/questions/35622588/how-to-reset-the-state-of-a-redux-store/35641992#35641992

var createRootReducer = function createRootReducer(client) {
  var baseReducers = {
    ui: react_cozy_helpers__WEBPACK_IMPORTED_MODULE_8__["default"],
    view: drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_2__["default"],
    filelist: drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_4__["default"],
    upload: drive_web_modules_upload__WEBPACK_IMPORTED_MODULE_6__["default"],
    selection: drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_3__["default"],
    rename: drive_web_modules_drive_rename__WEBPACK_IMPORTED_MODULE_5__["default"],
    availableOffline: drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_7__["default"]
  };
  var mobileReducer = Object(redux__WEBPACK_IMPORTED_MODULE_1__["combineReducers"])({
    authorization: drive_mobile_modules_authorization_duck__WEBPACK_IMPORTED_MODULE_11__["default"],
    settings: drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_9__["default"],
    replication: drive_mobile_modules_replication_duck__WEBPACK_IMPORTED_MODULE_12__["default"],
    mediaBackup: drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_10__["default"]
  });
  var appReducer =  false ? undefined : Object(redux__WEBPACK_IMPORTED_MODULE_1__["combineReducers"])(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, baseReducers, {
    cozy: client.reducer()
  }));

  var rootReducer = function rootReducer(state, action) {
    if (action.type === drive_mobile_modules_authorization_duck__WEBPACK_IMPORTED_MODULE_11__["UNLINK"]) {
      state = undefined;
    }

    return appReducer(state, action);
  };

  return rootReducer;
};

/* harmony default export */ __webpack_exports__["default"] = (createRootReducer);

/***/ }),

/***/ "hz+9":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _Recipient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("MzcY");
/* harmony import */ var _recipient_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("1BUi");
/* harmony import */ var _recipient_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_recipient_styl__WEBPACK_IMPORTED_MODULE_4__);





var MAX_DISPLAYED_RECIPIENTS = 2;

var WhoHasAccessLight = function WhoHasAccessLight(_ref) {
  var recipients = _ref.recipients,
      className = _ref.className;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_recipient_styl__WEBPACK_IMPORTED_MODULE_4___default.a['recipients-list-light'], className)
  }, recipients.slice(0, MAX_DISPLAYED_RECIPIENTS).map(function (recipient, index) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Recipient__WEBPACK_IMPORTED_MODULE_3__["RecipientWithoutStatus"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, recipient, {
      key: "key_recipient__".concat(index)
    }));
  }), recipients.length > MAX_DISPLAYED_RECIPIENTS && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Recipient__WEBPACK_IMPORTED_MODULE_3__["RecipientPlusX"], {
    extraRecipients: recipients.slice(MAX_DISPLAYED_RECIPIENTS)
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (WhoHasAccessLight);

/***/ }),

/***/ "iKCr":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Picker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("/aYq");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _Picker__WEBPACK_IMPORTED_MODULE_0__["default"]; });



/***/ }),

/***/ "iTW1":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAvailableOfflineIds", function() { return getAvailableOfflineIds; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAvailableOffline", function() { return isAvailableOffline; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toggleAvailableOffline", function() { return toggleAvailableOffline; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "openLocalFile", function() { return openLocalFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLocalFileCopyUrl", function() { return getLocalFileCopyUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "openLocalFileCopy", function() { return openLocalFileCopy; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateOfflineFileCopyIfNecessary", function() { return updateOfflineFileCopyIfNecessary; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("1aVK");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("67rm");
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("OTOu");




/* global cozy */




var MAKE_AVAILABLE_OFFLINE = 'MAKE_AVAILABLE_OFFLINE';
var UNDO_MAKE_AVAILABLE_OFFLINE = 'UNDO_MAKE_AVAILABLE_OFFLINE';
/* harmony default export */ __webpack_exports__["default"] = (function () {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {
    case MAKE_AVAILABLE_OFFLINE:
      return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(state), [action.id]);

    case UNDO_MAKE_AVAILABLE_OFFLINE:
      {
        var index = state.indexOf(action.id);
        return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(state.slice(0, index)), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(state.slice(index + 1)));
      }

    default:
      return state;
  }
});

var markAsAvailableOffline = function markAsAvailableOffline(id) {
  return {
    type: MAKE_AVAILABLE_OFFLINE,
    id: id
  };
};

var markAsUnavailableOffline = function markAsUnavailableOffline(id) {
  return {
    type: UNDO_MAKE_AVAILABLE_OFFLINE,
    id: id
  };
};

var getAvailableOfflineIds = function getAvailableOfflineIds(_ref) {
  var availableOffline = _ref.availableOffline;
  return availableOffline;
};
var isAvailableOffline = function isAvailableOffline(_ref2, id) {
  var state = _ref2.availableOffline;
  return Array.isArray(state) && state.indexOf(id) !== -1;
};
var toggleAvailableOffline = function toggleAvailableOffline(file) {
  return (
    /*#__PURE__*/
    function () {
      var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(dispatch, getState) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", isAvailableOffline(getState(), file.id) ? dispatch(forgetDownloadedFile(file)) : dispatch(makeAvailableOffline(file)));

              case 1:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function (_x, _x2) {
        return _ref3.apply(this, arguments);
      };
    }()
  );
};

var forgetDownloadedFile = function forgetDownloadedFile(file) {
  return (
    /*#__PURE__*/
    function () {
      var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(dispatch) {
        var filename;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                filename = file.id;

                if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__["isMobileApp"])() && window.cordova.file) {
                  Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__["deleteOfflineFile"])(filename);
                }

                dispatch(markAsUnavailableOffline(file.id));

              case 3:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2);
      }));

      return function (_x3) {
        return _ref4.apply(this, arguments);
      };
    }()
  );
};

var makeAvailableOffline = function makeAvailableOffline(file) {
  return (
    /*#__PURE__*/
    function () {
      var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(dispatch) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.next = 2;
                return saveOfflineFileCopy(file);

              case 2:
                dispatch(markAsAvailableOffline(file.id));

              case 3:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3);
      }));

      return function (_x4) {
        return _ref5.apply(this, arguments);
      };
    }()
  );
};

var saveOfflineFileCopy =
/*#__PURE__*/
function () {
  var _ref6 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(file) {
    var response, blob, filename;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            if (!(!Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__["isMobileApp"])() || !window.cordova.file)) {
              _context4.next = 2;
              break;
            }

            return _context4.abrupt("return");

          case 2:
            _context4.next = 4;
            return cozy.client.files.downloadById(file.id).catch(function (error) {
              cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].error('mobile.error.make_available_offline.offline');
              throw error;
            });

          case 4:
            response = _context4.sent;
            _context4.next = 7;
            return response.blob();

          case 7:
            blob = _context4.sent;
            filename = file.id;
            Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__["saveFileWithCordova"])(blob, filename);

          case 10:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));

  return function saveOfflineFileCopy(_x5) {
    return _ref6.apply(this, arguments);
  };
}();

var openLocalFile = function openLocalFile(file) {
  return (
    /*#__PURE__*/
    function () {
      var _ref7 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(dispatch, getState) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                if (!isAvailableOffline(getState(), file.id)) {
                  lib_logger__WEBPACK_IMPORTED_MODULE_6__["default"].error('openLocalFile: this file is not available offline');
                }

                Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__["openOfflineFile"])(file).catch(function (error) {
                  lib_logger__WEBPACK_IMPORTED_MODULE_6__["default"].error('openLocalFile', error);
                  cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].error('mobile.error.make_available_offline.noapp');
                });

              case 2:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5);
      }));

      return function (_x6, _x7) {
        return _ref7.apply(this, arguments);
      };
    }()
  );
};
var getLocalFileCopyUrl = function getLocalFileCopyUrl(file) {
  return (
    /*#__PURE__*/
    function () {
      var _ref8 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6(dispatch, getState) {
        var _localFile, response, blob, localFile;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                if (!isAvailableOffline(getState(), file.id)) {
                  _context6.next = 5;
                  break;
                }

                _context6.next = 3;
                return Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__["getNativeFile"])(file);

              case 3:
                _localFile = _context6.sent;
                return _context6.abrupt("return", _localFile.nativeURL);

              case 5:
                _context6.next = 7;
                return cozy.client.files.downloadById(file.id);

              case 7:
                response = _context6.sent;
                _context6.next = 10;
                return response.blob();

              case 10:
                blob = _context6.sent;
                _context6.next = 13;
                return Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__["temporarySave"])(blob, file.name);

              case 13:
                localFile = _context6.sent;
                return _context6.abrupt("return", localFile.nativeURL);

              case 15:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6);
      }));

      return function (_x8, _x9) {
        return _ref8.apply(this, arguments);
      };
    }()
  );
};
var openLocalFileCopy = function openLocalFileCopy(file) {
  return (
    /*#__PURE__*/
    function () {
      var _ref9 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee7(dispatch, getState) {
        var localFile;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                if (!isAvailableOffline(getState(), file.id)) {
                  _context7.next = 2;
                  break;
                }

                return _context7.abrupt("return", Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__["openOfflineFile"])(file));

              case 2:
                _context7.next = 4;
                return Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__["createTemporaryLocalFile"])(file.id, file.name);

              case 4:
                localFile = _context7.sent;
                return _context7.abrupt("return", Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__["openFileWithCordova"])(localFile.nativeURL, file.mime));

              case 6:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7);
      }));

      return function (_x10, _x11) {
        return _ref9.apply(this, arguments);
      };
    }()
  );
};
var updateOfflineFileCopyIfNecessary = function updateOfflineFileCopyIfNecessary(file, prevFile) {
  return (
    /*#__PURE__*/
    function () {
      var _ref10 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee8(_, getState) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                if (!(isAvailableOffline(getState(), file.id) && file.md5sum !== prevFile.md5sum)) {
                  _context8.next = 3;
                  break;
                }

                _context8.next = 3;
                return saveOfflineFileCopy(file);

              case 3:
              case "end":
                return _context8.stop();
            }
          }
        }, _callee8);
      }));

      return function (_x12, _x13) {
        return _ref10.apply(this, arguments);
      };
    }()
  );
};

/***/ }),

/***/ "iTyR":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"Drive","item_recent":"","item_sharings":" ","item_shared":" ","item_activity":"","item_trash":"","item_settings":"","item_collect":"","btn-client":"Get Cozy Drive for desktop","btn-client-web":" Cozy","btn-client-mobile":" Cozy Drive   !","banner-txt-client":"Get Cozy Drive for Desktop and synchronise your files safely to make them accessible at all times.","banner-btn-client":"Download","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Drive","title_recent":"","title_sharings":" ","title_shared":" ","title_activity":"","title_trash":""},"Toolbar":{"more":""},"toolbar":{"item_upload":"","menu_upload":" ","item_more":"","menu_new_folder":" ","menu_select":"","menu_download_folder":" ","menu_download_file":"Download this file","menu_open_cozy":"   Cozy","empty_trash":" ","share":"","trash":"","leave":"     ."},"Share":{"status":{"owner":"","pending":"","ready":"","refused":"","error":"","unregistered":"","mail-not-sent":"","revoked":""},"type":{"one-way":"","two-way":"","desc":{"one-way":"  ,       Cozy.        Cozy,       ,      .","two-way":"  ,        Cozy.       Cozy."}},"locked-type-file":":         .","locked-type-folder":":         .","recipients":{"you":"","accessCount":"%{count}   "},"create-cozy":"  Cozy","members":{"count":"1 member |||| %{smart_count} members","others":" 1  ||||  %{smart_count} ","otherContacts":"  ||||  "},"contacts":{"permissionRequired":{"title":"    Cozy?","desc":"       Cozy:       .","action":" ","success":"     "}}},"Sharings":{"unavailable":{"title":"  !","message":"        ."}},"Files":{"share":{"cta":"","title":"","details":{"title":" ","createdAt":" %{date}","ro":"","rw":"","desc":{"ro":"  ,       Cozy.       ,      .","rw":"  , ,        Cozy.        Cozy."}},"sharedByMe":" ","sharedWithMe":"  .","sharedBy":"  %{name}","shareByLink":{"subtitle":"  ","desc":"         .","creating":"  ...","copy":" ","copied":"   ","failed":"Unable to copy to clipboard"},"shareByEmail":{"subtitle":" email","email":":","emailPlaceholder":"Enter the email address or name of the recipient","send":"","genericSuccess":"   %{count} .","success":"    %{email}.","comingsoon":"!         ,      .  ,        !","onlyByLink":" %{type}     , ..","type":{"file":"","folder":""},"hasSharedParent":"    ","hasSharedChild":"    "},"revoke":{"title":"   ","desc":"   ,      .","success":"       %{email}."},"revokeSelf":{"title":"  ","desc":"  ,       Cozy.","success":"     ."},"sharingLink":{"title":"  ","copy":"","copied":""},"whoHasAccess":{"title":" 1   |||| %{smart_count}   "},"protectedShare":{"title":"!","desc":" -  email     ! "},"close":"","gettingLink":" ...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"","head_update":" ","head_size":"","head_status":"","head_thumbnail_size":"Switch thumbnail size","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":" ()","row_read_write":" (  )","row_size_symbols":{"B":"","KB":"","MB":"","GB":"","TB":"","PB":"","EB":"","ZB":"","YB":""},"load_more":" ","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oldest first","head_updated_at_desc":"","head_size_asc":"Lightest first","head_size_desc":"Heavier first"}},"SelectionBar":{"selected_count":" |||| ","share":"","download":"","trash":"","destroy":" ","rename":"","restore":"","close":"","openWith":" ","moveto":"Move to","phone-download":"Make available offline","qualify":"Categorize"},"deleteconfirmation":{"title":"  ? ||||   ?","trash":"It will be moved to the Trash. |||| They will be moved to the Trash.","restore":"You can still restore it whenever you want. |||| You can still restore them whenever you want.","shared":"The following contacts whom you shared it with will keep a copy but your changes won't be synchronized anymore. |||| The following contacts whom you shared them with will keep a copy but your changes won't be synchronized anymore","referenced":"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.","cancel":"","delete":""},"emptytrashconfirmation":{"title":" ?","forbidden":"You won't be able to access these files anymore.","restore":"You won't be able to restore these files if you didn't make a backup.","cancel":"","delete":" "},"destroyconfirmation":{"title":" ?","forbidden":"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.","restore":"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.","cancel":"","delete":" "},"quotaalert":{"title":"    ;(","desc":"       .","confirm":""},"loading":{"message":""},"empty":{"title":"You dont have any files in this folder.","text":"Click the \"upload\" button to add files to this folder.","trash_title":"You dont have any deleted files.","trash_text":"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."},"error":{"open_folder":"Something went wrong when opening the folder.","button":{"reload":""},"download_file":{"offline":"You should be connected to download this file","missing":"   "}},"Error":{"public_unshared_title":"Sorry, this link is no longer available.","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!"},"alert":{"could_not_open_file":"The file could not be opened","try_again":"An error has occurred, please try again in a moment.","restore_file_success":"The selection has been successfully restored.","trash_file_success":"The selection has been moved to the Trash.","destroy_file_success":"The selection has been deleted permanently.","empty_trash_progress":"Your trash is being emptied. This might take a few moments.","empty_trash_success":"The trash has been emptied.","folder_name":"The element %{folderName} already exists, please choose a new name.","folder_generic":"An error occurred, please try again.","folder_abort":"You need to add a name to your new folder if you would like to save it. Your information has not been saved.","offline":"This feature is not available offline.","preparing":"Preparing your files"},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Create a Cozy or sign in to access Cozy Drive","button":"Sign in","no_account_link":"I don't have a Cozy","create_my_cozy":"Create my Cozy"},"server_selection":{"title":"Sign in","lostpwd":"[I forgot the address of my Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Address of my Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"other","button":"","wrong_address_with_email":"You typed an email address. To connect on your cozy you must type its url, something like https://camillenimbus.mycozy.cloud","wrong_address_v2":"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"This address doesnt seem to be a cozy. Please check the address you provide.","wrong_address_cosy":"Woops, the address is not correct. Try with \"cozy\" with a \"z\"!"},"files":{"title":"Access your drive","description":"In order to save your Cozy Drive on your device, the application must access your files."},"photos":{"title":"Backup your photos and videos","description":"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},"contacts":{"title":"Sync your contacts","description":"Save your phone's contact on your Cozy  this will facilitate sharing files with them."},"step":{"button":"","skip":"","next":""},"analytics":{"title":"  Cozy","description":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},"settings":{"title":"","about":{"title":" ","app_version":"","account":""},"unlink":{"title":"Sign out of your Cozy","description":"By signing out of your Cozy from this device, you will not lose any data in your Cozy. This will remove your offline files from this device related to your Cozy.","button":"Sign out"},"media_backup":{"media_folder":"Photos","backup_folder":"Backed up from my mobile","legacy_backup_folder":"Backuped from my mobile","title":"Media Backup","images":{"title":"Backup images","label":"Backup your images automatically to your Cozy not to ever lose them and share them easily."},"launch":" ","stop":" ","wifi":{"title":"    WiFi ","label":"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},"media_upload":"%{smart_count} remaining picture |||| %{smart_count} remaining pictures","media_uptodate":"Media backup is up-to-date","preparing":"Searching for media to backup...","no_wifi":"Please connect to a WIFI","quota":"Storage limit nearly reached","quota_contact":"Manage your storage space"},"support":{"title":"","analytics":{"title":"Help us improve Cozy","label":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},"feedback":{"title":"Help improve Cozy Drive","description":"Send your feedback to help us improve Cozy Drive. Click on the button below, explain the problem or make a suggestion and send it. You're done!","button":"leave feedback"},"logs":{"title":"Help us to understand your problem","description":"Send the application log to help us improve its quality and stability.","button":"Send my logs","success":"Thanks, we will investigate your problem and contact you soon.","error":"A problem happened, logs couldn't be sent, please try again."}},"contacts":{"title":"","subtitle":" ","text":"Import the contacts from your device to your Cozy to easily share content with them."}},"error":{"open_with":{"offline":"You should be connected to open this file","noapp":"No application can open this file"},"make_available_offline":{"offline":"You should be connected to open this file","noapp":"No application can open this file"}},"revoked":{"title":"Access revoked","description":"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.","loginagain":" ","logout":""},"rating":{"enjoy":{"title":"Enjoying Cozy Drive?","yes":"!","no":" "},"rate":{"title":"Would you mind rating it?","yes":" !","no":", ","later":""},"feedback":{"title":"Would you mind giving us some feedback?","yes":"","no":", "},"email":{"subject":"Feedback on Cozy Drive","placeholder":"Hello, I think Cozy Drive would be better if"},"alert":{"rated":"Thank you! You're ","declined":"Awesome. You will love the upcoming features. Stay Cozy!","later":"No problem, we'll ask again later.","feedback":"Thank you for the feedback. We'll definitely work on it!"}},"first_sync":{"title":"You are about to start your first photos back up ","tips":"Tips","tip_bed":"Open Cozy Drive before you go to bed or when you don't use your phone.","tip_wifi":"Enable Wi-Fi to preserve your data.","tip_lock":"Disable your lock screen.","result":"In the morning, all your photos will be stored in a safe and secure location.","button":"Got it!"},"notifications":{"backup_paused":"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},"upload":{"alert":{"success":"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.","success_conflicts":"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} file uploaded and %{updatedCount} updated. |||| %{smart_count} files uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} file uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} files uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} file updated. |||| %{smart_count} files updated.","updated_conflicts":"%{smart_count} file updated with %{conflictCount} conflict(s). |||| %{smart_count} files updated with %{conflictCount} conflict(s).","errors":"Errors occurred during the file upload.","network":"You are currenly offline. Please try again once you're connected."}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Uploaded %{done} out of %{total} successfully","close":"","item":{"pending":"Pending"}},"Viewer":{"close":"Close","noviewer":{"download":"Download this file","openWith":"Open with...","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":"Download"},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":"Retry"},"error":{"noapp":"No application found to handle this file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You're currently offline."}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it's original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it's original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back."},"FileOpenerExternal":{"fileNotFoundError":"Error: file not found"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"You are currently offline and you can't use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}}};

/***/ }),

/***/ "j70F":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("yEaX");










var URLGetter =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(URLGetter, _React$Component);

  function URLGetter() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, URLGetter);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(URLGetter).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(URLGetter, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.getURL();
    }
  }, {
    key: "getURL",
    value: function () {
      var _getURL = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var service, _service$getData, id, url;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                service = this.props.service;
                _context.prev = 1;
                _service$getData = service.getData(), id = _service$getData.id;
                _context.next = 5;
                return Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_8__["getFileDownloadUrl"])(id);

              case 5:
                url = _context.sent;
                service.terminate({
                  url: url
                });
                _context.next = 12;
                break;

              case 9:
                _context.prev = 9;
                _context.t0 = _context["catch"](1);
                service.throw(_context.t0);

              case 12:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[1, 9]]);
      }));

      function getURL() {
        return _getURL.apply(this, arguments);
      }

      return getURL;
    }()
  }]);

  return URLGetter;
}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (URLGetter);

/***/ }),

/***/ "jJwP":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EMPTY_TRASH", function() { return EMPTY_TRASH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EMPTY_TRASH_SUCCESS", function() { return EMPTY_TRASH_SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EMPTY_TRASH_FAILURE", function() { return EMPTY_TRASH_FAILURE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RESTORE_FILES", function() { return RESTORE_FILES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RESTORE_FILES_SUCCESS", function() { return RESTORE_FILES_SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RESTORE_FILES_FAILURE", function() { return RESTORE_FILES_FAILURE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DESTROY_FILES", function() { return DESTROY_FILES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DESTROY_FILES_SUCCESS", function() { return DESTROY_FILES_SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DESTROY_FILES_FAILURE", function() { return DESTROY_FILES_FAILURE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPEN_FOLDER_FROM_TRASH", function() { return OPEN_FOLDER_FROM_TRASH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPEN_FOLDER_FROM_TRASH_SUCCESS", function() { return OPEN_FOLDER_FROM_TRASH_SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPEN_FOLDER_FROM_TRASH_FAILURE", function() { return OPEN_FOLDER_FROM_TRASH_FAILURE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "emptyTrash", function() { return emptyTrash; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "restoreFiles", function() { return restoreFiles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "destroyFiles", function() { return destroyFiles; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("67rm");



/* global cozy */

var EMPTY_TRASH = 'EMPTY_TRASH';
var EMPTY_TRASH_SUCCESS = 'EMPTY_TRASH_SUCCESS';
var EMPTY_TRASH_FAILURE = 'EMPTY_TRASH_FAILURE';
var RESTORE_FILES = 'RESTORE_FILES';
var RESTORE_FILES_SUCCESS = 'RESTORE_FILES_SUCCESS';
var RESTORE_FILES_FAILURE = 'RESTORE_FILES_FAILURE';
var DESTROY_FILES = 'DESTROY_FILES';
var DESTROY_FILES_SUCCESS = 'DESTROY_FILES_SUCCESS';
var DESTROY_FILES_FAILURE = 'DESTROY_FILES_FAILURE';
var OPEN_FOLDER_FROM_TRASH = 'OPEN_FOLDER_FROM_TRASH';
var OPEN_FOLDER_FROM_TRASH_SUCCESS = 'OPEN_FOLDER_FROM_TRASH_SUCCESS';
var OPEN_FOLDER_FROM_TRASH_FAILURE = 'OPEN_FOLDER_FROM_TRASH_FAILURE';
var emptyTrash = function emptyTrash() {
  return (
    /*#__PURE__*/
    function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(dispatch) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_2__["default"].info('alert.empty_trash_progress');
                dispatch({
                  type: EMPTY_TRASH
                });
                _context.prev = 2;
                _context.next = 5;
                return cozy.client.files.clearTrash();

              case 5:
                _context.next = 11;
                break;

              case 7:
                _context.prev = 7;
                _context.t0 = _context["catch"](2);
                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_2__["default"].error('alert.try_again');
                return _context.abrupt("return", dispatch({
                  type: EMPTY_TRASH_FAILURE
                }));

              case 11:
                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_2__["default"].info('alert.empty_trash_success');
                return _context.abrupt("return", dispatch({
                  type: EMPTY_TRASH_SUCCESS
                }));

              case 13:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[2, 7]]);
      }));

      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }()
  );
};
var META_DEFAULTS = {
  cancelSelection: true,
  hideActionMenu: true
};
var restoreFiles = function restoreFiles(files) {
  return (
    /*#__PURE__*/
    function () {
      var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(dispatch) {
        var meta, restored, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, file;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                meta = META_DEFAULTS;
                dispatch({
                  type: RESTORE_FILES,
                  files: files
                });
                restored = [];
                _context2.prev = 3;
                _iteratorNormalCompletion = true;
                _didIteratorError = false;
                _iteratorError = undefined;
                _context2.prev = 7;
                _iterator = files[Symbol.iterator]();

              case 9:
                if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
                  _context2.next = 19;
                  break;
                }

                file = _step.value;
                _context2.t0 = restored;
                _context2.next = 14;
                return cozy.client.files.restoreById(file.id);

              case 14:
                _context2.t1 = _context2.sent;

                _context2.t0.push.call(_context2.t0, _context2.t1);

              case 16:
                _iteratorNormalCompletion = true;
                _context2.next = 9;
                break;

              case 19:
                _context2.next = 25;
                break;

              case 21:
                _context2.prev = 21;
                _context2.t2 = _context2["catch"](7);
                _didIteratorError = true;
                _iteratorError = _context2.t2;

              case 25:
                _context2.prev = 25;
                _context2.prev = 26;

                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }

              case 28:
                _context2.prev = 28;

                if (!_didIteratorError) {
                  _context2.next = 31;
                  break;
                }

                throw _iteratorError;

              case 31:
                return _context2.finish(28);

              case 32:
                return _context2.finish(25);

              case 33:
                _context2.next = 39;
                break;

              case 35:
                _context2.prev = 35;
                _context2.t3 = _context2["catch"](3);
                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_2__["default"].error('alert.try_again');
                return _context2.abrupt("return", dispatch({
                  type: RESTORE_FILES_FAILURE,
                  meta: meta
                }));

              case 39:
                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_2__["default"].info('alert.restore_file_success');
                return _context2.abrupt("return", dispatch({
                  type: RESTORE_FILES_SUCCESS,
                  ids: files.map(function (f) {
                    return f.id;
                  }),
                  meta: meta
                }));

              case 41:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, null, [[3, 35], [7, 21, 25, 33], [26,, 28, 32]]);
      }));

      return function (_x2) {
        return _ref2.apply(this, arguments);
      };
    }()
  );
};
var destroyFiles = function destroyFiles(files) {
  return (
    /*#__PURE__*/
    function () {
      var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(dispatch) {
        var meta, trashed, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, file;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                meta = META_DEFAULTS;
                dispatch({
                  type: DESTROY_FILES,
                  files: files
                });
                trashed = [];
                _context3.prev = 3;
                _iteratorNormalCompletion2 = true;
                _didIteratorError2 = false;
                _iteratorError2 = undefined;
                _context3.prev = 7;
                _iterator2 = files[Symbol.iterator]();

              case 9:
                if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {
                  _context3.next = 19;
                  break;
                }

                file = _step2.value;
                _context3.t0 = trashed;
                _context3.next = 14;
                return cozy.client.files.destroyById(file.id);

              case 14:
                _context3.t1 = _context3.sent;

                _context3.t0.push.call(_context3.t0, _context3.t1);

              case 16:
                _iteratorNormalCompletion2 = true;
                _context3.next = 9;
                break;

              case 19:
                _context3.next = 25;
                break;

              case 21:
                _context3.prev = 21;
                _context3.t2 = _context3["catch"](7);
                _didIteratorError2 = true;
                _iteratorError2 = _context3.t2;

              case 25:
                _context3.prev = 25;
                _context3.prev = 26;

                if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
                  _iterator2.return();
                }

              case 28:
                _context3.prev = 28;

                if (!_didIteratorError2) {
                  _context3.next = 31;
                  break;
                }

                throw _iteratorError2;

              case 31:
                return _context3.finish(28);

              case 32:
                return _context3.finish(25);

              case 33:
                _context3.next = 39;
                break;

              case 35:
                _context3.prev = 35;
                _context3.t3 = _context3["catch"](3);
                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_2__["default"].error('alert.try_again');
                return _context3.abrupt("return", dispatch({
                  type: DESTROY_FILES_FAILURE,
                  meta: meta
                }));

              case 39:
                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_2__["default"].info('alert.destroy_file_success');
                return _context3.abrupt("return", dispatch({
                  type: DESTROY_FILES_SUCCESS,
                  ids: files.map(function (f) {
                    return f.id;
                  }),
                  meta: meta
                }));

              case 41:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, null, [[3, 35], [7, 21, 25, 33], [26,, 28, 32]]);
      }));

      return function (_x3) {
        return _ref3.apply(this, arguments);
      };
    }()
  );
};

/***/ }),

/***/ "jrFr":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"share-modal-content":"share-modal-content--1SlxN","coz-form":"coz-form--2jtJC","coz-form-group":"coz-form-group--1bFva","coz-form-desc":"coz-form-desc--JrEED","coz-form-label":"coz-form-label--3Zm6p","coz-form-label--error":"coz-form-label--error--2KzmX","coz-form-errors":"coz-form-errors--1nNWc","coz-form-controls":"coz-form-controls--1RJGg","coz-form-controls--full":"coz-form-controls--full--2-y4G","coz-form-controls--dispatch":"coz-form-controls--dispatch--2TjNA","error":"error--3q85L","permission-required-popin":"permission-required-popin--3ZT7U","divider":"divider--3ACWO","share-bylink-header":"share-bylink-header--2919D","share-bylink-header-dot":"share-bylink-header-dot--1TAFX","share-bylink-header-creating":"share-bylink-header-creating--2F2Df","share-bylink-header-copybtn":"share-bylink-header-copybtn--397lg","share-bylink-desc":"share-bylink-desc--2lsfE","share-byemail-onlybylink":"share-byemail-onlybylink--3A-9J","share-moral-override-bottom":"share-moral-override-bottom--1I3dU","share-modal-secondary":"share-modal-secondary--3Y04a","share-modal-margins":"share-modal-margins--yhQBn","share-modal-separator":"share-modal-separator--JJuRH","share-type-control":"share-type-control--3IS3y","select-wrapper":"select-wrapper--3vfxZ","select-option":"select-option--O5o86","select-option-label":"select-option-label--314tl","select-option-desc":"select-option-desc--1JNRs","input-dual":"input-dual--1iSDa","btn-copy":"btn-copy--1_EQX","permission-required-popin-close":"permission-required-popin-close--wbc77","permission-required-popin-accept":"permission-required-popin-accept--3gyRJ","share-details-created":"share-details-created--3qeE6","share-details-perm":"share-details-perm--1bWoi","share-details-perm-desc":"share-details-perm-desc--2uJr3","spin":"spin--260Kl","shake":"shake--2b0j3"};

/***/ }),

/***/ "kF+x":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"","item_recent":"","item_sharings":"Sharings","item_shared":"Shared by me","item_activity":"","item_trash":"Trash","item_settings":"","item_collect":"Administrative","btn-client":"Get Cozy Drive for desktop","btn-client-web":"  ","btn-client-mobile":"     !","banner-txt-client":"Get Cozy Drive for Desktop and synchronise your files safely to make them accessible at all times.","banner-btn-client":"Download","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"","title_recent":"","title_sharings":"Sharings","title_shared":" ","title_activity":"","title_trash":"Trash"},"Toolbar":{"more":""},"toolbar":{"item_upload":"","menu_upload":" ","item_more":"","menu_new_folder":" ","menu_select":" ","menu_download_folder":" ","menu_download_file":"Download this file","menu_open_cozy":"Open in my Cozy","empty_trash":"Empty trash","share":"","trash":"Remove","leave":"Leave shared folder & delete it"},"Share":{"status":{"owner":"Owner","pending":"","ready":"Accepted","refused":"Refused","error":"","unregistered":"","mail-not-sent":"Pending","revoked":""},"type":{"one-way":"Can View","two-way":"Can Change","desc":{"one-way":"Contacts can view, download, and add the content to their Cozy. If they add the content to their Cozy, they will get updates you make to the content, but they won't be able to update it.","two-way":"Contacts can update, delete and add the content to their Cozy. Updates on the content will be seen on other Cozies."}},"locked-type-file":"Coming soon: you will be able to change permissions you grant on the file.","locked-type-folder":"Coming soon: you will be able to change permissions you grant on the folder.","recipients":{"you":"You","accessCount":"%{count} people have access"},"create-cozy":"Create my cozy","members":{"count":"1 member |||| %{smart_count} members","others":"and 1 other |||| and %{smart_count} others","otherContacts":"other contact |||| other contacts"},"contacts":{"permissionRequired":{"title":"Save your contacts in your Cozy?","desc":"Authorize the application to access to your Cozy's contacts: you'll be able to select them next time.","action":"Authorize access","success":"The application has access to your contacts"}}},"Sharings":{"unavailable":{"title":"Switch online!","message":"An internet connection is needed to display the list of your last sharings."}},"Files":{"share":{"cta":"","title":"Share","details":{"title":" ","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Cozy. You will get updates by the owner, but you won't be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Cozy. Updates you make will be seen on other Cozies."}},"sharedByMe":"Shared by me","sharedWithMe":" ","sharedBy":"Shared by %{name}","shareByLink":{"subtitle":"By public link","desc":"Anyone with the provided link can see and download your files.","creating":"Creating your link...","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard"},"shareByEmail":{"subtitle":"  ","email":" :","emailPlaceholder":"Enter the email address or name of the recipient","send":"","genericSuccess":"You sent an invite to %{count} contacts.","success":"You sent an invite to %{email}.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won't be synchrnoized anymore.","success":"You removed this shared file from %{email}."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won't be updated between your Cozy anymore.","success":"You were removed from this sharing."},"sharingLink":{"title":" ","copy":"","copied":" "},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":" !","desc":"Share anything by email with your family and friends!"},"close":"","gettingLink":"   ","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"","head_update":" ","head_size":"","head_status":"Status","head_thumbnail_size":"Switch thumbnail size","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":"Share (Read only)","row_read_write":"Share (Read & Write)","row_size_symbols":{"B":"","KB":"","MB":"","GB":"","TB":"","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":" ","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oldest first","head_updated_at_desc":"Most recent first","head_size_asc":"Lightest first","head_size_desc":"Heavier first"}},"SelectionBar":{"selected_count":"item selected |||| items selected","share":"","download":"","trash":"","destroy":"Delete permanently","rename":" ","restore":"","close":"","openWith":" ","moveto":"Move to","phone-download":"Make available offline","qualify":"Categorize"},"deleteconfirmation":{"title":"Delete this element? |||| Delete these elements?","trash":"It will be moved to the Trash. |||| They will be moved to the Trash.","restore":"You can still restore it whenever you want. |||| You can still restore them whenever you want.","shared":"The following contacts whom you shared it with will keep a copy but your changes won't be synchronized anymore. |||| The following contacts whom you shared them with will keep a copy but your changes won't be synchronized anymore","referenced":"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.","cancel":"","delete":""},"emptytrashconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access these files anymore.","restore":"You won't be able to restore these files if you didn't make a backup.","cancel":"","delete":" "},"destroyconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.","restore":"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.","cancel":"","delete":"Delete permanently"},"quotaalert":{"title":"Your disk space is full :(","desc":" Please remove files and empty your trash before uploading files again.","confirm":""},"loading":{"message":""},"empty":{"title":"You dont have any files in this folder.","text":"Click the \"upload\" button to add files to this folder.","trash_title":"You dont have any deleted files.","trash_text":"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."},"error":{"open_folder":"Something went wrong when opening the folder.","button":{"reload":"Refresh now"},"download_file":{"offline":"      ","missing":"  "}},"Error":{"public_unshared_title":"Sorry, this link is no longer available.","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!"},"alert":{"could_not_open_file":"    ","try_again":"An error has occurred, please try again in a moment.","restore_file_success":"The selection has been successfully restored.","trash_file_success":"The selection has been moved to the Trash.","destroy_file_success":"The selection has been deleted permanently.","empty_trash_progress":"Your trash is being emptied. This might take a few moments.","empty_trash_success":"The trash has been emptied.","folder_name":"The element %{folderName} already exists, please choose a new name.","folder_generic":"An error occurred, please try again.","folder_abort":"You need to add a name to your new folder if you would like to save it. Your information has not been saved.","offline":"This feature is not available offline.","preparing":"Preparing your files"},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Create a Cozy or sign in to access Cozy Drive","button":"Sign in","no_account_link":"I don't have a Cozy","create_my_cozy":"Create my Cozy"},"server_selection":{"title":"Sign in","lostpwd":"[I forgot the address of my Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Address of my Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"other","button":"","wrong_address_with_email":"You typed an email address. To connect on your cozy you must type its url, something like https://camillenimbus.mycozy.cloud","wrong_address_v2":"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"        .    .","wrong_address_cosy":"Woops, the address is not correct. Try with \"cozy\" with a \"z\"!"},"files":{"title":"Access your drive","description":"In order to save your Cozy Drive on your device, the application must access your files."},"photos":{"title":"    ","description":"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},"contacts":{"title":"    ","description":"Save your phone's contact on your Cozy  this will facilitate sharing files with them."},"step":{"button":" ","skip":"","next":""},"analytics":{"title":"   ","description":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},"settings":{"title":"","about":{"title":" ","app_version":" ","account":""},"unlink":{"title":"Sign out of your Cozy","description":"By signing out of your Cozy from this device, you will not lose any data in your Cozy. This will remove your offline files from this device related to your Cozy.","button":"Sign out"},"media_backup":{"media_folder":"Photos","backup_folder":"Backed up from my mobile","legacy_backup_folder":"Backuped from my mobile","title":"  ","images":{"title":"  ","label":"Backup your images automatically to your Cozy not to ever lose them and share them easily."},"launch":"  ","stop":"  ","wifi":{"title":"     ","label":"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},"media_upload":"%{smart_count} remaining picture |||| %{smart_count} remaining pictures","media_uptodate":"Media backup is up-to-date","preparing":"Searching for media to backup...","no_wifi":"    ","quota":"Storage limit nearly reached","quota_contact":"Manage your storage space"},"support":{"title":"","analytics":{"title":"   ","label":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},"feedback":{"title":"   Cozy Drive","description":"Send your feedback to help us improve Cozy Drive. Click on the button below, explain the problem or make a suggestion and send it. You're done!","button":"leave feedback"},"logs":{"title":"Help us to understand your problem","description":"Send the application log to help us improve its quality and stability.","button":"Send my logs","success":"Thanks, we will investigate your problem and contact you soon.","error":"A problem happened, logs couldn't be sent, please try again."}},"contacts":{"title":" ","subtitle":"  ","text":"Import the contacts from your device to your Cozy to easily share content with them."}},"error":{"open_with":{"offline":"You should be connected to open this file","noapp":"       "},"make_available_offline":{"offline":"You should be connected to open this file","noapp":"No application can open this file"}},"revoked":{"title":"Access revoked","description":"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.","loginagain":"Log in again","logout":""},"rating":{"enjoy":{"title":"     ","yes":" !","no":"Not really"},"rate":{"title":"Would you mind rating it?","yes":"  !","no":" ","later":" "},"feedback":{"title":"Would you mind giving us some feedback?","yes":"","no":" "},"email":{"subject":"     ","placeholder":"Hello, I think Cozy Drive would be better if"},"alert":{"rated":" !  ","declined":"Awesome. You will love the upcoming features. Stay Cozy!","later":"No problem, we'll ask again later.","feedback":"Thank you for the feedback. We'll definitely work on it!"}},"first_sync":{"title":"You are about to start your first photos back up ","tips":"","tip_bed":"Open Cozy Drive before you go to bed or when you don't use your phone.","tip_wifi":"Enable Wi-Fi to preserve your data.","tip_lock":"Disable your lock screen.","result":"In the morning, all your photos will be stored in a safe and secure location.","button":" !"},"notifications":{"backup_paused":"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},"upload":{"alert":{"success":"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.","success_conflicts":"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} file uploaded and %{updatedCount} updated. |||| %{smart_count} files uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} file uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} files uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} file updated. |||| %{smart_count} files updated.","updated_conflicts":"%{smart_count} file updated with %{conflictCount} conflict(s). |||| %{smart_count} files updated with %{conflictCount} conflict(s).","errors":"       .","network":"You are currenly offline. Please try again once you're connected."}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Uploaded %{done} out of %{total} successfully","close":"","item":{"pending":""}},"Viewer":{"close":"","noviewer":{"download":"  ","openWith":"Open with...","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":""},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":" "},"error":{"noapp":"No application found to handle this file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You're currently offline."}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it's original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it's original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back."},"FileOpenerExternal":{"fileNotFoundError":"Error: file not found"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"You are currently offline and you can't use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}}};

/***/ }),

/***/ "kOwV":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("i8i4");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("buk/");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("Z7XG");
/* harmony import */ var _File__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("d9dq");
/* harmony import */ var drive_web_modules_filelist_FilePlaceholder__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("xeQG");
/* harmony import */ var drive_web_modules_filelist_LoadMore__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("0uru");


















__webpack_require__("Wr5T"); // polyfill for safari


var FileListRows =
/*#__PURE__*/
function (_PureComponent) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(FileListRows, _PureComponent);

  function FileListRows(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, FileListRows);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(FileListRows).call(this, props));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "state", {
      isLoading: false,
      hasNoMoreRows: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "intersectionObserver", null);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "loadMoreElement", null);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "checkIntersectionsEntries", function (intersectionEntries) {
      if (intersectionEntries.filter(function (entry) {
        return entry.isIntersecting;
      }).length > 0) {
        if (!_this.state.isLoading) _this.loadMoreRows(drive_constants_config__WEBPACK_IMPORTED_MODULE_13__["FILES_FETCH_LIMIT"]);
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "updateLoadMoreElement", function (element) {
      if (_this.loadMoreElement) {
        _this.intersectionObserver.unobserve(_this.loadMoreElement);
      }

      if (element) {
        // eslint-disable-next-line react/no-find-dom-node
        _this.loadMoreElement = react_dom__WEBPACK_IMPORTED_MODULE_9___default.a.findDOMNode(element);

        _this.intersectionObserver.observe(_this.loadMoreElement);
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "loadMoreRows", function (limit) {
      _this.setState(function (state) {
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
          isLoading: true
        });
      });

      var skip = _this.props.files.length;

      _this.props.fetchMoreFiles(_this.props.displayedFolder.id, skip, limit).then(function (resp) {
        _this.setState(function (state) {
          return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
            isLoading: false,
            // if we get less files than the limit, there should be no more files to load
            hasNoMoreRows: resp.files.length < drive_constants_config__WEBPACK_IMPORTED_MODULE_13__["FILES_FETCH_LIMIT"]
          });
        });
      }).catch(function () {
        _this.setState(function (state) {
          return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
            isLoading: false
          });
        });
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "rowRenderer", function (_ref) {
      var index = _ref.index,
          key = _ref.key;
      var _this$props = _this.props,
          displayedFolder = _this$props.displayedFolder,
          fileActions = _this$props.fileActions,
          onFolderOpen = _this$props.onFolderOpen,
          onFileOpen = _this$props.onFileOpen,
          withSelectionCheckbox = _this$props.withSelectionCheckbox,
          withFilePath = _this$props.withFilePath,
          _this$props$withShare = _this$props.withSharedBadge,
          withSharedBadge = _this$props$withShare === void 0 ? true : _this$props$withShare,
          isRenaming = _this$props.isRenaming,
          renamingFile = _this$props.renamingFile;
      var file = _this.props.files[index];

      if (!file) {
        return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(drive_web_modules_filelist_FilePlaceholder__WEBPACK_IMPORTED_MODULE_15__["default"], {
          key: key
        });
      }

      var isFileRenaming = isRenaming && renamingFile && renamingFile.id === file.id;
      return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_File__WEBPACK_IMPORTED_MODULE_14__["default"], {
        key: key,
        attributes: file,
        displayedFolder: displayedFolder,
        actions: fileActions,
        isRenaming: isFileRenaming,
        onFolderOpen: onFolderOpen,
        onFileOpen: onFileOpen,
        withSelectionCheckbox: withSelectionCheckbox,
        withFilePath: withFilePath,
        withSharedBadge: withSharedBadge
      });
    });

    _this.myFilesListRowsContainer = react__WEBPACK_IMPORTED_MODULE_8___default.a.createRef();
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(FileListRows, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.myFilesListRowsContainer.current.scrollTop = 0;
    }
  }, {
    key: "componentWillMount",
    value: function componentWillMount() {
      this.intersectionObserver = new IntersectionObserver(this.checkIntersectionsEntries);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.intersectionObserver.disconnect();
    }
  }, {
    key: "shouldDisplayLoadMore",
    value: function shouldDisplayLoadMore() {
      if (!this.props.displayedFolder) return false;

      if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_12__["isMobileApp"])()) {
        if (this.props.files.length < drive_constants_config__WEBPACK_IMPORTED_MODULE_13__["FILES_FETCH_LIMIT"]) return false; // We're in /recent

        return !this.state.hasNoMoreRows;
      }

      return this.props.files.length < this.props.fileCount;
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
        ref: this.myFilesListRowsContainer
      }, this.props.files.map(function (file, index) {
        return _this2.rowRenderer({
          index: index,
          key: file.id
        });
      }), this.shouldDisplayLoadMore() && react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(drive_web_modules_filelist_LoadMore__WEBPACK_IMPORTED_MODULE_16__["default"], {
        ref: this.updateLoadMoreElement,
        onClick: function onClick() {
          _this2.loadMoreRows(drive_constants_config__WEBPACK_IMPORTED_MODULE_13__["FILES_FETCH_LIMIT"]);
        },
        isLoading: this.state.isLoading
      }));
    }
  }]);

  return FileListRows;
}(react__WEBPACK_IMPORTED_MODULE_8__["PureComponent"]);

FileListRows.propTypes = {
  files: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.array,
  fileCount: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number,
  fetchMoreFiles: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
  displayedFolder: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object,
  fileActions: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object,
  onFolderOpen: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
  onFileOpen: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
  withSelectionCheckbox: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool,
  withFilePath: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool,
  withSharedBadge: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool,
  isRenaming: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool,
  renamingFile: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_11__["translate"])()(FileListRows));

/***/ }),

/***/ "koyB":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"Drive","item_recent":"Recent","item_sharings":"Sharings","item_shared":"Shared by me","item_activity":"Activity","item_trash":"Trash","item_settings":"Settings","item_collect":"Administrative","btn-client":"Get Cozy Drive for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Get Cozy Drive for Desktop and synchronise your files safely to make them accessible at all times.","banner-btn-client":"Download","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Drive","title_recent":"Recent","title_sharings":"Sharings","title_shared":"Shared by me","title_activity":"Activity","title_trash":"Trash"},"Toolbar":{"more":"More"},"toolbar":{"item_upload":"Upload","menu_upload":"Upload files","item_more":"More","menu_new_folder":"New folder","menu_select":"Select items","menu_download_folder":"Download folder","menu_download_file":"Download this file","menu_open_cozy":"Open in my Cozy","empty_trash":"Empty trash","share":"Share","trash":"Remove","leave":"Leave shared folder & delete it"},"Share":{"status":{"owner":"Owner","pending":"Pending","ready":"Accepted","refused":"Refused","error":"Error","unregistered":"Error","mail-not-sent":"Pending","revoked":"Error"},"type":{"one-way":"Can View","two-way":"Can Change","desc":{"one-way":"Contacts can view, download, and add the content to their Cozy. If they add the content to their Cozy, they will get updates you make to the content, but they won't be able to update it.","two-way":"Contacts can update, delete and add the content to their Cozy. Updates on the content will be seen on other Cozies."}},"locked-type-file":"Coming soon: you will be able to change permissions you grant on the file.","locked-type-folder":"Coming soon: you will be able to change permissions you grant on the folder.","recipients":{"you":"You","accessCount":"%{count} people have access"},"create-cozy":"Create my cozy","members":{"count":"1 member |||| %{smart_count} members","others":"and 1 other |||| and %{smart_count} others","otherContacts":"other contact |||| other contacts"},"contacts":{"permissionRequired":{"title":"Save your contacts in your Cozy?","desc":"Authorize the application to access to your Cozy's contacts: you'll be able to select them next time.","action":"Authorize access","success":"The application has access to your contacts"}}},"Sharings":{"unavailable":{"title":"Switch online!","message":"An internet connection is needed to display the list of your last sharings."}},"Files":{"share":{"cta":"Share","title":"Share","details":{"title":"Sharing details","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Cozy. You will get updates by the owner, but you won't be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Cozy. Updates you make will be seen on other Cozies."}},"sharedByMe":"Shared by me","sharedWithMe":"Shared with me","sharedBy":"Shared by %{name}","shareByLink":{"subtitle":"By public link","desc":"Anyone with the provided link can see and download your files.","creating":"Creating your link...","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard"},"shareByEmail":{"subtitle":"By email","email":"To:","emailPlaceholder":"Enter the email address or name of the recipient","send":"Send","genericSuccess":"You sent an invite to %{count} contacts.","success":"You sent an invite to %{email}.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won't be synchrnoized anymore.","success":"You removed this shared file from %{email}."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won't be updated between your Cozy anymore.","success":"You were removed from this sharing."},"sharingLink":{"title":"Link to share","copy":"Copy","copied":"Copied"},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Close","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"Name","head_update":"Last update","head_size":"Size","head_status":"Status","head_thumbnail_size":"Switch thumbnail size","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":"Share (Read only)","row_read_write":"Share (Read & Write)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"Load More","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oldest first","head_updated_at_desc":"Most recent first","head_size_asc":"Lightest first","head_size_desc":"Heavier first"}},"SelectionBar":{"selected_count":"item selected |||| items selected","share":"Share","download":"Download","trash":"Remove","destroy":"Delete permanently","rename":"Rename","restore":"Restore","close":"Close","openWith":"Open with","moveto":"Move to","phone-download":"Make available offline","qualify":"Categorize"},"deleteconfirmation":{"title":"Delete this element? |||| Delete these elements?","trash":"It will be moved to the Trash. |||| They will be moved to the Trash.","restore":"You can still restore it whenever you want. |||| You can still restore them whenever you want.","shared":"The following contacts whom you shared it with will keep a copy but your changes won't be synchronized anymore. |||| The following contacts whom you shared them with will keep a copy but your changes won't be synchronized anymore","referenced":"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.","cancel":"Cancel","delete":"Remove"},"emptytrashconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access these files anymore.","restore":"You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete all"},"destroyconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.","restore":"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete permanently"},"quotaalert":{"title":"Your disk space is full :(","desc":"Please remove files, empty your trash or increase your disk space before uploading files again.","confirm":"OK","increase":"Increase your disk space"},"loading":{"message":"Loading"},"empty":{"title":"You dont have any files in this folder.","text":"Click the \"upload\" button to add files to this folder.","trash_title":"You dont have any deleted files.","trash_text":"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."},"error":{"open_folder":"Something went wrong when opening the folder.","button":{"reload":"Refresh now"},"download_file":{"offline":"You should be connected to download this file","missing":"This file is missing"}},"Error":{"public_unshared_title":"Sorry, this link is no longer available.","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!"},"alert":{"could_not_open_file":"The file could not be opened","try_again":"An error has occurred, please try again in a moment.","restore_file_success":"The selection has been successfully restored.","trash_file_success":"The selection has been moved to the Trash.","destroy_file_success":"The selection has been deleted permanently.","empty_trash_progress":"Your trash is being emptied. This might take a few moments.","empty_trash_success":"The trash has been emptied.","folder_name":"The element %{folderName} already exists, please choose a new name.","folder_generic":"An error occurred, please try again.","folder_abort":"You need to add a name to your new folder if you would like to save it. Your information has not been saved.","offline":"This feature is not available offline.","preparing":"Preparing your files"},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Create a Cozy or sign in to access Cozy Drive","button":"Sign in","no_account_link":"I don't have a Cozy","create_my_cozy":"Create my Cozy"},"server_selection":{"title":"Sign in","lostpwd":"[I forgot the address of my Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Address of my Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"other","button":"Next","wrong_address_with_email":"You typed an email address. To connect on your cozy you must type its url, something like https://camillenimbus.mycozy.cloud","wrong_address_v2":"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"This address doesnt seem to be a cozy. Please check the address you provide.","wrong_address_cosy":"Woops, the address is not correct. Try with \"cozy\" with a \"z\"!"},"files":{"title":"Access your drive","description":"In order to save your Cozy Drive on your device, the application must access your files."},"photos":{"title":"Backup your photos and videos","description":"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},"contacts":{"title":"Sync your contacts","description":"Save your phone's contact on your Cozy  this will facilitate sharing files with them."},"step":{"button":"Enable now","skip":"Later","next":"Next"},"analytics":{"title":"Help us improve Cozy","description":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},"settings":{"title":"Settings","about":{"title":"About","app_version":"App Version","account":"Account"},"unlink":{"title":"Sign out of your Cozy","description":"By signing out of your Cozy from this device, you will not lose any data in your Cozy. This will remove your offline files from this device related to your Cozy.","button":"Sign out"},"media_backup":{"media_folder":"Photos","backup_folder":"Backed up from my mobile","legacy_backup_folder":"Backuped from my mobile","title":"Media Backup","images":{"title":"Backup images","label":"Backup your images automatically to your Cozy not to ever lose them and share them easily."},"launch":"Launch Backup","stop":"Stop Backup","wifi":{"title":"Backup on WIFI only","label":"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},"media_upload":"%{smart_count} remaining picture |||| %{smart_count} remaining pictures","media_uptodate":"Media backup is up-to-date","preparing":"Searching for media to backup...","no_wifi":"Please connect to a WIFI","quota":"Storage limit nearly reached","quota_contact":"Manage your storage space"},"support":{"title":"Support","analytics":{"title":"Help us improve Cozy","label":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},"feedback":{"title":"Help improve Cozy Drive","description":"Send your feedback to help us improve Cozy Drive. Click on the button below, explain the problem or make a suggestion and send it. You're done!","button":"leave feedback"},"logs":{"title":"Help us to understand your problem","description":"Send the application log to help us improve its quality and stability.","button":"Send my logs","success":"Thanks, we will investigate your problem and contact you soon.","error":"A problem happened, logs couldn't be sent, please try again."}},"contacts":{"title":"Contacts","subtitle":"Import contacts","text":"Import the contacts from your device to your Cozy to easily share content with them."}},"error":{"open_with":{"offline":"You should be connected to open this file","noapp":"No application can open this file"},"make_available_offline":{"offline":"You should be connected to open this file","noapp":"No application can open this file"}},"revoked":{"title":"Access revoked","description":"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.","loginagain":"Log in again","logout":"Log out"},"rating":{"enjoy":{"title":"Enjoying Cozy Drive?","yes":"Yes!","no":"Not really"},"rate":{"title":"Would you mind rating it?","yes":"Let's do that!","no":"No, thanks","later":"Maybe later"},"feedback":{"title":"Would you mind giving us some feedback?","yes":"Send","no":"No, thanks"},"email":{"subject":"Feedback on Cozy Drive","placeholder":"Hello, I think Cozy Drive would be better if"},"alert":{"rated":"Thank you! You're ","declined":"Awesome. You will love the upcoming features. Stay Cozy!","later":"No problem, we'll ask again later.","feedback":"Thank you for the feedback. We'll definitely work on it!"}},"first_sync":{"title":"You are about to start your first photos back up ","tips":"Tips","tip_bed":"Open Cozy Drive before you go to bed or when you don't use your phone.","tip_wifi":"Enable Wi-Fi to preserve your data.","tip_lock":"Disable your lock screen.","result":"In the morning, all your photos will be stored in a safe and secure location.","button":"Got it!"},"notifications":{"backup_paused":"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},"upload":{"alert":{"success":"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.","success_conflicts":"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} file uploaded and %{updatedCount} updated. |||| %{smart_count} files uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} file uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} files uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} file updated. |||| %{smart_count} files updated.","updated_conflicts":"%{smart_count} file updated with %{conflictCount} conflict(s). |||| %{smart_count} files updated with %{conflictCount} conflict(s).","errors":"Errors occurred during the file upload.","network":"You are currenly offline. Please try again once you're connected."}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Uploaded %{done} out of %{total} successfully","close":"close","item":{"pending":"Pending"}},"Viewer":{"close":"Close","noviewer":{"download":"Download this file","openWith":"Open with...","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":"Download"},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":"Retry"},"error":{"noapp":"No application found to handle this file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You're currently offline."}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it's original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it's original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back."},"FileOpenerExternal":{"fileNotFoundError":"Error: file not found"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"You are currently offline and you can't use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}}};

/***/ }),

/***/ "krg7":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ShareModal; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("cLsY");
/* harmony import */ var sharing_share_styl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("jrFr");
/* harmony import */ var sharing_share_styl__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(sharing_share_styl__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var sharing_propTypes__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("G9pQ");
/* harmony import */ var sharing_components_ShareByLink__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("IAkC");
/* harmony import */ var sharing_components_ShareByEmail__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("UVeP");
/* harmony import */ var sharing_components_WhoHasAccess__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("GFJL");
















__webpack_require__("T1qB");

var ShareModal =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(ShareModal, _Component);

  function ShareModal() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, ShareModal);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(ShareModal).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ShareModal, [{
    key: "render",
    value: function render() {
      var t = this.context.t;
      var _this$props = this.props,
          document = _this$props.document,
          isOwner = _this$props.isOwner,
          sharingDesc = _this$props.sharingDesc,
          contacts = _this$props.contacts,
          groups = _this$props.groups,
          createContact = _this$props.createContact,
          link = _this$props.link,
          recipients = _this$props.recipients,
          _this$props$documentT = _this$props.documentType,
          documentType = _this$props$documentT === void 0 ? 'Document' : _this$props$documentT,
          needsContactsPermission = _this$props.needsContactsPermission,
          hasSharedParent = _this$props.hasSharedParent,
          hasSharedChild = _this$props.hasSharedChild,
          onClose = _this$props.onClose,
          onShare = _this$props.onShare,
          onRevoke = _this$props.onRevoke,
          onShareByLink = _this$props.onShareByLink,
          onRevokeLink = _this$props.onRevokeLink;
      return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_9__["default"], {
        title: t("".concat(documentType, ".share.title")),
        dismissAction: onClose,
        into: "body",
        size: "small",
        spacing: "small",
        mobileFullscreen: true
      }, (hasSharedParent || hasSharedChild) && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
        className: sharing_share_styl__WEBPACK_IMPORTED_MODULE_10___default.a['share-byemail-onlybylink']
      }, t("".concat(documentType, ".share.shareByEmail.onlyByLink"), {
        type: t("".concat(documentType, ".share.shareByEmail.type.").concat(document.type === 'directory' ? 'folder' : 'file'))
      }), ' ', react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("strong", null, t("".concat(documentType, ".share.shareByEmail.").concat(hasSharedParent ? 'hasSharedParent' : 'hasSharedChild')))), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_9__["ModalContent"], {
        className: classnames__WEBPACK_IMPORTED_MODULE_8___default()(sharing_share_styl__WEBPACK_IMPORTED_MODULE_10___default.a['share-modal-content'], sharing_share_styl__WEBPACK_IMPORTED_MODULE_10___default.a['share-moral-override-bottom'])
      }, documentType !== 'Albums' && !hasSharedParent && !hasSharedChild && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(sharing_components_ShareByEmail__WEBPACK_IMPORTED_MODULE_13__["default"], {
        currentRecipients: recipients,
        document: document,
        documentType: documentType,
        sharingDesc: sharingDesc,
        contacts: contacts,
        groups: groups,
        createContact: createContact,
        onShare: onShare,
        needsContactsPermission: needsContactsPermission
      }), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
        className: sharing_share_styl__WEBPACK_IMPORTED_MODULE_10___default.a['share-modal-separator']
      }), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
        className: sharing_share_styl__WEBPACK_IMPORTED_MODULE_10___default.a['share-modal-secondary']
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_8___default()(sharing_share_styl__WEBPACK_IMPORTED_MODULE_10___default.a['share-modal-margins'], 'u-pb-1')
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(sharing_components_ShareByLink__WEBPACK_IMPORTED_MODULE_12__["default"], {
        document: document,
        documentType: documentType,
        checked: link !== null,
        link: link,
        onEnable: onShareByLink,
        onDisable: onRevokeLink
      }), documentType !== 'Albums' && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(sharing_components_WhoHasAccess__WEBPACK_IMPORTED_MODULE_14__["default"], {
        className: 'u-mt-1',
        isOwner: isOwner,
        recipients: recipients,
        document: document,
        documentType: documentType,
        onRevoke: onRevoke
      })))));
    }
  }]);

  return ShareModal;
}(react__WEBPACK_IMPORTED_MODULE_6__["Component"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(ShareModal, "contextTypes", {
  t: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired
});


ShareModal.propTypes = {
  document: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object.isRequired,
  isOwner: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,
  sharingDesc: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,
  contacts: sharing_propTypes__WEBPACK_IMPORTED_MODULE_11__["contactsResponseType"].isRequired,
  groups: sharing_propTypes__WEBPACK_IMPORTED_MODULE_11__["groupsResponseType"].isRequired,
  createContact: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,
  recipients: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array.isRequired,
  link: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,
  documentType: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,
  needsContactsPermission: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,
  hasSharedParent: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,
  hasSharedChild: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,
  onClose: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,
  onShare: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,
  onRevoke: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,
  onShareByLink: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,
  onRevokeLink: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired
};

/***/ }),

/***/ "l0Ix":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var getHomeLinkHref = function getHomeLinkHref(from) {
  return "https://manager.cozycloud.cc/cozy/create".concat(from ? "?pk_campaign=".concat(encodeURIComponent(from)) : '?', "&pk_kwd=cozy");
};

/* harmony default export */ __webpack_exports__["default"] = (getHomeLinkHref);

/***/ }),

/***/ "lotC":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("bisv");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_3__);





var UploadQuotaError = function UploadQuotaError(_ref) {
  var t = _ref.t,
      url = _ref.url;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status'], _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status--error'])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-content']
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, t('mobile.settings.media_backup.quota')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-link'],
    onClick: function onClick() {
      return window.open(url, '_system');
    }
  }, t('mobile.settings.media_backup.quota_contact'))));
};

UploadQuotaError.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  url: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (UploadQuotaError);

/***/ }),

/***/ "mdCN":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"fil-file-name-input":"fil-file-name-input--2jfPV","error":"error--2QCXU","spin":"spin--3eqnH","shake":"shake--12n6l"};

/***/ }),

/***/ "mlqZ":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("cLsY");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("ufaa");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("JyWO");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_12__);














var NewModal =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(NewModal, _Component);

  function NewModal() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, NewModal);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(NewModal).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(NewModal, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          title = _this$props.title,
          dismissAction = _this$props.dismissAction,
          primaryAction = _this$props.primaryAction,
          primaryText = _this$props.primaryText,
          t = _this$props.t,
          secondaryText = _this$props.secondaryText,
          secondaryAction = _this$props.secondaryAction,
          description = _this$props.description,
          isMobile = _this$props.breakpoints.isMobile; //!TODO Move this new kind of Modal to UI

      return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_7__["default"], {
        mobileFullscreen: true,
        closable: isMobile ? false : true,
        size: "large",
        title: isMobile ? '' : title,
        dismissAction: dismissAction
      }, isMobile && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_7__["ModalHeader"], {
        className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['modal-header'])
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h2", null, title), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_8__["Button"], {
        icon: react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_8__["Icon"], {
          icon: 'cross',
          size: '16'
        }),
        onClick: function onClick() {
          return dismissAction();
        },
        iconOnly: true,
        label: t('close'),
        subtle: true,
        theme: 'secondary'
      })), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_7__["ModalContent"], {
        className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, 'u-flex-grow-1 u-ph-1', isMobile))
      }, description), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_7__["ModalFooter"], {
        className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, _styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['modal-footer'], isMobile))
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_7__["ModalButtons"], {
        primaryText: primaryText,
        primaryAction: primaryAction,
        primaryType: 'regular',
        secondaryText: secondaryText,
        secondaryAction: secondaryAction,
        secondaryType: 'secondary'
      })));
    }
  }]);

  return NewModal;
}(react__WEBPACK_IMPORTED_MODULE_6__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_10__["default"])()(Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_9__["translate"])()(NewModal)));

/***/ }),

/***/ "nfx8":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UNKNOWN", function() { return UNKNOWN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ETHERNET", function() { return ETHERNET; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WIFI", function() { return WIFI; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CELL_2G", function() { return CELL_2G; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CELL_3G", function() { return CELL_3G; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CELL_4G", function() { return CELL_4G; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CELL", function() { return CELL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NONE", function() { return NONE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "watchNetworkState", function() { return watchNetworkState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isWifi", function() { return isWifi; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isOnline", function() { return isOnline; });
var UNKNOWN = window.Connection ? window.Connection.UNKNOWN : 'unknown';
var ETHERNET = window.Connection ? window.Connection.ETHERNET : 'ethernet';
var WIFI = window.Connection ? window.Connection.WIFI : 'wifi';
var CELL_2G = window.Connection ? window.Connection.CELL_2G : '2g';
var CELL_3G = window.Connection ? window.Connection.CELL_3G : '3g';
var CELL_4G = window.Connection ? window.Connection.CELL_4G : '4g';
var CELL = window.Connection ? window.Connection.CELL : 'cellular';
var NONE = window.Connection ? window.Connection.NONE : 'none';
var watchNetworkState = function watchNetworkState(onConnectionChange) {
  document.addEventListener('offline', onConnectionChange, false);
  document.addEventListener('online', onConnectionChange, false);
};

var hasCordovaPlugin = function hasCordovaPlugin() {
  return window.navigator.connection !== undefined && window.Connection !== undefined;
};

var getConnectionType = function getConnectionType() {
  return hasCordovaPlugin() ? navigator.connection.type : WIFI;
};

var isWifi = function isWifi() {
  return getConnectionType() === WIFI;
};
var isOnline = function isOnline() {
  return hasCordovaPlugin() ? navigator.connection !== NONE : navigator.onLine;
};

/***/ }),

/***/ "nhFO":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-files_d6b9e7e79f0dd5f6e7298c7c569d9cbc",
  "use": "icon-type-files_d6b9e7e79f0dd5f6e7298c7c569d9cbc-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-files_d6b9e7e79f0dd5f6e7298c7c569d9cbc\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(3)\">\n    <path fill=\"#D1D5DB\" d=\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\" />\n    <path fill=\"#A3ACB8\" d=\"M18.5,8.57092175e-14 C18.2238576,1.33045111e-13 18,0.230796814 18,0.500435829 L18,8 L25.4995642,8 C25.7759472,8 26,7.76806641 26,7.5 L26,7 L19,0 L18.5,8.57092175e-14 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "nw0P":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./_lib/build_formatting_tokens_reg_exp/index.js": "kOWh",
	"./ar/build_distance_in_words_locale/index.js": "XxX6",
	"./ar/build_format_locale/index.js": "alis",
	"./ar/index.js": "EDRf",
	"./be/build_distance_in_words_locale/index.js": "LQ09",
	"./be/build_format_locale/index.js": "kj7F",
	"./be/index.js": "YEhR",
	"./bg/build_distance_in_words_locale/index.js": "7K3h",
	"./bg/build_format_locale/index.js": "RrdL",
	"./bg/index.js": "isx8",
	"./ca/build_distance_in_words_locale/index.js": "wqqj",
	"./ca/build_format_locale/index.js": "qcV0",
	"./ca/index.js": "Vwa+",
	"./cs/build_distance_in_words_locale/index.js": "ZKDM",
	"./cs/build_format_locale/index.js": "ipyF",
	"./cs/index.js": "dvhP",
	"./da/build_distance_in_words_locale/index.js": "2Mgc",
	"./da/build_format_locale/index.js": "Gned",
	"./da/index.js": "7ur/",
	"./de/build_distance_in_words_locale/index.js": "5IWf",
	"./de/build_format_locale/index.js": "THCn",
	"./de/index.js": "bgw5",
	"./el/build_distance_in_words_locale/index.js": "o/GB",
	"./el/build_format_locale/index.js": "8T9h",
	"./el/index.js": "dH0v",
	"./en/build_distance_in_words_locale/index.js": "LZbM",
	"./en/build_format_locale/index.js": "6DAA",
	"./en/index.js": "Us+F",
	"./eo/build_distance_in_words_locale/index.js": "qrnn",
	"./eo/build_format_locale/index.js": "Bl15",
	"./eo/index.js": "UB7v",
	"./es/build_distance_in_words_locale/index.js": "GEfZ",
	"./es/build_format_locale/index.js": "O+zC",
	"./es/index.js": "/S0t",
	"./fi/build_distance_in_words_locale/index.js": "VHtQ",
	"./fi/build_format_locale/index.js": "Oydx",
	"./fi/index.js": "ndVD",
	"./fil/build_distance_in_words_locale/index.js": "uq4p",
	"./fil/build_format_locale/index.js": "d7hw",
	"./fil/index.js": "pNfm",
	"./fr/build_distance_in_words_locale/index.js": "IzMR",
	"./fr/build_format_locale/index.js": "I3Zg",
	"./fr/index.js": "LKA2",
	"./hr/build_distance_in_words_locale/index.js": "DPvn",
	"./hr/build_format_locale/index.js": "puw3",
	"./hr/index.js": "L9Jq",
	"./hu/build_distance_in_words_locale/index.js": "w2RQ",
	"./hu/build_format_locale/index.js": "/0iD",
	"./hu/index.js": "Nm+E",
	"./id/build_distance_in_words_locale/index.js": "JbvB",
	"./id/build_format_locale/index.js": "0wlw",
	"./id/index.js": "A6C3",
	"./is/build_distance_in_words_locale/index.js": "qzMC",
	"./is/build_format_locale/index.js": "S3yD",
	"./is/index.js": "N4bE",
	"./it/build_distance_in_words_locale/index.js": "MDEp",
	"./it/build_format_locale/index.js": "aUJd",
	"./it/index.js": "hmb4",
	"./ja/build_distance_in_words_locale/index.js": "nNvt",
	"./ja/build_format_locale/index.js": "buui",
	"./ja/index.js": "uAXs",
	"./ko/build_distance_in_words_locale/index.js": "oEw+",
	"./ko/build_format_locale/index.js": "9SQf",
	"./ko/index.js": "iW8+",
	"./mk/build_distance_in_words_locale/index.js": "nmwZ",
	"./mk/build_format_locale/index.js": "htxJ",
	"./mk/index.js": "GzBU",
	"./nb/build_distance_in_words_locale/index.js": "SL1f",
	"./nb/build_format_locale/index.js": "CJ5F",
	"./nb/index.js": "73vv",
	"./nl/build_distance_in_words_locale/index.js": "Uyu0",
	"./nl/build_format_locale/index.js": "doCD",
	"./nl/index.js": "hCQt",
	"./pl/build_distance_in_words_locale/index.js": "FUBD",
	"./pl/build_format_locale/index.js": "nOYf",
	"./pl/index.js": "B6yL",
	"./pt/build_distance_in_words_locale/index.js": "aTPA",
	"./pt/build_format_locale/index.js": "TTT0",
	"./pt/index.js": "gdks",
	"./ro/build_distance_in_words_locale/index.js": "gI+A",
	"./ro/build_format_locale/index.js": "njjO",
	"./ro/index.js": "r2yp",
	"./ru/build_distance_in_words_locale/index.js": "KmPx",
	"./ru/build_format_locale/index.js": "UUBw",
	"./ru/index.js": "nz/o",
	"./sk/build_distance_in_words_locale/index.js": "q2Bs",
	"./sk/build_format_locale/index.js": "9sxn",
	"./sk/index.js": "Wqan",
	"./sl/build_distance_in_words_locale/index.js": "mlv2",
	"./sl/build_format_locale/index.js": "vHkZ",
	"./sl/index.js": "KYSo",
	"./sr/build_distance_in_words_locale/index.js": "LlkS",
	"./sr/build_format_locale/index.js": "RhjJ",
	"./sr/index.js": "7mU3",
	"./sv/build_distance_in_words_locale/index.js": "UNBN",
	"./sv/build_format_locale/index.js": "zTNB",
	"./sv/index.js": "hxgj",
	"./th/build_distance_in_words_locale/index.js": "XAGa",
	"./th/build_format_locale/index.js": "We2s",
	"./th/index.js": "Pk+z",
	"./tr/build_distance_in_words_locale/index.js": "aFZF",
	"./tr/build_format_locale/index.js": "jh7A",
	"./tr/index.js": "3ZWG",
	"./zh_cn/build_distance_in_words_locale/index.js": "KdB7",
	"./zh_cn/build_format_locale/index.js": "l4EP",
	"./zh_cn/index.js": "8tMq",
	"./zh_tw/build_distance_in_words_locale/index.js": "vyyr",
	"./zh_tw/build_format_locale/index.js": "uYH7",
	"./zh_tw/index.js": "QPlQ"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "nw0P";

/***/ }),

/***/ "oRqk":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("H+Xc");
/* harmony import */ var components_Image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("510Z");
/* harmony import */ var sharing__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("OsbH");
/* harmony import */ var drive_web_modules_filelist_FileIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("c96E");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7__);









var FileThumbnail = function FileThumbnail(_ref) {
  var file = _ref.file,
      withSharedBadge = _ref.withSharedBadge,
      isMobile = _ref.breakpoints.isMobile,
      size = _ref.size;
  var isImage = file.class === 'image';
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-file-thumbnail'], {
      'u-pl-0': !isMobile
    })
  }, isImage ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Image__WEBPACK_IMPORTED_MODULE_4__["ImageLoader"], {
    file: file,
    size: "small",
    render: function render(src) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: src,
        width: size || 32,
        height: size || 32,
        className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-file-thumbnail-image']
      });
    },
    renderFallback: function renderFallback() {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FileIcon__WEBPACK_IMPORTED_MODULE_6__["default"], {
        file: file,
        size: size
      });
    }
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FileIcon__WEBPACK_IMPORTED_MODULE_6__["default"], {
    file: file,
    size: size
  }), withSharedBadge && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(sharing__WEBPACK_IMPORTED_MODULE_5__["SharedBadge"], {
    docId: file.id,
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-content-shared'],
    xsmall: true
  }));
};

FileThumbnail.propTypes = {
  file: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    class: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    mime: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
  }).isRequired,
  withSharedBadge: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  breakpoints: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    isMobile: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
  }).isRequired,
  size: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__["withBreakpoints"])()(FileThumbnail));

/***/ }),

/***/ "oVrB":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var drive_web_modules_drive_Toolbar_toolbar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("fD9B");


var NotRootFolder = function NotRootFolder(_ref) {
  var notRootfolder = _ref.notRootfolder,
      children = _ref.children;

  if (notRootfolder) {
    return children;
  }

  return null;
};

/* harmony default export */ __webpack_exports__["default"] = (Object(drive_web_modules_drive_Toolbar_toolbar__WEBPACK_IMPORTED_MODULE_0__["default"])(NotRootFolder));

/***/ }),

/***/ "ommj":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ALBUMS_DOCTYPE", function() { return ALBUMS_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFile", function() { return isFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDirectory", function() { return isDirectory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isReferencedByAlbum", function() { return isReferencedByAlbum; });
var FILE_TYPE = 'file';
var DIR_TYPE = 'directory';
var ALBUMS_DOCTYPE = 'io.cozy.photos.albums';
var isFile = function isFile(file) {
  return file && file.type === FILE_TYPE;
};
var isDirectory = function isDirectory(file) {
  return file && file.type === DIR_TYPE;
};
var isReferencedByAlbum = function isReferencedByAlbum(file) {
  if (file.relationships && file.relationships.referenced_by && file.relationships.referenced_by.data && file.relationships.referenced_by.data.length > 0) {
    var references = file.relationships.referenced_by.data;
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = references[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var reference = _step.value;

        if (reference.type === ALBUMS_DOCTYPE) {
          return true;
        }
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
  }

  return false;
};

/***/ }),

/***/ "osKR":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-trash-red_c64051db4812a1c5d58fc48b31781cbc",
  "use": "icon-trash-red_c64051db4812a1c5d58fc48b31781cbc-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" id=\"icon-trash-red_c64051db4812a1c5d58fc48b31781cbc\">\n  <g fill=\"#F52D2D\" fill-rule=\"evenodd\" transform=\"translate(-96 -32)\">\n    <path d=\"M100.5,33 L98.0068455,33 C97.4499488,33 97,33.4477153 97,34 L97,35 L111,35 L111,34 C111,33.4438648 110.54922,33 109.993155,33 L107.5,33 L107,32 L101,32 L100.5,33 Z M98,36 L110,36 L110,45.9914698 C110,47.1007504 109.09805,48 107.99147,48 L100.00853,48 C98.8992496,48 98,47.0980496 98,45.9914698 L98,36 Z\" />\n    <path d=\"M100.5,33 L98.0068455,33 C97.4499488,33 97,33.4477153 97,34 L97,35 L111,35 L111,34 C111,33.4438648 110.54922,33 109.993155,33 L107.5,33 L107,32 L101,32 L100.5,33 Z M98,36 L110,36 L110,45.9914698 C110,47.1007504 109.09805,48 107.99147,48 L100.00853,48 C98.8992496,48 98,47.0980496 98,45.9914698 L98,36 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "otEB":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("H+Xc");
/* harmony import */ var _badge_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("I2Z/");
/* harmony import */ var _badge_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_badge_styl__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7jrE");
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_5__);







var SharedBadge = function SharedBadge(_ref) {
  var byMe = _ref.byMe,
      className = _ref.className,
      small = _ref.small,
      xsmall = _ref.xsmall;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_badge_styl__WEBPACK_IMPORTED_MODULE_4___default.a['shared-badge'], className, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, _badge_styl__WEBPACK_IMPORTED_MODULE_4___default.a['--small'], small), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, _badge_styl__WEBPACK_IMPORTED_MODULE_4___default.a['--xsmall'], xsmall), _badge_styl__WEBPACK_IMPORTED_MODULE_4___default.a[byMe ? '--by-me' : '--with-me'])
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__["Icon"], {
    icon: "share",
    color: cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_5___default.a.white,
    className: _badge_styl__WEBPACK_IMPORTED_MODULE_4___default.a['shared-badge-icon']
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (SharedBadge);

/***/ }),

/***/ "pGdt":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("bisv");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_3__);





var UploadAbortedWifi = function UploadAbortedWifi(_ref) {
  var t = _ref.t;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status'], _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status--waiting'])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-content']
  }, t('mobile.settings.media_backup.no_wifi')));
};

UploadAbortedWifi.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (UploadAbortedWifi);

/***/ }),

/***/ "pr+u":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-zip_1ace38c6dbbbe1e7f4fb0ae579dd38d2",
  "use": "icon-type-zip_1ace38c6dbbbe1e7f4fb0ae579dd38d2-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-zip_1ace38c6dbbbe1e7f4fb0ae579dd38d2\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(3)\">\n    <rect width=\"26\" height=\"32\" fill=\"#D1D5DB\" rx=\"2\" />\n    <path fill=\"#4F5B69\" d=\"M11,1 L13,1 L13,3 L11,3 L11,1 Z M11,5 L13,5 L13,7 L11,7 L11,5 Z M11,9 L13,9 L13,11 L11,11 L11,9 Z M13,3 L15,3 L15,5 L13,5 L13,3 Z M13,7 L15,7 L15,9 L13,9 L13,7 Z M11,12 L15,12 L15,19 L11,19 L11,12 Z M12,13 L14,13 L14,15 L12,15 L12,13 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "py1d":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sharing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("OsbH");
/* harmony import */ var _share__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("GpAf");




var ShareButtonWithProps = function ShareButtonWithProps(_ref) {
  var displayedFolder = _ref.displayedFolder,
      share = _ref.share,
      isDisabled = _ref.isDisabled;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(sharing__WEBPACK_IMPORTED_MODULE_1__["ShareButton"], {
    docId: displayedFolder.id,
    disabled: isDisabled,
    onClick: function onClick() {
      return share(displayedFolder);
    },
    className: 'u-hide--mob'
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Object(_share__WEBPACK_IMPORTED_MODULE_2__["default"])(ShareButtonWithProps));

/***/ }),

/***/ "q3u0":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLang", function() { return getLang; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOauthOptions", function() { return getOauthOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initClient", function() { return initClient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initBar", function() { return initBar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "restoreCozyClientJs", function() { return restoreCozyClientJs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetClient", function() { return resetClient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getToken", function() { return getToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getClientUrl", function() { return getClientUrl; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_client_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("pRNw");
/* harmony import */ var cozy_client_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Ow0/");
/* harmony import */ var _background__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("UQWb");
/* harmony import */ var drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("z6Q1");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var drive_appMetadata__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("unzg");




/* global cozy, document */





var getLang = function getLang() {
  return navigator && navigator.language ? navigator.language.slice(0, 2) : 'en';
};


var getOauthOptions = function getOauthOptions() {
  return {
    redirectURI: Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_8__["isMobileApp"])() ? 'cozydrive://auth' : 'http://localhost',
    softwareID: _constants__WEBPACK_IMPORTED_MODULE_5__["SOFTWARE_ID"],
    clientName: "".concat(_constants__WEBPACK_IMPORTED_MODULE_5__["SOFTWARE_NAME"], " (").concat(Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_8__["getDeviceName"])(), ")"),
    softwareVersion: drive_appMetadata__WEBPACK_IMPORTED_MODULE_9__["default"].version,
    clientKind: 'mobile',
    clientURI: 'https://github.com/cozy/cozy-drive/',
    logoURI: 'https://github.com/cozy/cozy-drive/raw/master/targets/drive/vendor/assets/oauth-app-icon.png',
    policyURI: 'https://files.cozycloud.cc/cgu.pdf'
  };
};
var initClient = function initClient(url) {
  return new cozy_client__WEBPACK_IMPORTED_MODULE_4___default.a({
    uri: url,
    oauth: getOauthOptions(),
    offline: {
      doctypes: [drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_7__["DOCTYPE_FILES"]]
    },
    appMetadata: drive_appMetadata__WEBPACK_IMPORTED_MODULE_9__["default"],
    schema: drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_7__["schema"]
  });
};
var initBar =
/*#__PURE__*/
function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(client) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (!document.getElementById('coz-bar')) {
              _context.next = 2;
              break;
            }

            return _context.abrupt("return");

          case 2:
            _context.t0 = cozy.bar;
            _context.t1 = client;
            _context.t2 = __webpack_require__("OZnT");
            _context.t3 = getLang();
            _context.t4 = client.options.uri;
            _context.next = 9;
            return getTokenWithNoException();

          case 9:
            _context.t5 = _context.sent;

            _context.t6 = function renewToken() {
              return client.getClient().refreshToken();
            };

            _context.t7 = {
              appName: 'Drive',
              appNamePrefix: 'Cozy',
              appSlug: 'drive',
              cozyClient: _context.t1,
              iconPath: _context.t2,
              lang: _context.t3,
              cozyURL: _context.t4,
              token: _context.t5,
              renewToken: _context.t6,
              replaceTitleOnMobile: false,
              displayOnMobile: true
            };
            _context.next = 14;
            return _context.t0.init.call(_context.t0, _context.t7);

          case 14:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function initBar(_x) {
    return _ref.apply(this, arguments);
  };
}();
var restoreCozyClientJs = function restoreCozyClientJs(uri, clientInfos, token) {
  var offline = {
    doctypes: ['io.cozy.files']
  };
  cozy.client.init({
    cozyURL: uri,
    oauth: {
      storage: new cozy_client_js__WEBPACK_IMPORTED_MODULE_3__["LocalStorage"](),
      clientParams: _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, clientInfos, {
        scopes: token.scope
      })
    },
    offline: offline
  });
  var realToken = new cozy.client.auth.AccessToken(token);
  cozy.client.saveCredentials(clientInfos, realToken);
};
function resetClient(client) {
  var clientInfo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (clientInfo && cozy.client.auth.unregisterClient) {
    cozy.client.auth.unregisterClient(clientInfo);
  } // reset cozy-bar


  if (document.getElementById('coz-bar')) {
    document.getElementById('coz-bar').remove();
  } // reset pouchDB


  if (cozy.client.offline.destroyAllDatabase) {
    cozy.client.offline.destroyAllDatabase();
  } // reset cozy-client


  client.getStackClient().resetClient(); // reset cozy-client-js

  if (cozy.client._storage) {
    cozy.client._storage.clear();
  }

  Object(_background__WEBPACK_IMPORTED_MODULE_6__["disableBackgroundService"])();
}
var getToken =
/*#__PURE__*/
function () {
  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2() {
    var credentials;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return cozy.client.authorize();

          case 2:
            credentials = _context2.sent;
            return _context2.abrupt("return", credentials.token.accessToken);

          case 4:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function getToken() {
    return _ref2.apply(this, arguments);
  };
}();

var getTokenWithNoException =
/*#__PURE__*/
function () {
  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.prev = 0;
            _context3.next = 3;
            return getToken();

          case 3:
            return _context3.abrupt("return", _context3.sent);

          case 6:
            _context3.prev = 6;
            _context3.t0 = _context3["catch"](0);
            return _context3.abrupt("return", null);

          case 9:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3, null, [[0, 6]]);
  }));

  return function getTokenWithNoException() {
    return _ref3.apply(this, arguments);
  };
}();

var getClientUrl = function getClientUrl() {
  return cozy.client._url;
};

/***/ }),

/***/ "qelF":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("H+Xc");
/* harmony import */ var _index_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("swni");
/* harmony import */ var _index_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_index_styl__WEBPACK_IMPORTED_MODULE_3__);





var MoreButton = function MoreButton(_ref) {
  var t = _ref.t,
      disabled = _ref.disabled,
      onClick = _ref.onClick;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_2__["Button"], {
    "data-test-id": "more-button",
    className: _index_styl__WEBPACK_IMPORTED_MODULE_3___default.a['dri-btn--more'],
    theme: "secondary",
    disabled: disabled,
    onClick: onClick,
    extension: "narrow",
    icon: "dots",
    iconOnly: true,
    label: t('Toolbar.more')
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_1__["translate"])()(MoreButton));

/***/ }),

/***/ "qshS":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_assets_icons_icon_folder_add_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("8x/v");
/* harmony import */ var drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("37ak");
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("7jrE");
/* harmony import */ var cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_6__);








var AddFolderButton = function AddFolderButton(_ref, _ref2) {
  var addFolder = _ref.addFolder,
      isMobile = _ref.breakpoints.isMobile;
  var t = _ref2.t;
  if (isMobile) return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__["ButtonAction"], {
    compact: true,
    rightIcon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__["Icon"], {
      icon: drive_assets_icons_icon_folder_add_svg__WEBPACK_IMPORTED_MODULE_4__["default"],
      color: cozy_ui_react_palette__WEBPACK_IMPORTED_MODULE_6___default.a.coolGrey
    }),
    onClick: addFolder,
    label: t('intents.picker.new_folder')
  });else return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__["Button"], {
    icon: drive_assets_icons_icon_folder_add_svg__WEBPACK_IMPORTED_MODULE_4__["default"],
    onClick: addFolder
  }, t('toolbar.menu_new_folder'));
};

AddFolderButton.contextTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};

var mapDispatchToPropsButton = function mapDispatchToPropsButton(dispatch) {
  return {
    addFolder: function addFolder() {
      return dispatch(Object(drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_5__["showNewFolderInput"])());
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(null, mapDispatchToPropsButton)(Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__["withBreakpoints"])()(AddFolderButton)));

/***/ }),

/***/ "qxHO":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ANALYTICS_URL", function() { return ANALYTICS_URL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeData", function() { return normalizeData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getReporterConfiguration", function() { return getReporterConfiguration; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "configureReporter", function() { return configureReporter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logException", function() { return logException; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setCozyUrl", function() { return setCozyUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logInfo", function() { return logInfo; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var raven_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("NlKi");
/* harmony import */ var raven_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(raven_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_appMetadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("unzg");
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("OTOu");


/* global __SENTRY_URL__, __DEVELOPMENT__ */



var ANALYTICS_URL =  false ? undefined : "https://29bd1255b6d544a1b65435a634c9ff67@sentry.cozycloud.cc/2"; // normalize files path on mobile, see https://github.com/getsentry/sentry-cordova/blob/17e8b3395e8ce391ecf28658d0487b97487bb509/src/js/SentryCordova.ts#L213

var normalizeUrl = function normalizeUrl(url, pathStripRe) {
  return url.replace(/^file:\/\//, 'app://').replace(pathStripRe, '');
};

var normalizeData = function normalizeData(data) {
  var PATH_STRIP_RE = /^.*\/[^.]+(\.app|CodePush|.*(?=\/))/;

  if (data.culprit) {
    data.culprit = normalizeUrl(data.culprit, PATH_STRIP_RE);
  }

  var stacktrace = data.stacktrace || data.exception && data.exception.values && data.exception.values[0] && data.exception.values[0].stacktrace;

  if (stacktrace) {
    stacktrace.frames = stacktrace.frames.map(function (frame) {
      return frame.filename !== '[native code]' ? _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, frame, {
        filename: normalizeUrl(frame.filename, PATH_STRIP_RE)
      }) : frame;
    });
  }

  return data;
};
var getReporterConfiguration = function getReporterConfiguration() {
  return {
    shouldSendCallback: true,
    environment:  true ? 'development' : undefined,
    release: drive_appMetadata__WEBPACK_IMPORTED_MODULE_2__["default"].version,
    allowSecretKey: true,
    dataCallback: normalizeData
  };
};
var configureReporter = function configureReporter() {
  raven_js__WEBPACK_IMPORTED_MODULE_1___default.a.config(ANALYTICS_URL, getReporterConfiguration()).install();
};
var logException = function logException(err) {
  var extraContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  var fingerprint = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  return new Promise(function (resolve) {
    raven_js__WEBPACK_IMPORTED_MODULE_1___default.a.captureException(err, {
      extra: extraContext,
      fingerprint: fingerprint
    });
    lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn('Raven is recording exception');
    lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].error(err);
    resolve();
  });
};
var setCozyUrl = function setCozyUrl(instance) {
  raven_js__WEBPACK_IMPORTED_MODULE_1___default.a.setTagsContext({
    instance: instance
  });
};

var logMessage = function logMessage(message, serverUrl) {
  var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'info';
  return new Promise(function (resolve) {
    raven_js__WEBPACK_IMPORTED_MODULE_1___default.a.setUserContext = {
      url: serverUrl
    };
    raven_js__WEBPACK_IMPORTED_MODULE_1___default.a.captureMessage("[".concat(serverUrl, "] ").concat(message), {
      level: level
    });
    resolve();
  });
};

var logInfo = function logInfo(message, serverUrl) {
  return logMessage(message, serverUrl, 'info');
};

/***/ }),

/***/ "rH+U":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"feedback-form":"feedback-form--1Hjg3","coz-form":"coz-form--2IkEt","coz-form-group":"coz-form-group--17IGD","coz-form-desc":"coz-form-desc--341sI","coz-form-label":"coz-form-label--KKSGZ","coz-form-label--error":"coz-form-label--error--1l6MZ","coz-form-errors":"coz-form-errors--3vkOv","settings":"settings--1nsnv","settings__title":"settings__title--_YWG5","settings__category":"settings__category--3XPW7","settings__button":"settings__button--2WzVM","settings__subcategory-title":"settings__subcategory-title--2fiRw","settings__subcategory":"settings__subcategory--5_HUH","settings__subcategory__label":"settings__subcategory__label--3ylh3","settings__subcategory__item":"settings__subcategory__item--3s2tq","feedback-text":"feedback-text--2mWKg","button-block":"button-block--2fdxt","spin":"spin--3lPHL","shake":"shake--DR2Bn"};

/***/ }),

/***/ "rPfp":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContactSuggestion", function() { return ContactSuggestion; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("buk/");
/* harmony import */ var sharing_components_recipient_styl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("1BUi");
/* harmony import */ var sharing_components_recipient_styl__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sharing_components_recipient_styl__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("OjRq");
/* harmony import */ var sharing_components_Identity__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("71Dd");








var ContactSuggestion = function ContactSuggestion(_ref) {
  var contactOrGroup = _ref.contactOrGroup,
      contacts = _ref.contacts,
      t = _ref.t;
  var avatarText, name, details;

  if (contactOrGroup._type === models__WEBPACK_IMPORTED_MODULE_6__["Group"].doctype) {
    name = contactOrGroup.name;
    var membersCount = contacts.reduce(function (total, contact) {
      if (lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(contact, 'relationships.groups.data', []).map(function (group) {
        return group._id;
      }).includes(contactOrGroup._id)) {
        return total + 1;
      }

      return total;
    }, 0).toString();
    details = t('Share.members.count', {
      smart_count: membersCount
    });
    avatarText = 'G';
  } else {
    name = models__WEBPACK_IMPORTED_MODULE_6__["Contact"].getDisplayName(contactOrGroup);
    avatarText = models__WEBPACK_IMPORTED_MODULE_6__["Contact"].getInitials(contactOrGroup);
    details = models__WEBPACK_IMPORTED_MODULE_6__["Contact"].getPrimaryCozy(contactOrGroup);
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: sharing_components_recipient_styl__WEBPACK_IMPORTED_MODULE_5___default.a['recipient']
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__["Avatar"], {
    text: avatarText,
    size: "small"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(sharing_components_Identity__WEBPACK_IMPORTED_MODULE_7__["default"], {
    name: name,
    details: details
  }));
};
ContactSuggestion.propTypes = {
  contactOrGroup: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOfType([models__WEBPACK_IMPORTED_MODULE_6__["Contact"].propType, models__WEBPACK_IMPORTED_MODULE_6__["Group"].propType]).isRequired,
  contacts: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(models__WEBPACK_IMPORTED_MODULE_6__["Contact"].propType),
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_4__["translate"])()(ContactSuggestion));

/***/ }),

/***/ "rR5K":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_web_modules_filelist_FileList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("x76H");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_3__);





var Explorer = function Explorer(_ref) {
  var children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FileList__WEBPACK_IMPORTED_MODULE_2__["default"], {
    canSort: false,
    fileActions: null,
    withSelectionCheckbox: false
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    "data-test-id": "fil-content-modal",
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_3___default.a['fil-content-body']
  }, children));
};

Explorer.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node
};
/* harmony default export */ __webpack_exports__["default"] = (Explorer);

/***/ }),

/***/ "s4+x":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MenuItem; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);









var MenuItem =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(MenuItem, _Component);

  function MenuItem() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, MenuItem);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(MenuItem)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "onClick", function (e) {
      // we need to stop propagation here so that the menu doesn't close itself
      e.stopPropagation();

      if (_this.props.onClick) {
        _this.props.onClick();
      }
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(MenuItem, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          className = _this$props.className,
          children = _this$props.children;
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("a", {
        className: className,
        onClick: this.onClick
      }, children));
    }
  }]);

  return MenuItem;
}(react__WEBPACK_IMPORTED_MODULE_7__["Component"]);



/***/ }),

/***/ "sjVh":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("cLsY");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("H+Xc");
/* harmony import */ var _lib_withPersistentState__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("PC2r");
/* harmony import */ var _lib_constants__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("Ow0/");
/* harmony import */ var _components_FeedbackForm__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("Fnja");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("rH+U");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_18__);



















var SCREEN_ENJOY = 'SCREEN_ENJOY';
var SCREEN_FEEDBACK = 'SCREEN_FEEDBACK';
var BUTTON_INDEX_RATE = 1;
var BUTTON_INDEX_LATER = 2;
var PROMPT_AFTER_BOOTS = 10;
var PROMPT_AFTER_DAYS = 7; // RatingModal is the base component

var RatingModal =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9___default()(RatingModal, _Component);

  function RatingModal() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this, RatingModal);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(RatingModal)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default()(_this), "state", {
      screen: SCREEN_ENJOY
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default()(_this), "onUserReply",
    /*#__PURE__*/
    function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(enjoyed) {
        var t, buttonIndex;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (!enjoyed) {
                  _context.next = 15;
                  break;
                }

                _context.prev = 1;
                t = _this.context.t;
                _context.next = 5;
                return promptRating({
                  title: t('mobile.rating.rate.title'),
                  message: '',
                  yes: t('mobile.rating.rate.yes'),
                  no: t('mobile.rating.rate.no'),
                  later: t('mobile.rating.rate.later'),
                  appMarketID: _lib_constants__WEBPACK_IMPORTED_MODULE_16__["APP_MARKET_ID"],
                  appStoreID: _lib_constants__WEBPACK_IMPORTED_MODULE_16__["APP_STORE_ID"],
                  softwareName: _lib_constants__WEBPACK_IMPORTED_MODULE_16__["SOFTWARE_NAME"]
                });

              case 5:
                buttonIndex = _context.sent;

                if (buttonIndex === BUTTON_INDEX_LATER) {
                  cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["Alerter"].info('mobile.rating.alert.later');

                  _this.props.showLater();
                } else if (buttonIndex === BUTTON_INDEX_RATE) {
                  cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["Alerter"].info('mobile.rating.alert.rated');

                  _this.props.dontShowAgain();
                } else {
                  cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["Alerter"].info('mobile.rating.alert.declined');

                  _this.props.dontShowAgain();
                }

                _context.next = 13;
                break;

              case 9:
                _context.prev = 9;
                _context.t0 = _context["catch"](1);

                _this.props.dontShowAgain();

                throw _context.t0;

              case 13:
                _context.next = 16;
                break;

              case 15:
                _this.setState({
                  screen: SCREEN_FEEDBACK
                });

              case 16:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[1, 9]]);
      }));

      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default()(_this), "onCloseFeedback", function (gaveFeedback) {
      if (gaveFeedback) cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["Alerter"].info('mobile.rating.alert.feedback');

      _this.props.dontShowAgain();
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(RatingModal, [{
    key: "render",
    value: function render() {
      return this.state.screen === SCREEN_ENJOY ? react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(EnjoyCozy, {
        onReply: this.onUserReply
      }) : react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components_FeedbackForm__WEBPACK_IMPORTED_MODULE_17__["default"], {
        onClose: this.onCloseFeedback
      });
    }
  }]);

  return RatingModal;
}(react__WEBPACK_IMPORTED_MODULE_11__["Component"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(RatingModal, "contextTypes", {
  t: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired
});

RatingModal.propTypes = {
  dontShowAgain: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  showLater: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired // sub-components

};

var EnjoyCozy = function EnjoyCozy(props, context) {
  var onReply = props.onReply;
  var t = context.t;
  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_13__["default"], {
    title: t('mobile.rating.enjoy.title'),
    withCross: false
  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_13__["ModalContent"], null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_18___default.a['button-block']
  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["Button"], {
    theme: 'secondary',
    onClick: function onClick() {
      return onReply(false);
    },
    label: t('mobile.rating.enjoy.no')
  }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["Button"], {
    onClick: function onClick() {
      return onReply(true);
    },
    label: t('mobile.rating.enjoy.yes')
  }))));
};

EnjoyCozy.contextTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired
};
EnjoyCozy.propTypes = {
  onReply: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired // promptRating is not a component because the native UI is used instead

};

var promptRating =
/*#__PURE__*/
function () {
  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2(_ref2) {
    var title, message, yes, no, later, softwareName, appMarketID, appStoreID;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            title = _ref2.title, message = _ref2.message, yes = _ref2.yes, no = _ref2.no, later = _ref2.later, softwareName = _ref2.softwareName, appMarketID = _ref2.appMarketID, appStoreID = _ref2.appStoreID;
            return _context2.abrupt("return", new Promise(function (resolve, reject) {
              if (!window.AppRate) reject(new Error('No AppRate found'));

              try {
                window.AppRate.preferences = {
                  displayAppName: softwareName,
                  inAppReview: true,
                  storeAppURL: {
                    ios: appStoreID,
                    android: appMarketID
                  },
                  customLocale: {
                    title: title,
                    message: message,
                    cancelButtonLabel: no,
                    laterButtonLabel: later,
                    rateButtonLabel: yes,
                    yesButtonLabel: yes,
                    noButtonLabel: no
                  },
                  callbacks: {
                    onButtonClicked: resolve
                  }
                };
                window.AppRate.promptForRating();
              } catch (e) {
                reject(e);
              }
            }));

          case 2:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function promptRating(_x2) {
    return _ref3.apply(this, arguments);
  };
}(); // Enhance the base component with HOCs


var withBootDelay = function withBootDelay(WrappedComponent, showAfterBoots) {
  // we want to increment the count once per application boot, *not* per mount/constructor/etc
  var hasIncrementedBootCount = false;

  var WithBootDelay =
  /*#__PURE__*/
  function (_Component2) {
    _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9___default()(WithBootDelay, _Component2);

    function WithBootDelay() {
      var _getPrototypeOf3;

      var _this2;

      _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this, WithBootDelay);

      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      _this2 = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, (_getPrototypeOf3 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(WithBootDelay)).call.apply(_getPrototypeOf3, [this].concat(args)));

      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default()(_this2), "state", {
        bootCount: 0,
        promptAfter: new Date().getTime() + PROMPT_AFTER_DAYS * 24 * 60 * 60 * 1000,
        prompted: false
      });

      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default()(_this2), "dontShowAgain", function () {
        _this2.setState(function (state) {
          return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
            prompted: true
          });
        });
      });

      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default()(_this2), "showLater", function () {
        _this2.setState(function (state) {
          return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
            bootCount: 0,
            prompted: false
          });
        });
      });

      return _this2;
    }

    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(WithBootDelay, [{
      key: "componentStateRestored",
      value: function componentStateRestored() {
        if (hasIncrementedBootCount) return;
        this.setState(function (prevState) {
          return {
            bootCount: ++prevState.bootCount
          };
        });
        hasIncrementedBootCount = true;
      }
    }, {
      key: "render",
      value: function render() {
        var _this$state = this.state,
            bootCount = _this$state.bootCount,
            promptAfter = _this$state.promptAfter,
            prompted = _this$state.prompted;
        var timeRemainingBeforePrompt = promptAfter - new Date().getTime();
        var visible = prompted === false && bootCount >= showAfterBoots && timeRemainingBeforePrompt <= 0;
        return visible && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(WrappedComponent, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
          dontShowAgain: this.dontShowAgain,
          showLater: this.showLater
        }, this.props));
      }
    }]);

    return WithBootDelay;
  }(react__WEBPACK_IMPORTED_MODULE_11__["Component"]);

  WithBootDelay.displayName = "WithBootDelay(".concat(WrappedComponent.displayName || WrappedComponent.name || 'Component', ")");
  return WithBootDelay;
};

var DelayedRatingModal = withBootDelay(RatingModal, PROMPT_AFTER_BOOTS);
var PersistentRatingModal = Object(_lib_withPersistentState__WEBPACK_IMPORTED_MODULE_15__["default"])(DelayedRatingModal, 'DelayedRatingModal');
/* harmony default export */ __webpack_exports__["default"] = (PersistentRatingModal);

/***/ }),

/***/ "skT2":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var SharingContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext();
/* harmony default export */ __webpack_exports__["default"] = (SharingContext);

/***/ }),

/***/ "swni":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"u-visuallyhidden":"u-visuallyhidden--1L4hk","dri-btn--more":"dri-btn--more--MNdqs","bar-homelink":"bar-homelink--2j0WN"};

/***/ }),

/***/ "tFpY":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("cLsY");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("buk/");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _withInstance__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("GNTO");







var buildPremiumLink = function buildPremiumLink(uuid, managerUrl) {
  return "".concat(managerUrl, "/cozy/instances/").concat(uuid, "/premium");
};

var QuotaAlert = function QuotaAlert(_ref) {
  var t = _ref.t,
      onClose = _ref.onClose,
      client = _ref.client;
  var instanceInfo = Object(_withInstance__WEBPACK_IMPORTED_MODULE_5__["default"])(client);
  var uuid = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(instanceInfo, 'instance.data.attributes.uuid');
  var managerUrl = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(instanceInfo, 'context.data.attributes.manager_url');
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react_Modal__WEBPACK_IMPORTED_MODULE_2__["default"], {
    title: t('quotaalert.title'),
    description: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, t('quotaalert.desc')),
    primaryText: t('quotaalert.confirm'),
    secondaryText: uuid && managerUrl ? t('quotaalert.increase') : undefined,
    primaryAction: onClose,
    secondaryAction: function secondaryAction() {
      return uuid && managerUrl ? window.open(buildPremiumLink(uuid, managerUrl), 'self') : onClose;
    },
    dismissAction: onClose
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])()(Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["withClient"])(QuotaAlert)));

/***/ }),

/***/ "tLSP":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var drive_web_modules_layout_Topbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("J3YJ");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_web_modules_navigation_Breadcrumb__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("XQ74");
/* harmony import */ var drive_web_modules_navigation_getFolderPath__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("tnFV");









var buildBreadcrumbPath = function buildBreadcrumbPath(currentDir, t) {
  return Object(drive_web_modules_navigation_Breadcrumb__WEBPACK_IMPORTED_MODULE_6__["renamePathNames"])(Object(drive_web_modules_navigation_getFolderPath__WEBPACK_IMPORTED_MODULE_7__["default"])(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, currentDir, {
    parent: lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(currentDir, 'relationships.parent.data')
  })), '', t);
};

var MoveTopbar = function MoveTopbar(_ref, _ref2) {
  var navigateTo = _ref.navigateTo,
      currentDir = _ref.currentDir,
      fetchStatus = _ref.fetchStatus,
      isMobile = _ref.breakpoints.isMobile;
  var t = _ref2.t;
  var path = fetchStatus === 'loaded' ? buildBreadcrumbPath(currentDir, t) : [];
  var showPreviousButton = path.length > 1 && isMobile;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_layout_Topbar__WEBPACK_IMPORTED_MODULE_4__["default"], {
    hideOnMobile: false
  }, showPreviousButton && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_navigation_Breadcrumb__WEBPACK_IMPORTED_MODULE_6__["PreviousButton"], {
    onClick: function onClick() {
      return navigateTo(path[path.length - 2]);
    }
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_navigation_Breadcrumb__WEBPACK_IMPORTED_MODULE_6__["Breadcrumb"], {
    path: path,
    onBreadcrumbClick: navigateTo,
    opening: false,
    inlined: true
  }));
};

MoveTopbar.propTypes = {
  navigateTo: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  currentDir: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,
  fetchStatus: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  breakpoints: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({
    isMobile: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool
  }).isRequired
};
MoveTopbar.contextTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_5__["withBreakpoints"])()(MoveTopbar));

/***/ }),

/***/ "tlNk":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("/MKj");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yEaX");



var AsyncBoundary = function AsyncBoundary(_ref) {
  var fetchStatus = _ref.fetchStatus,
      _ref$isNavigating = _ref.isNavigating,
      isNavigating = _ref$isNavigating === void 0 ? false : _ref$isNavigating,
      children = _ref.children;
  var fetchFailed = fetchStatus === 'failed';
  var fetchPending = fetchStatus === 'pending';
  var isLoading = fetchPending || isNavigating;
  return children({
    isLoading: isLoading,
    isNavigating: isNavigating,
    isInError: fetchFailed
  });
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    isNavigating: Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_1__["isNavigating"])(state),
    fetchStatus: state.view.fetchStatus
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(mapStateToProps)(AsyncBoundary));

/***/ }),

/***/ "tnFV":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("Z7XG");
 // reconstruct the whole path to the current folder (first element is the root, the last is the current folder)

var getFolderPath = function getFolderPath(displayedFolder, currentView) {
  var isPublic = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var sharedDocuments = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];
  var path = [];
  var isBrowsingTrash = /^trash/.test(currentView);
  var isBrowsingRecentFiles = /^recent/.test(currentView);
  var isBrowsingSharings = /^sharings/.test(currentView); // dring the first fetch, displayedFolder is null, and we don't want to display anything

  if (displayedFolder) {
    path.push(displayedFolder);
    /*
    If we are on the Recent view, we can return the path direclty since we're displaying
    only files and not folders. We can't have any navigation
    */

    if (isBrowsingRecentFiles) {
      return path;
    } // does the folder have parents to display? The trash folder has the root folder as parent, but we don't want to show that. Sharings folder at the root level have the same problem.


    var parent = displayedFolder.parent;
    var isShared = sharedDocuments.includes(displayedFolder.id);
    var isParentShared = parent && sharedDocuments.includes(parent.id);

    if (parent && parent.id && //If we're not at the root of the Trash
    !(isBrowsingTrash && parent.id === drive_constants_config__WEBPACK_IMPORTED_MODULE_0__["ROOT_DIR_ID"]) && //If we're not at the root of the sharings view
    !(isBrowsingSharings && isShared)) {
      path.unshift(parent); // has the parent a parent too?

      if (parent.dir_id && !(isBrowsingTrash && parent.dir_id === drive_constants_config__WEBPACK_IMPORTED_MODULE_0__["ROOT_DIR_ID"]) && !(isBrowsingSharings && isParentShared) && !isPublic) {
        // since we don't *actually* have any information about the parent's parent, we have to fake it
        path.unshift({
          id: parent.dir_id
        });
      }
    }
  }

  if (isPublic) {
    return path;
  } // finally, we need to make sure we have the root level folder, which can be either the root, or the trash folder.


  if (!isBrowsingRecentFiles && !isBrowsingSharings) {
    var hasRootFolder = path[0] && (path[0].id === drive_constants_config__WEBPACK_IMPORTED_MODULE_0__["ROOT_DIR_ID"] || path[0].id === drive_constants_config__WEBPACK_IMPORTED_MODULE_0__["TRASH_DIR_ID"]);

    if (!hasRootFolder) {
      // if we don't have one, we add it manually
      path.unshift({
        id: isBrowsingTrash ? drive_constants_config__WEBPACK_IMPORTED_MODULE_0__["TRASH_DIR_ID"] : drive_constants_config__WEBPACK_IMPORTED_MODULE_0__["ROOT_DIR_ID"]
      });
    }
  }

  return path;
};

/* harmony default export */ __webpack_exports__["default"] = (getFolderPath);

/***/ }),

/***/ "tqYW":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./ar": "kF+x",
	"./ar.json": "kF+x",
	"./cs_CZ": "1dDq",
	"./cs_CZ.json": "1dDq",
	"./de": "vMhE",
	"./de.json": "vMhE",
	"./en": "koyB",
	"./en.json": "koyB",
	"./es": "zuTE",
	"./es.json": "zuTE",
	"./eu": "Mc+O",
	"./eu.json": "Mc+O",
	"./fr": "1ivL",
	"./fr.json": "1ivL",
	"./it": "Nxnt",
	"./it.json": "Nxnt",
	"./ja": "AJyi",
	"./ja.json": "AJyi",
	"./ko": "893Q",
	"./ko.json": "893Q",
	"./nl": "UH/X",
	"./nl.json": "UH/X",
	"./nl_NL": "SD4Y",
	"./nl_NL.json": "SD4Y",
	"./pl": "NI1l",
	"./pl.json": "NI1l",
	"./pl_PL": "KEqR",
	"./pl_PL.json": "KEqR",
	"./ru": "iTyR",
	"./ru.json": "iTyR",
	"./zh_CN": "9Xnv",
	"./zh_CN.json": "9Xnv",
	"./zh_TW": "Gts3",
	"./zh_TW.json": "Gts3"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "tqYW";

/***/ }),

/***/ "trYA":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UploadQueue", function() { return UploadQueue; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_stylus_settings_palette_json__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("yoMi");
var cozy_ui_stylus_settings_palette_json__WEBPACK_IMPORTED_MODULE_12___namespace = /*#__PURE__*/__webpack_require__.t("yoMi", 1);
/* harmony import */ var drive_lib_getMimeTypeIcon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("QQky");
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("OjRq");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("Q5R/");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("2U19");

















var Pending = Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_10__["translate"])()(function (props) {
  return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['item-pending']
  }, props.t('UploadQueue.item.pending'));
});
var Item = Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_10__["translate"])()(function (_ref) {
  var _classNames;

  var file = _ref.file,
      status = _ref.status,
      isDirectory = _ref.isDirectory;
  var CANCEL = ___WEBPACK_IMPORTED_MODULE_16__["status"].CANCEL,
      LOADING = ___WEBPACK_IMPORTED_MODULE_16__["status"].LOADING,
      DONE_STATUSES = ___WEBPACK_IMPORTED_MODULE_16__["status"].DONE_STATUSES,
      ERROR_STATUSES = ___WEBPACK_IMPORTED_MODULE_16__["status"].ERROR_STATUSES;

  var _CozyFile$splitFilena = models__WEBPACK_IMPORTED_MODULE_14__["CozyFile"].splitFilename(file),
      filename = _CozyFile$splitFilena.filename,
      extension = _CozyFile$splitFilena.extension;

  var statusIcon;
  var done = false;
  var error = false;
  /**
   * Status cames from the Upload Queue, but sometimes we're using
   * manual upload without using the Upload Queue system but we're still
   * using the UI component. When this is the case, the file handles on
   * his own its status.
   */

  var statusToUse = file.status ? file.status : status;

  if (statusToUse === LOADING) {
    statusIcon = react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_11__["Spinner"], {
      className: "u-ml-half",
      color: cozy_ui_stylus_settings_palette_json__WEBPACK_IMPORTED_MODULE_12__['dodgerBlue']
    });
  } else if (statusToUse === CANCEL) {
    statusIcon = react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_11__["Icon"], {
      className: "u-ml-half",
      icon: "cross",
      color: cozy_ui_stylus_settings_palette_json__WEBPACK_IMPORTED_MODULE_12__['monza']
    });
  } else if (ERROR_STATUSES.includes(statusToUse)) {
    error = true;
    statusIcon = react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_11__["Icon"], {
      className: "u-ml-half",
      icon: "warning",
      color: cozy_ui_stylus_settings_palette_json__WEBPACK_IMPORTED_MODULE_12__['monza']
    });
  } else if (DONE_STATUSES.includes(statusToUse)) {
    done = true;
    statusIcon = react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_11__["Icon"], {
      className: "u-ml-half",
      icon: "check",
      color: cozy_ui_stylus_settings_palette_json__WEBPACK_IMPORTED_MODULE_12__['emerald']
    });
  } else {
    statusIcon = react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(Pending, null);
  }

  return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    "data-test-id": "upload-queue-item",
    className: classnames__WEBPACK_IMPORTED_MODULE_8___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['upload-queue-item'], (_classNames = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_classNames, _styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['upload-queue-item--done'], done), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_classNames, _styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['upload-queue-item--error'], error), _classNames))
  }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_8___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['item-file'], 'u-flex', 'u-flex-items-center', 'u-p-1')
  }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_11__["Icon"], {
    icon: Object(drive_lib_getMimeTypeIcon__WEBPACK_IMPORTED_MODULE_13__["default"])(isDirectory, file.name, file.type),
    size: 32,
    className: "u-flex-shrink-0 u-mr-1"
  }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    "data-test-id": "upload-queue-item-name",
    className: "u-ellipsis"
  }, filename, extension && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['item-ext']
  }, extension))), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['item-status']
  }, statusIcon));
});
var UploadQueue =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(UploadQueue, _Component);

  function UploadQueue() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, UploadQueue);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(UploadQueue)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", {
      collapsed: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "toggleCollapsed", function () {
      _this.setState(function (state) {
        return {
          collapsed: !state.collapsed
        };
      });
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(UploadQueue, [{
    key: "render",
    value: function render() {
      var _classNames2;

      var _this$props = this.props,
          t = _this$props.t,
          queue = _this$props.queue,
          doneCount = _this$props.doneCount,
          successCount = _this$props.successCount,
          purgeQueue = _this$props.purgeQueue;
      var collapsed = this.state.collapsed;
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        "data-test-id": "upload-queue",
        className: classnames__WEBPACK_IMPORTED_MODULE_8___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['upload-queue'], (_classNames2 = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_classNames2, _styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['upload-queue--visible'], queue.length !== 0), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_classNames2, _styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['upload-queue--collapsed'], collapsed), _classNames2))
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h4", {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['upload-queue-header'],
        onDoubleClick: this.toggleCollapsed
      }, doneCount < queue.length && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['upload-queue-header-inner']
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", {
        className: "u-hide--mob"
      }, t('UploadQueue.header', {
        smart_count: queue.length
      })), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", {
        className: "u-hide--desk"
      }, t('UploadQueue.header_mobile', {
        done: doneCount,
        total: queue.length
      }))), doneCount >= queue.length && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        "data-test-id": "upload-queue-success",
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['upload-queue-header-inner']
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", null, t('UploadQueue.header_done', {
        done: successCount,
        total: queue.length
      })), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button", {
        className: classnames__WEBPACK_IMPORTED_MODULE_8___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['btn-close']),
        onClick: purgeQueue
      }, t('UploadQueue.close')))), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("progress", {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['upload-queue-progress'],
        value: doneCount,
        max: queue.length
      }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['upload-queue-content']
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['upload-queue-list']
      }, queue.map(function (item, index) {
        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(Item, {
          key: "key_queue_".concat(index),
          file: item.file,
          isDirectory: item.isDirectory,
          status: item.status
        });
      }))));
    }
  }]);

  return UploadQueue;
}(react__WEBPACK_IMPORTED_MODULE_7__["Component"]);

var mapStateToProps = function mapStateToProps(state) {
  return {
    queue: Object(___WEBPACK_IMPORTED_MODULE_16__["getUploadQueue"])(state),
    doneCount: Object(___WEBPACK_IMPORTED_MODULE_16__["getProcessed"])(state).length,
    successCount: Object(___WEBPACK_IMPORTED_MODULE_16__["getSuccessful"])(state).length
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    purgeQueue: function purgeQueue() {
      return dispatch(Object(___WEBPACK_IMPORTED_MODULE_16__["purgeUploadQueue"])());
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_10__["translate"])()(Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["connect"])(mapStateToProps, mapDispatchToProps)(UploadQueue)));

/***/ }),

/***/ "u0tP":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"wrapper":"wrapper--36DKC","button-area":"button-area--17I3-","toolbar":"toolbar--3tj-V","origin-info":"origin-info--3-iD1","origin-info-text":"origin-info-text--1JUE-","origin-info-icon":"origin-info-icon--1cZO7","breadcrumb":"breadcrumb--1PN-n"};

/***/ }),

/***/ "udIP":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileOpener", function() { return FileOpener; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("dtw8");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_web_modules_viewer_barviewer_styl__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("xmtF");
/* harmony import */ var drive_web_modules_viewer_barviewer_styl__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(drive_web_modules_viewer_barviewer_styl__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var drive_web_modules_viewer_Fallback__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("wKlF");











/* global cozy */

/**
 * This component was previously named FileOpener
 * It has been renamed since it is used in :
 *  - an intent handler (aka service)
 *  - via cozydrive://
 */









var doNothing = function doNothing() {};

var FileNotFoundError = Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["translate"])()(function (_ref) {
  var t = _ref.t;
  return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("pre", {
    className: "u-error"
  }, t('FileOpenerExternal.fileNotFoundError'));
});
var FileOpener =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(FileOpener, _Component);

  function FileOpener() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, FileOpener);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(FileOpener)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "state", {
      loading: true,
      file: null
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "navigateToDrive", function () {
      var parentDir = lodash_get__WEBPACK_IMPORTED_MODULE_13___default()(_this.state, 'file.dir_id', '');

      _this.props.router.push("/folder/".concat(parentDir));
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(FileOpener, [{
    key: "componentWillMount",
    value: function componentWillMount() {
      var routerFileId = lodash_get__WEBPACK_IMPORTED_MODULE_13___default()(this.props, 'routeParams.fileId');

      if (this.props.fileId) {
        this.loadFileInfo(this.props.fileId);
      } else if (routerFileId) {
        this.loadFileInfo(routerFileId);
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (prevProps.fileId !== this.props.fileId) {
        return this.loadFileInfo(this.props.fileId);
      }

      var previousRouterFileId = lodash_get__WEBPACK_IMPORTED_MODULE_13___default()(prevProps, 'routeParams.fileId');
      var routerFileId = lodash_get__WEBPACK_IMPORTED_MODULE_13___default()(this.props, 'routeParams.fileId');

      if (previousRouterFileId !== routerFileId) {
        return this.loadFileInfo(routerFileId);
      }
    }
  }, {
    key: "loadFileInfo",
    value: function () {
      var _loadFileInfo = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(id) {
        var resp, file;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                this.setState({
                  fileNotFound: false
                });
                _context.next = 4;
                return cozy.client.files.statById(id, false);

              case 4:
                resp = _context.sent;
                file = _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, resp, resp.attributes, {
                  id: resp._id
                });
                this.setState({
                  file: file,
                  loading: false
                });
                _context.next = 13;
                break;

              case 9:
                _context.prev = 9;
                _context.t0 = _context["catch"](0);
                this.setState({
                  fileNotFound: true,
                  loading: false
                });
                cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["Alerter"].error('alert.could_not_open_file');

              case 13:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[0, 9]]);
      }));

      function loadFileInfo(_x) {
        return _loadFileInfo.apply(this, arguments);
      }

      return loadFileInfo;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
          file = _this$state.file,
          loading = _this$state.loading,
          fileNotFound = _this$state.fileNotFound;
      var _this$props = this.props,
          _this$props$withClose = _this$props.withCloseButtton,
          withCloseButtton = _this$props$withClose === void 0 ? true : _this$props$withClose,
          t = _this$props.t;
      return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div", {
        className: drive_web_modules_viewer_barviewer_styl__WEBPACK_IMPORTED_MODULE_15___default.a['viewer-wrapper-with-bar']
      }, loading && react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["Spinner"], {
        size: "xxlarge",
        loadingType: "message",
        middle: true
      }), fileNotFound && react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(FileNotFoundError, null), !loading && !fileNotFound && react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["Viewer"], {
        files: [file],
        currentIndex: 0,
        onChangeRequest: doNothing,
        onCloseRequest: withCloseButtton ? this.navigateToDrive : null,
        renderFallbackExtraContent: function renderFallbackExtraContent(file) {
          return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(drive_web_modules_viewer_Fallback__WEBPACK_IMPORTED_MODULE_16__["default"], {
            file: file,
            t: t
          });
        }
      }));
    }
  }]);

  return FileOpener;
}(react__WEBPACK_IMPORTED_MODULE_10__["Component"]);
FileOpener.propTypes = {
  router: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.shape({
    push: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired,
    params: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.shape({
      fileId: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.string.isRequired
    }).isRequired
  }),
  routeParams: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.shape({
    fileId: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.string
  }),
  fileId: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.string,
  withCloseButtton: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.bool
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_14__["translate"])()(Object(react_router__WEBPACK_IMPORTED_MODULE_12__["withRouter"])(FileOpener)));

/***/ }),

/***/ "unzg":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var drive_targets_manifest_webapp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("XA+M");
/* harmony import */ var drive_targets_manifest_webapp__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(drive_targets_manifest_webapp__WEBPACK_IMPORTED_MODULE_0__);

var appMetadata = {
  slug: drive_targets_manifest_webapp__WEBPACK_IMPORTED_MODULE_0___default.a.name,
  version: drive_targets_manifest_webapp__WEBPACK_IMPORTED_MODULE_0___default.a.version
};
/* harmony default export */ __webpack_exports__["default"] = (appMetadata);

/***/ }),

/***/ "vGv+":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("buk/");
/* harmony import */ var _Tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("Cp2O");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_react_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("y6ex");
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("OjRq");
/* harmony import */ var _status_styl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("3Jea");
/* harmony import */ var _status_styl__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_status_styl__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _assets_icons_icon_link_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Cm82");









var SharedStatus = function SharedStatus(_ref) {
  var className = _ref.className,
      docId = _ref.docId,
      recipients = _ref.recipients,
      link = _ref.link,
      t = _ref.t;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(className, _status_styl__WEBPACK_IMPORTED_MODULE_6___default.a['shared-status'])
  }, recipients.length > 1 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    "data-tip": true,
    "data-for": "members".concat(docId),
    className: _status_styl__WEBPACK_IMPORTED_MODULE_6___default.a['shared-status-label']
  }, t('Share.members.count', {
    smart_count: recipients.length
  })), recipients.length > 1 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Tooltip__WEBPACK_IMPORTED_MODULE_2__["SharingTooltip"], {
    id: "members".concat(docId)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Tooltip__WEBPACK_IMPORTED_MODULE_2__["TooltipRecipientList"], {
    recipientNames: recipients.map(function (recipient) {
      return models__WEBPACK_IMPORTED_MODULE_5__["Contact"].getDisplayName(recipient);
    })
  })), link && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react_Icon__WEBPACK_IMPORTED_MODULE_4__["default"], {
    icon: _assets_icons_icon_link_svg__WEBPACK_IMPORTED_MODULE_7__["default"]
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_1__["translate"])()(SharedStatus));

/***/ }),

/***/ "vMhE":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"Drive","item_recent":"Recent","item_sharings":"Freigaben","item_shared":"Von mir geteilt","item_activity":"Aktivitt","item_trash":"Mlleimer","item_settings":"Einstellungen","item_collect":"Administrative","btn-client":"Get Cozy Drive for desktop","btn-client-web":"Hol dir Cozy","btn-client-mobile":"Hol dir Cozy Drive auf dein Handy!","banner-txt-client":"Get Cozy Drive for Desktop and synchronise your files safely to make them accessible at all times.","banner-btn-client":"Download","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Laufwerk","title_recent":"Neueste","title_sharings":"Freigaben","title_shared":"Von mir geteilt","title_activity":"Aktivitt","title_trash":"Mlleimer"},"Toolbar":{"more":"Mehr"},"toolbar":{"item_upload":"Hochladen","menu_upload":"Dateien hochladen","item_more":"Mehr","menu_new_folder":"Neuer Ordner","menu_select":"Elemente auswhlen","menu_download_folder":"Download Ordner","menu_download_file":"Download this file","menu_open_cozy":"Open in my Cozy","empty_trash":"Mlleimer leeren","share":"Teilen","trash":"Enfernen","leave":"Leave shared folder & delete it"},"Share":{"status":{"owner":"Eigentmer","pending":"Ausstehend","ready":"Akzeptiert","refused":"Verweigert","error":"Fehler","unregistered":"Fehler","mail-not-sent":"Ausstehend","revoked":"Fehler"},"type":{"one-way":"Darf sehen","two-way":"Darf ndern","desc":{"one-way":"Contacts can view, download, and add the content to their Cozy. If they add the content to their Cozy, they will get updates you make to the content, but they won't be able to update it.","two-way":"Contacts can update, delete and add the content to their Cozy. Updates on the content will be seen on other Cozies."}},"locked-type-file":"Coming soon: you will be able to change permissions you grant on the file.","locked-type-folder":"Coming soon: you will be able to change permissions you grant on the folder.","recipients":{"you":"You","accessCount":"%{count} people have access"},"create-cozy":"Create my cozy","members":{"count":"1 member |||| %{smart_count} members","others":"and 1 other |||| and %{smart_count} others","otherContacts":"other contact |||| other contacts"},"contacts":{"permissionRequired":{"title":"Save your contacts in your Cozy?","desc":"Authorize the application to access to your Cozy's contacts: you'll be able to select them next time.","action":"Authorize access","success":"The application has access to your contacts"}}},"Sharings":{"unavailable":{"title":"Switch online!","message":"An internet connection is needed to display the list of your last sharings."}},"Files":{"share":{"cta":"Teilen","title":"Share","details":{"title":"Sharing details","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Cozy. You will get updates by the owner, but you won't be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Cozy. Updates you make will be seen on other Cozies."}},"sharedByMe":"Shared by me","sharedWithMe":"Shared with me","sharedBy":"Shared by %{name}","shareByLink":{"subtitle":"By public link","desc":"Jeder der den Link kennt, kann deine Dateien sehen und herunterladen.","creating":"Creating your link...","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard"},"shareByEmail":{"subtitle":"By email","email":"To:","emailPlaceholder":"Enter the email address or name of the recipient","send":"Senden","genericSuccess":"You sent an invite to %{count} contacts.","success":"Du hast eine Einladung an %{email} geschickt.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won't be synchrnoized anymore.","success":"You removed this shared file from %{email}."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won't be updated between your Cozy anymore.","success":"You were removed from this sharing."},"sharingLink":{"title":"Link zum Teilen","copy":"Kopie","copied":"Kopiert"},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":"Kommt spter!","desc":"Teile irgendetwas per Email mit Familie und Freunden!"},"close":"Schlieen","gettingLink":"Erstelle deinen Link ...","error":{"generic":"Beim Erstellen der Dateifreigabeverknpfung ist ein Fehler aufgetreten, bitte versuche es erneut.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"Name","head_update":"Letzte Aktualisierung","head_size":"Gre","head_status":"Status","head_thumbnail_size":"Switch thumbnail size","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":"Teilen (nur Lesen)","row_read_write":"Teilen (Lesen & Schreiben)","row_size_symbols":{"B":"Byte","KB":"Kilobyte","MB":"Megabyte","GB":"Gigabyte","TB":"Terabyte","PB":"Petabyte","EB":"Exabyte","ZB":"Zettabyte","YB":"Yottabyte"},"load_more":"Load More","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oldest first","head_updated_at_desc":"Most recent first","head_size_asc":"Lightest first","head_size_desc":"Heavier first"}},"SelectionBar":{"selected_count":"Element ausgewhlt |||| Elemente ausgewhlt","share":"Teilen","download":"Herunterladen","trash":"Enfernen","destroy":"Dauerhaft lschen","rename":"Umbenennen","restore":"Wiederherstellen","close":"Schlieen","openWith":"ffnen mit","moveto":"Move to","phone-download":"Make available offline","qualify":"Categorize"},"deleteconfirmation":{"title":"Dieses Element lschen? |||| Diese Elemente lschen?","trash":"Es wird in den Papierkorb verschoben. |||| Sie werden in den Papierkorb verschoben.","restore":"Du kannst es immer wiederherstellen, wann du willst. |||| Du kannst sie immer wiederherstellen, wann du willst.","shared":"The following contacts whom you shared it with will keep a copy but your changes won't be synchronized anymore. |||| The following contacts whom you shared them with will keep a copy but your changes won't be synchronized anymore","referenced":"Einige der Dateien innerhalb der Auswahl beziehen sich auf ein Fotoalbum. Sie werden aus ihm entfernt, wenn du sie in den Mll verschiebst.","cancel":"Abbrechen","delete":"Entfernen"},"emptytrashconfirmation":{"title":" Dauerhaft lschen? ","forbidden":"Du kannst nicht mehr auf diese Dateien zugreifen.","restore":"Du kannst diese Dateien nicht wiederherstellen, wenn du keine Sicherung gemacht hast.","cancel":"Abbrechen","delete":"Alles lschen"},"destroyconfirmation":{"title":"Dauerhaft lschen?","forbidden":"Du kannst nicht mehr auf diese Datei zugreifen. |||| Du kannst nicht mehr auf diese Dateien zugreifen.","restore":"Du kannst diese Datei nicht wiederherstellen, wenn du keine Sicherung gemacht hast. |||| Du kannst diese Dateien nicht wiederherstellen, wenn du keine Sicherung gemacht hast.","cancel":"Abbrechen","delete":"Dauerhaft lschen"},"quotaalert":{"title":"Dein Speicherplatz ist voll :(","desc":"Bitte entferne Dateien und leere den Papierkorb, bevor du Dateien erneut hochldst.","confirm":"OK"},"loading":{"message":"Lade"},"empty":{"title":"Du hast keine Dateien in diesem Ordner.","text":"Klicke auf die Schaltflche \"Hochladen\", um Dateien zu diesem Ordner hinzuzufgen.","trash_title":"You dont have any deleted files.","trash_text":"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."},"error":{"open_folder":"Beim ffnen des Ordners ist etwas schief gelaufen.","button":{"reload":"Jetzt aktualisieren"},"download_file":{"offline":"Du solltest verbunden sein, um diese Datei herunterzuladen.","missing":"Diese Datei fehlt"}},"Error":{"public_unshared_title":"Sorry, this link is no longer available.","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!"},"alert":{"could_not_open_file":"The file could not be opened","try_again":"Ein Fehler ist aufgetreten, bitte versuche es noch einmal.","restore_file_success":"Die Auswahl wurde erfolgreich wiederhergestellt.","trash_file_success":"Die Auswahl wurde in den Mlleimer verschoben.","destroy_file_success":"Die Auswahl wurde entgltig gelscht.","empty_trash_progress":"Your trash is being emptied. This might take a few moments.","empty_trash_success":"The trash has been emptied.","folder_name":"Das Element %{folderName} existiert bereits, bitte whle einen neuen Namen.","folder_generic":" Ein Fehler ist aufgetreten, bitte versuche es noch einmal.","folder_abort":"Du musst deinem neuen Ordner einen Namen hinzufgen, wenn du ihn speichern mchtest. Deine Daten wurden nicht gespeichert.","offline":"Diese Funktion ist offline nicht verfgbar.","preparing":"Preparing your files"},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Create a Cozy or sign in to access Cozy Drive","button":"Sign in","no_account_link":"I don't have a Cozy","create_my_cozy":"Create my Cozy"},"server_selection":{"title":"Sign in","lostpwd":"[I forgot the address of my Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Address of my Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"other","button":"Nchster","wrong_address_with_email":"You typed an email address. To connect on your cozy you must type its url, something like https://camillenimbus.mycozy.cloud","wrong_address_v2":"Du hast gerade die Adresse der alten Cosy Version eingegeben. Diese Anwendung ist nur mit der neuesten Version kompatibel. [Bitte beachte unsere Website fr weitere Informationen.] (https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"Unter dieser Adresse scheint es kein Cozy zu geben. Bitte berprfe die von dir angegebene Adresse.","wrong_address_cosy":"Woops, the address is not correct. Try with \"cozy\" with a \"z\"!"},"files":{"title":"Zugriff auf Ihr Laufwerk","description":"Um Ihr Cozy Drive auf Ihrem Gert zu speichern, muss die Anwendung auf deine Dateien zugreifen."},"photos":{"title":"Sichere deine Fotos und Videos","description":"Automatische Sicherung der Fotos, die mit deinem Telefon aufgenommen wurden, in Cozy. Also verlierst du sie nie."},"contacts":{"title":"Syncronisiere deine Kontakte","description":"Speichere die Kontakte auf deinem Telefon auf dein Cozy - das erleichtert das Teilen von Dateien mit deinen Kontakten."},"step":{"button":"Jetzt aktivieren","skip":"Spter","next":"Nchster"},"analytics":{"title":"Hilf uns, Cozy zu verbessern","description":"Die Anwendung liefert automatisch Daten (hauptschlich Fehler) an Cozy Cloud. Das wird uns erlauben, Probleme schneller zu lsen."}},"settings":{"title":"Einstellungen","about":{"title":"ber","app_version":"App Version","account":"Konto"},"unlink":{"title":"Sign out of your Cozy","description":"By signing out of your Cozy from this device, you will not lose any data in your Cozy. This will remove your offline files from this device related to your Cozy.","button":"Sign out"},"media_backup":{"media_folder":"Photos","backup_folder":"Backed up from my mobile","legacy_backup_folder":"Backuped from my mobile","title":"Medien Sicherung","images":{"title":"Fotosicherung","label":"Sichere deine Bilder automatisch zu deinem Cozy, um sie niemals zu verlieren und sie leicht zu teilen."},"launch":"Sicherungskopie starten","stop":"Sicherungskopie stoppen","wifi":{"title":"Sicherungskopie nur per WLan","label":"Wenn die Option aktiviert ist, wird dein Gert nur Fotos sichern, wenn WLan aktiviert ist."},"media_upload":"%{smart_count} remaining picture |||| %{smart_count} remaining pictures","media_uptodate":"Media backup is up-to-date","preparing":"Searching for media to backup...","no_wifi":"Please connect to a WIFI","quota":"Storage limit nearly reached","quota_contact":"Manage your storage space"},"support":{"title":"Support","analytics":{"title":"Hilf uns, Cozy zu verbessern","label":"Die Anwendung liefert automatisch Daten (hauptschlich Fehler) an Cozy Cloud. Das wird uns erlauben, Probleme schneller zu lsen."},"feedback":{"title":"Help improve Cozy Drive","description":"Send your feedback to help us improve Cozy Drive. Click on the button below, explain the problem or make a suggestion and send it. You're done!","button":"leave feedback"},"logs":{"title":"Hilf uns, dein Problem zu verstehen","description":"Sende das Anwendungsprotokoll, um uns zu helfen, Qualitt und Stabilitt zu verbessern.","button":"Sende meine Log-Dateien","success":"Danke, wir werden dein Problem untersuchen und dann mit dir in Verbindung treten.","error":"Ein Problem ist aufgetreten, Log-Dateien konnten nicht gesendet werden, bitte versuche es erneut."}},"contacts":{"title":"Kontakte","subtitle":"Importierte Kontakte","text":"Importiere Kontakte von deinem Gert zu deinem Cozy, um Inhalte mit ihnen leicht zu teilen."}},"error":{"open_with":{"offline":"Du sollten verbunden sein, um diese Datei zu ffnen","noapp":"Keine Anwendung kann diese Datei ffnen"},"make_available_offline":{"offline":"You should be connected to open this file","noapp":"No application can open this file"}},"revoked":{"title":"Zugang widerrufen","description":"Es scheint, dass du dieses Gert von deinem Cozy widerrufen hast. Wenn du das nicht getan hast, informiere uns bitte unter contact@cozycloud.cc. Alle deine lokalen Daten im Zusammenhang mit deinem Cozy werden entfernt.","loginagain":"Nochmal anmelden","logout":"Ausloggen"},"rating":{"enjoy":{"title":"Erfreut dich Cozy Drive?","yes":"Ja!","no":"Nicht wirklich"},"rate":{"title":"Wrdest du es bewerten?","yes":"Lass uns das tun!","no":"Nein, Danke","later":"Vielleicht spter"},"feedback":{"title":"Wrdest du uns etwas Feedback geben?","yes":"Senden","no":"Nein, Danke"},"email":{"subject":"Feedback zu Cozy Drive","placeholder":"Hallo, ich denke Cozy Drive wre besser, wenn ..."},"alert":{"rated":"Danke! Du bist ","declined":"Genial. Du wirst die kommenden Features lieben. Bleib bei Cozy!","later":"Kein Problem, wir werden spter noch einmal fragen.","feedback":"Danke fr die Bewertung. Wir werden definitiv daran arbeiten!"}},"first_sync":{"title":"You are about to start your first photos back up ","tips":"Tips","tip_bed":"Open Cozy Drive before you go to bed or when you don't use your phone.","tip_wifi":"Enable Wi-Fi to preserve your data.","tip_lock":"Disable your lock screen.","result":"In the morning, all your photos will be stored in a safe and secure location.","button":"Got it!"},"notifications":{"backup_paused":"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."}},"upload":{"alert":{"success":"%{smart_count} Datei erfolgreich hochgeladen . |||| %{smart_count} Dateien erfolgreich hochgeladen.","success_conflicts":"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} file uploaded and %{updatedCount} updated. |||| %{smart_count} files uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} file uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} files uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} file updated. |||| %{smart_count} files updated.","updated_conflicts":"%{smart_count} file updated with %{conflictCount} conflict(s). |||| %{smart_count} files updated with %{conflictCount} conflict(s).","errors":"Whrend des Hochladens sind Fehler aufgetreten.","network":"You are currenly offline. Please try again once you're connected."}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Hochladen von %{smart_count} Foto zum Cozy Drive |||| Hochladen von %{smart_count} Fotos zum Cozy Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Hochladen %{done} aus %{total} erfolgreich","close":"Schlieen","item":{"pending":"Ausstehend"}},"Viewer":{"close":"Close","noviewer":{"download":"Download this file","openWith":"Open with...","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":"Download"},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":"Retry"},"error":{"noapp":"No application found to handle this file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You're currently offline."}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it's original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it's original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back."},"FileOpenerExternal":{"fileNotFoundError":"Error: file not found"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"You are currently offline and you can't use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}}};

/***/ }),

/***/ "vX5W":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_react_Layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Bh3+");
/* harmony import */ var components_pushClient_Banner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("f/Nf");
/* harmony import */ var drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("8IyR");
/* harmony import */ var drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_6__);


/* global __TARGET__ */







var Main = function Main(_ref) {
  var children = _ref.children,
      _ref$working = _ref.working,
      working = _ref$working === void 0 ? false : _ref$working,
      _ref$isPublic = _ref.isPublic,
      isPublic = _ref$isPublic === void 0 ? false : _ref$isPublic;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_react_Layout__WEBPACK_IMPORTED_MODULE_4__["Main"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_6___default.a['fil-content'], _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_6___default.a['--working'], working))
  },  true && !isPublic && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_pushClient_Banner__WEBPACK_IMPORTED_MODULE_5__["default"], null), children);
};

Main.propTypes = {
  isPublic: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,
  working: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,
  children: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.array
};
/* harmony default export */ __webpack_exports__["default"] = (Main);

/***/ }),

/***/ "vehq":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MobileFileListHeader", function() { return MobileFileListHeader; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("/MKj");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("H+Xc");
/* harmony import */ var _navigation_duck_actions__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("QwUF");
/* harmony import */ var drive_assets_icons_icon_list_svg__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("AnwN");
/* harmony import */ var drive_assets_icons_icon_list_min_svg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("Fczp");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("yEaX");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18__);



















var SORTABLE_ATTRIBUTES = [{
  label: 'name',
  attr: 'name',
  css: 'file',
  defaultOrder: 'asc'
}, {
  label: 'update',
  attr: 'updated_at',
  css: 'date',
  defaultOrder: 'desc' // TODO: activate sorting by size when it's ready on the back side
  // { label: 'size', attr: 'size', css: 'size', defaultOrder: 'desc' }

}];
var DEFAULT_SORT = {
  attribute: 'name',
  order: 'asc'
};

var HeaderCell = function HeaderCell(_ref) {
  var t = _ref.t,
      label = _ref.label,
      css = _ref.css;
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-header'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a["fil-content-".concat(css)])
  }, t("table.head_".concat(label)));
};

var SortableHeaderCell = function SortableHeaderCell(_ref2) {
  var _classNames;

  var t = _ref2.t,
      label = _ref2.label,
      attr = _ref2.attr,
      css = _ref2.css,
      _ref2$order = _ref2.order,
      order = _ref2$order === void 0 ? null : _ref2$order,
      defaultOrder = _ref2.defaultOrder,
      onSort = _ref2.onSort;
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    onClick: function onClick() {
      return onSort(attr, order ? order === 'asc' ? 'desc' : 'asc' : defaultOrder);
    },
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-header'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a["fil-content-".concat(css)], (_classNames = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_classNames, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-header-sortableasc'], order === null && defaultOrder === 'asc'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_classNames, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-header-sortabledesc'], order === null && defaultOrder === 'desc'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_classNames, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-header-sortasc'], order === 'asc'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_classNames, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-header-sortdesc'], order === 'desc'), _classNames))
  }, t("table.head_".concat(label)));
};

var MobileSortMenu = function MobileSortMenu(_ref3) {
  var t = _ref3.t,
      sort = _ref3.sort,
      onSort = _ref3.onSort,
      onClose = _ref3.onClose;
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__["ActionMenu"], {
    onClose: onClose
  }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-sort-menu']
  }, SORTABLE_ATTRIBUTES.map(function (_ref4) {
    var attr = _ref4.attr;
    return [{
      attr: attr,
      order: 'asc'
    }, {
      attr: attr,
      order: 'desc'
    }];
  }).reduce(function (acc, val) {
    return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7___default()(acc), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7___default()(val));
  }, []).map(function (_ref5) {
    var attr = _ref5.attr,
        order = _ref5.order;
    return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__["MenuItem"], {
      key: "key_".concat(attr, "_").concat(order),
      className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-sort-menu-item'], _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()({}, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-sort-menu-item-selected'], sort.order === order && sort.attribute === attr)),
      onClick: function onClick() {
        onSort(attr, order);
        onClose();
      }
    }, t("table.mobile.head_".concat(attr, "_").concat(order)));
  })));
};

var MobileHeader =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(MobileHeader, _Component);

  function MobileHeader() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, MobileHeader);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(MobileHeader)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "state", {
      showSortMenu: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "showSortMenu", function () {
      return _this.setState({
        showSortMenu: true
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "hideSortMenu", function () {
      return _this.setState({
        showSortMenu: false
      });
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(MobileHeader, [{
    key: "render",
    value: function render() {
      var _classNames3;

      var _this$props = this.props,
          t = _this$props.t,
          folderId = _this$props.folderId,
          canSort = _this$props.canSort,
          sort = _this$props.sort,
          onFolderSort = _this$props.onFolderSort,
          thumbnailSizeBig = _this$props.thumbnailSizeBig,
          toggleThumbnailSize = _this$props.toggleThumbnailSize;
      if (!canSort) return null;
      var actualSort = sort || DEFAULT_SORT;
      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-mobile-head'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-row-head'])
      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        onClick: this.showSortMenu,
        className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-mobile-header'], (_classNames3 = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_classNames3, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-header-sortasc'], actualSort.order === 'asc'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_classNames3, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-header-sortdesc'], actualSort.order === 'desc'), _classNames3))
      }, t("table.mobile.head_".concat(actualSort.attribute, "_").concat(actualSort.order))), this.state.showSortMenu && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(MobileSortMenu, {
        t: t,
        sort: actualSort,
        onClose: this.hideSortMenu,
        onSort: function onSort(attr, order) {
          return onFolderSort(folderId, attr, order);
        }
      }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-mobile-header'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-header-action'])
      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__["Button"], {
        theme: 'action',
        onClick: function onClick() {
          toggleThumbnailSize();
        },
        label: t('table.head_thumbnail_size'),
        extension: "narrow",
        icon: react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__["Icon"], {
          icon: thumbnailSizeBig ? drive_assets_icons_icon_list_min_svg__WEBPACK_IMPORTED_MODULE_16__["default"] : drive_assets_icons_icon_list_svg__WEBPACK_IMPORTED_MODULE_15__["default"],
          size: 17,
          label: t('table.head_thumbnail_size')
        }),
        iconOnly: true
      })));
    }
  }]);

  return MobileHeader;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);

var FileListHeader = function FileListHeader(_ref6) {
  var t = _ref6.t,
      folderId = _ref6.folderId,
      canSort = _ref6.canSort,
      sort = _ref6.sort,
      onFolderSort = _ref6.onFolderSort,
      thumbnailSizeBig = _ref6.thumbnailSizeBig,
      toggleThumbnailSize = _ref6.toggleThumbnailSize;
  var actualSort = sort || DEFAULT_SORT;
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-head'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-row-head'])
  }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-header'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-file-select'])
  }), SORTABLE_ATTRIBUTES.map(function (props, index) {
    if (!canSort) {
      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(HeaderCell, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
        t: t,
        key: index
      }));
    }

    var isActive = actualSort && actualSort.attribute === props.attr;
    return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(SortableHeaderCell, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      key: "key_cell_".concat(index)
    }, props, {
      t: t,
      order: isActive ? actualSort.order : null,
      onSort: function onSort(attr, order) {
        return onFolderSort(folderId, attr, order);
      }
    }));
  }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-header'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-size'])
  }, t('table.head_size')), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-header'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-header-status'])
  }, t('table.head_status')), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-header'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_18___default.a['fil-content-header-action'])
  }, canSort && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__["Button"], {
    theme: 'action',
    onClick: function onClick() {
      toggleThumbnailSize();
    },
    label: t('table.head_thumbnail_size'),
    extension: "narrow",
    icon: react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_13__["Icon"], {
      icon: thumbnailSizeBig ? drive_assets_icons_icon_list_min_svg__WEBPACK_IMPORTED_MODULE_16__["default"] : drive_assets_icons_icon_list_svg__WEBPACK_IMPORTED_MODULE_15__["default"],
      size: 17,
      label: t('table.head_thumbnail_size')
    }),
    iconOnly: true
  })));
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    sort: Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_17__["getSort"])(state),
    folderId: Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_17__["getOpenedFolderId"])(state),
    thumbnailSizeBig: state.view.thumbnailSize
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    onFolderSort: function onFolderSort(folderId, attr, order) {
      return dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_17__["sortFolder"])(folderId, attr, order));
    },
    toggleThumbnailSize: function toggleThumbnailSize() {
      return dispatch(Object(_navigation_duck_actions__WEBPACK_IMPORTED_MODULE_14__["toggleThumbnailSize"])());
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_10__["connect"])(mapStateToProps, mapDispatchToProps)(Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_12__["translate"])()(FileListHeader)));
var MobileFileListHeader = Object(react_redux__WEBPACK_IMPORTED_MODULE_10__["connect"])(mapStateToProps, mapDispatchToProps)(Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_12__["translate"])()(MobileHeader));

/***/ }),

/***/ "w0Z6":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-folder_f49493c812ab389aaac1e61434f7995f",
  "use": "icon-type-folder_f49493c812ab389aaac1e61434f7995f-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-folder_f49493c812ab389aaac1e61434f7995f\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(0 2)\">\n    <rect width=\"32\" height=\"26\" y=\"2\" fill=\"#B2D3FF\" rx=\"2\" />\n    <path fill=\"#197BFF\" d=\"M0,0.990777969 C0,0.443586406 0.449948758,0 1.00684547,0 L12.9931545,0 C13.5492199,0 14.3125,0.3125 14.7107565,0.71075654 L15.2892435,1.28924346 C15.6817835,1.68178346 16.4446309,2 17.0008717,2 L30.0059397,2 C31.1072288,2 32,2.89470506 32,4 L32,4 L17.0008717,4 C16.4481055,4 15.6875,4.3125 15.2892435,4.71075654 L14.7107565,5.28924346 C14.3182165,5.68178346 13.5500512,6 12.9931545,6 L1.00684547,6 C0.450780073,6 0,5.54902482 0,5.00922203 L0,0.990777969 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "w2zn":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_web_modules_filelist_File__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("d9dq");




var isValidMoveTarget = function isValidMoveTarget(subjects, target) {
  var isASubject = subjects.find(function (subject) {
    return subject._id === target._id;
  });
  var isAFile = target.type === 'file';
  return isAFile || isASubject;
};

var FileList = function FileList(_ref) {
  var targets = _ref.targets,
      files = _ref.files,
      navigateTo = _ref.navigateTo;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, files.map(function (file) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_File__WEBPACK_IMPORTED_MODULE_2__["DumbFile"], {
      key: file.id,
      disabled: isValidMoveTarget(targets, file),
      attributes: file,
      displayedFolder: null,
      actions: null,
      isRenaming: false,
      onFolderOpen: function onFolderOpen(id) {
        return navigateTo(files.find(function (f) {
          return f.id === id;
        }));
      },
      onFileOpen: null,
      withSelectionCheckbox: false,
      withFilePath: false,
      withSharedBadge: true
    });
  }));
};

FileList.propTypes = {
  targets: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
  files: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
  navigateTo: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (FileList);

/***/ }),

/***/ "wKlF":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _CallToAction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("VL2R");
/* harmony import */ var _NoViewerButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("x8J/");





var Fallback = function Fallback(_ref) {
  var file = _ref.file,
      t = _ref.t;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NoViewerButton__WEBPACK_IMPORTED_MODULE_3__["default"], {
    file: file,
    t: t
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_CallToAction__WEBPACK_IMPORTED_MODULE_2__["default"], {
    t: t
  }));
};

Fallback.propTypes = {
  file: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired // t is a prop passed by the parent and must not be received from the translate() HOC  otherwise the translation context becomes the one of the viewer instad of the app. See https://github.com/cozy/cozy-ui/issues/914#issuecomment-487959521

};
/* harmony default export */ __webpack_exports__["default"] = (Fallback);

/***/ }),

/***/ "x76H":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var drive_web_modules_filelist_FileListHeader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("vehq");
/* harmony import */ var drive_web_modules_filelist_FileListBody__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("NirP");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_3__);





var FileList = function FileList(_ref) {
  var canSort = _ref.canSort,
      fileActions = _ref.fileActions,
      _ref$withSelectionChe = _ref.withSelectionCheckbox,
      withSelectionCheckbox = _ref$withSelectionChe === void 0 ? true : _ref$withSelectionChe,
      children = _ref.children,
      files = _ref.files,
      fileCount = _ref.fileCount,
      fetchMoreFiles = _ref.fetchMoreFiles,
      displayedFolder = _ref.displayedFolder,
      onFolderOpen = _ref.onFolderOpen,
      onFileOpen = _ref.onFileOpen,
      withFilePath = _ref.withFilePath,
      withSharedBadge = _ref.withSharedBadge,
      isRenaming = _ref.isRenaming,
      renamingFile = _ref.renamingFile;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_3___default.a['fil-content-table'],
    role: "table"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FileListHeader__WEBPACK_IMPORTED_MODULE_1__["MobileFileListHeader"], {
    canSort: canSort
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FileListHeader__WEBPACK_IMPORTED_MODULE_1__["default"], {
    canSort: canSort
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.count(children) > 0 ? children : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FileListBody__WEBPACK_IMPORTED_MODULE_2__["default"], {
    fileActions: fileActions,
    withSelectionCheckbox: withSelectionCheckbox,
    files: files,
    fileCount: fileCount,
    fetchMoreFiles: fetchMoreFiles,
    displayedFolder: displayedFolder,
    onFolderOpen: onFolderOpen,
    onFileOpen: onFileOpen,
    withFilePath: withFilePath,
    withSharedBadge: withSharedBadge,
    isRenaming: isRenaming,
    renamingFile: renamingFile
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (FileList);

/***/ }),

/***/ "x8J/":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("qxHO");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("iTW1");


















var AsyncActionButton =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(AsyncActionButton, _React$Component);

  function AsyncActionButton() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, AsyncActionButton);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(AsyncActionButton)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "state", {
      loading: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this), "onClick",
    /*#__PURE__*/
    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
      var _this$props, onClick, onError;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _this$props = _this.props, onClick = _this$props.onClick, onError = _this$props.onError;

              _this.setState(function (state) {
                return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
                  loading: true
                });
              });

              _context.prev = 2;
              _context.next = 5;
              return onClick();

            case 5:
              _context.next = 10;
              break;

            case 7:
              _context.prev = 7;
              _context.t0 = _context["catch"](2);
              onError(_context.t0);

            case 10:
              _this.setState(function (state) {
                return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
                  loading: false
                });
              });

            case 11:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[2, 7]]);
    })));

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(AsyncActionButton, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          label = _this$props2.label,
          className = _this$props2.className;
      return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Button"], {
        busy: this.state.loading,
        className: className,
        onClick: this.onClick,
        label: label
      });
    }
  }]);

  return AsyncActionButton;
}(react__WEBPACK_IMPORTED_MODULE_10___default.a.Component);

var OpenWithCordovaButton = Object(react_redux__WEBPACK_IMPORTED_MODULE_12__["connect"])(null, function (dispatch, ownProps) {
  return {
    openLocalFileCopy: function openLocalFileCopy() {
      return dispatch(Object(drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_16__["openLocalFileCopy"])(ownProps.file));
    }
  };
})(function (_ref2) {
  var t = _ref2.t,
      openLocalFileCopy = _ref2.openLocalFileCopy;
  return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(AsyncActionButton, {
    onClick: openLocalFileCopy,
    onError: function onError(error) {
      if (/^Activity not found/.test(error.message)) {
        cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Alerter"].error('Viewer.error.noapp', error);
      } else {
        Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_14__["logException"])(error);
        cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Alerter"].error('Viewer.error.generic', error);
      }
    },
    label: t('Viewer.noviewer.openWith')
  });
});

var DownloadButton = function DownloadButton(_ref3, _ref4) {
  var t = _ref3.t,
      file = _ref3.file;
  var client = _ref4.client;
  return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Button"], {
    onClick: function onClick() {
      return client.collection('io.cozy.files').download(file);
    },
    label: t('Viewer.noviewer.download')
  });
};

DownloadButton.contextTypes = {
  client: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.object.isRequired
};

var NoViewerButton = function NoViewerButton(_ref5) {
  var file = _ref5.file,
      t = _ref5.t;
  if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_15__["isMobileApp"])()) return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(OpenWithCordovaButton, {
    t: t,
    file: file
  });else return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(DownloadButton, {
    t: t,
    file: file
  });
};

/* harmony default export */ __webpack_exports__["default"] = (NoViewerButton);

/***/ }),

/***/ "xNZN":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-text_e665c2558003a9b72fa156bcef81b180",
  "use": "icon-type-text_e665c2558003a9b72fa156bcef81b180-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-text_e665c2558003a9b72fa156bcef81b180\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(3)\">\n    <path fill=\"#B2D3FF\" d=\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\" />\n    <path fill=\"#197BFF\" d=\"M18.5.57092175e-14C18.2238576.33045111e-13 18 .230796814 18 .500435829L18 8 25.4995642 8C25.7759472 8 26 7.76806641 26 7.5L26 7 19 0 18.5.57092175e-14zM6 11L20 11 20 13 6 13 6 11zM6 15L18 15 18 17 6 17 6 15zM6 19L20 19 20 21 6 21 6 19zM6 23L16 23 16 25 6 25 6 23z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "xYmX":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var sharing_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("skT2");




function getDisplayName(WrappedComponent) {
  return WrappedComponent.displayName || WrappedComponent.name || 'Component';
}

var withSharingState = function withSharingState(Wrapped) {
  var WithSharingState = function WithSharingState(props) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(sharing_context__WEBPACK_IMPORTED_MODULE_2__["default"].Consumer, null, function (sharingState) {
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Wrapped, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        sharingState: sharingState
      }, props));
    });
  };

  WithSharingState.displayName = "WithSharingState(".concat(getDisplayName(Wrapped), ")");
  return WithSharingState;
};

/* harmony default export */ __webpack_exports__["default"] = (withSharingState);

/***/ }),

/***/ "xeLO":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("i8i4");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var popper_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("8L3F");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("H+Xc");
/* harmony import */ var _MenuItem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("s4+x");
/* harmony import */ var drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("32XB");
/* harmony import */ var drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12__);














var Menu =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(Menu, _Component);

  function Menu() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Menu);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(Menu).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Menu, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var reference = this.props.reference; // eslint-disable-next-line react/no-find-dom-node

      var anchorEl = react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.findDOMNode(reference); // eslint-disable-next-line react/no-find-dom-node

      var menuEl = react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.findDOMNode(this.menuEl);
      this.popper = new popper_js__WEBPACK_IMPORTED_MODULE_8__["default"](anchorEl, menuEl);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this.popper !== undefined) {
        this.popper.destroy();
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;

      var _this$props = this.props,
          t = _this$props.t,
          file = _this$props.file,
          actions = _this$props.actions,
          onClose = _this$props.onClose;
      var actionNames = Object.keys(actions).filter(function (actionName) {
        var action = actions[actionName]; // TODO: is it really necessary?

        return action.displayCondition === undefined || action.displayCondition([file]);
      });
      return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
        className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-actionmenu']
      }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_10__["Overlay"], {
        onClick: onClose,
        onEscape: onClose,
        className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-actionmenu-overlay']
      }), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
        "data-test-id": "fil-actionmenu-inner",
        className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-actionmenu-inner'],
        ref: function ref(el) {
          _this.menuEl = el;
        }
      }, actionNames.map(function (actionName) {
        var Component = actions[actionName].Component || _MenuItem__WEBPACK_IMPORTED_MODULE_11__["default"];
        var action = actions[actionName].action;
        var onClick = !action ? undefined : function () {
          var promise = action([file]);
          onClose();
          return promise;
        };
        return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Component, {
          key: actionName,
          className: classnames__WEBPACK_IMPORTED_MODULE_7___default()(drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-action'], drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12___default.a["fil-action-".concat(actionName)]),
          onClick: onClick,
          files: [file]
        }, t("SelectionBar.".concat(actionName)));
      })));
    }
  }]);

  return Menu;
}(react__WEBPACK_IMPORTED_MODULE_5__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_9__["translate"])()(Menu));

/***/ }),

/***/ "xeQG":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4__);




 // using a seeded PRNG to prevent re-renders from changing the results

var seededRandom = function seededRandom(seed) {
  var x = Math.sin(seed) * 10000;
  return x - Math.floor(x);
};

var seededRandomBetween = function seededRandomBetween(min, max, seed) {
  return min + seededRandom(seed) * (max - min);
};

var PlaceholderBlock = function PlaceholderBlock(_ref) {
  var width = _ref.width;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-file-placeholder'],
    style: {
      width: width
    }
  });
};

PlaceholderBlock.propTypes = {
  width: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string
};
PlaceholderBlock.defaultProps = {
  width: '100%'
};

var FilePlaceholder = function FilePlaceholder(_ref2) {
  var index = _ref2.index,
      isMobile = _ref2.breakpoints.isMobile;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-row']
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-file-select'])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-file-thumbnail'], {
      'u-pl-0': !isMobile
    })
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PlaceholderBlock, {
    width: "2rem"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-file'])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PlaceholderBlock, {
    width: "".concat(seededRandomBetween(3, 12, index), "rem")
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-date'])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PlaceholderBlock, {
    width: "5rem"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-size'])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PlaceholderBlock, {
    width: "".concat(seededRandomBetween(3.75, 5, index), "rem")
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-status'])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PlaceholderBlock, {
    width: "1.25rem"
  })));
};

FilePlaceholder.propTypes = {
  index: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number
};
FilePlaceholder.defaultProps = {
  index: 1
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react__WEBPACK_IMPORTED_MODULE_3__["withBreakpoints"])()(FilePlaceholder));

/***/ }),

/***/ "xmtF":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"viewer-wrapper-with-bar":"viewer-wrapper-with-bar---1EQs"};

/***/ }),

/***/ "yEaX":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("/beP");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _reducer__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isNavigating", function() { return _reducer__WEBPACK_IMPORTED_MODULE_0__["isNavigating"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getVisibleFiles", function() { return _reducer__WEBPACK_IMPORTED_MODULE_0__["getVisibleFiles"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getFileById", function() { return _reducer__WEBPACK_IMPORTED_MODULE_0__["getFileById"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getOpenedFolderId", function() { return _reducer__WEBPACK_IMPORTED_MODULE_0__["getOpenedFolderId"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getFolderIdFromRoute", function() { return _reducer__WEBPACK_IMPORTED_MODULE_0__["getFolderIdFromRoute"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getFolderUrl", function() { return _reducer__WEBPACK_IMPORTED_MODULE_0__["getFolderUrl"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getSort", function() { return _reducer__WEBPACK_IMPORTED_MODULE_0__["getSort"]; });

/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QwUF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "openFolder", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["openFolder"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sortFolder", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["sortFolder"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fetchMoreFiles", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["fetchMoreFiles"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fetchRecentFiles", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["fetchRecentFiles"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "addFile", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["addFile"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "updateFile", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["updateFile"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deleteFile", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["deleteFile"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getFileDownloadUrl", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["getFileDownloadUrl"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "uploadFiles", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["uploadFiles"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createFolder", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["createFolder"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "trashFiles", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["trashFiles"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "downloadFiles", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["downloadFiles"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "exportFilesNative", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["exportFilesNative"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "openFileWith", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["openFileWith"]; });




/***/ }),

/***/ "z+SL":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"c-btn":"c-btn--ISXve","c-btn--regular":"c-btn--regular--I3FbV","c-btn--danger":"c-btn--danger--3MJU1","c-btn--secondary":"c-btn--secondary--2y7BI","c-btn--danger-outline":"c-btn--danger-outline--25atN","toolbar-inside-bar":"toolbar-inside-bar--2LtK2","fil-toolbar-files":"fil-toolbar-files--2hub6","fil-toolbar-trash":"fil-toolbar-trash--2Oocj","fil-toolbar-menu":"fil-toolbar-menu--2bZiG","fil-action-upload":"fil-action-upload--3NQWQ","fil-action-newfolder":"fil-action-newfolder--1rxzI","fil-action-download":"fil-action-download--mH9ej","fil-action-select":"fil-action-select--2Z1Ou","fil-action-delete":"fil-action-delete--Tfrxm","fil-action-share":"fil-action-share--31VAK","fil-toolbar-menu-recipients":"fil-toolbar-menu-recipients--lP49T","fil-toolbar-inner-menu":"fil-toolbar-inner-menu--i7sN9","fil-public-download":"fil-public-download--1tNWK","fil-toolbar-menu--public":"fil-toolbar-menu--public--1QdFo","spin":"spin--3HLqY","shake":"shake--3cSDC"};

/***/ }),

/***/ "z6Q1":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOCTYPE_FILES", function() { return DOCTYPE_FILES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOCTYPE_ALBUMS", function() { return DOCTYPE_ALBUMS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOCTYPE_PHOTOS_SETTINGS", function() { return DOCTYPE_PHOTOS_SETTINGS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOCTYPE_APPS", function() { return DOCTYPE_APPS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOCTYPE_CONTACTS_VERSION", function() { return DOCTYPE_CONTACTS_VERSION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "schema", function() { return schema; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("OjRq");
/* harmony import */ var drive_lib_extraDoctypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("6dOw");



var DOCTYPE_FILES = 'io.cozy.files';
var DOCTYPE_ALBUMS = 'io.cozy.photos.albums';
var DOCTYPE_PHOTOS_SETTINGS = 'io.cozy.photos.settings';
var DOCTYPE_APPS = 'io.cozy.apps';
var DOCTYPE_CONTACTS_VERSION = 2;
var schema = _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({
  files: {
    doctype: DOCTYPE_FILES
  },
  contacts: {
    doctype: models__WEBPACK_IMPORTED_MODULE_1__["Contact"].doctype,
    doctypeVersion: DOCTYPE_CONTACTS_VERSION
  },
  groups: {
    doctype: models__WEBPACK_IMPORTED_MODULE_1__["Group"].doctype
  }
}, drive_lib_extraDoctypes__WEBPACK_IMPORTED_MODULE_2__["default"]);

/***/ }),

/***/ "zLEy":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("67rm");
/* harmony import */ var _DocumentQualification__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("3oYK");
/* harmony import */ var _NewModal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("mlqZ");
/* harmony import */ var cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("4kcP");

















var pushAnalytics = function pushAnalytics(qualification) {
  var tracker = Object(cozy_ui_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_15__["getTracker"])();

  if (tracker) {
    tracker.push(['trackEvent', 'Drive', 'Scanner', 'Add Qualification']);

    if (qualification && qualification.label) {
      tracker.push(['trackEvent', 'Drive', 'Qualification', qualification.label]);
    }
  }
};
/**
 * ScannerQualification component
 *
 * This component is used to be displayed just after taking a
 * photo on a mobile device from the Scanner feature.
 *
 * It displays a modal with the `Qualification` Process.
 * ATM the `Qualificiation` process is only about choosing the
 * right category for a document but soon we'll have rename and
 * one day OCR.
 */


var ScannerQualification =
/*#__PURE__*/
function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(ScannerQualification, _Component);

  function ScannerQualification() {
    var _getPrototypeOf2;

    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, ScannerQualification);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, (_getPrototypeOf2 = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(ScannerQualification)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "state", {
      qualification: undefined,
      filename: ''
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ScannerQualification, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          onSave = _this$props.onSave,
          t = _this$props.t,
          dismissAction = _this$props.dismissAction;
      var _this$state = this.state,
          qualification = _this$state.qualification,
          filename = _this$state.filename;
      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_NewModal__WEBPACK_IMPORTED_MODULE_14__["default"], {
        title: t('Scan.save_doc'),
        dismissAction: dismissAction,
        primaryText: t('Scan.save'),
        primaryAction:
        /*#__PURE__*/
        _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  pushAnalytics(qualification);
                  _context.prev = 1;
                  _context.next = 4;
                  return onSave(qualification, filename);

                case 4:
                  _context.next = 10;
                  break;

                case 6:
                  _context.prev = 6;
                  _context.t0 = _context["catch"](1);
                  console.error('error', _context.t0);
                  cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].error('Scan.error.generic');

                case 10:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee, null, [[1, 6]]);
        })),
        primaryType: 'regular',
        secondaryText: t('Scan.cancel'),
        secondaryAction: function secondaryAction() {
          return dismissAction();
        },
        secondaryType: 'secondary',
        description: react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_DocumentQualification__WEBPACK_IMPORTED_MODULE_13__["default"], {
          onQualified: function onQualified(qualification, filename) {
            _this2.setState({
              qualification: qualification,
              filename: filename
            });
          },
          onFileNameChanged: function onFileNameChanged(filename) {
            _this2.setState({
              filename: filename
            });
          },
          editFileName: true,
          title: t('Scan.qualify')
        })
      });
    }
  }]);

  return ScannerQualification;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);

ScannerQualification.propTypes = {
  /**
   * primary action of the modal
   *
   */
  onSave: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  dismissAction: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  t: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_11__["translate"])()(ScannerQualification));

/***/ }),

/***/ "zLPI":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var drive_web_modules_filelist_FilePlaceholder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("xeQG");





var FileListPlaceholder = function FileListPlaceholder(_ref) {
  var rows = _ref.rows;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", null, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(new Array(rows)).map(function (value, index) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_filelist_FilePlaceholder__WEBPACK_IMPORTED_MODULE_3__["default"], {
      index: index,
      key: "key_file_placeholder_".concat(index)
    });
  }));
};

FileListPlaceholder.propTypes = {
  rows: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number
};
FileListPlaceholder.defaultProps = {
  rows: 8
};
/* harmony default export */ __webpack_exports__["default"] = (FileListPlaceholder);

/***/ }),

/***/ "ziD/":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShareButton", function() { return ShareButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedByMeButton", function() { return SharedByMeButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedWithMeButton", function() { return SharedWithMeButton; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("H+Xc");
/* harmony import */ var _button_styl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Te91");
/* harmony import */ var _button_styl__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_button_styl__WEBPACK_IMPORTED_MODULE_5__);






var ShareButton = function ShareButton(_ref) {
  var label = _ref.label,
      _onClick = _ref.onClick,
      className = _ref.className,
      props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, ["label", "onClick", "className"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_4__["Button"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    "data-test-id": "share-button",
    theme: "secondary",
    className: className,
    onClick: function onClick() {
      return _onClick();
    },
    icon: "share",
    label: label
  }, props));
};
var SharedByMeButton = function SharedByMeButton(_ref2) {
  var label = _ref2.label,
      _onClick2 = _ref2.onClick,
      className = _ref2.className,
      props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref2, ["label", "onClick", "className"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_4__["Button"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    "data-test-id": "share-by-me-button",
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(_button_styl__WEBPACK_IMPORTED_MODULE_5___default.a['coz-btn-shared'], className),
    onClick: function onClick() {
      return _onClick2();
    },
    icon: "share",
    label: label
  }, props));
};
var SharedWithMeButton = function SharedWithMeButton(_ref3) {
  var label = _ref3.label,
      _onClick3 = _ref3.onClick,
      className = _ref3.className,
      props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref3, ["label", "onClick", "className"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_react__WEBPACK_IMPORTED_MODULE_4__["Button"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(_button_styl__WEBPACK_IMPORTED_MODULE_5___default.a['coz-btn-sharedWithMe'], className),
    onClick: function onClick() {
      return _onClick3();
    },
    icon: "share",
    label: label
  }, props));
};
/* harmony default export */ __webpack_exports__["default"] = (ShareButton);

/***/ }),

/***/ "zuTE":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"Drive","item_recent":"Recientes","item_sharings":"Compartidos","item_shared":"Compartido por m","item_activity":"Actividad","item_trash":"Papelera","item_settings":"Parmetros","item_collect":"Administracin","btn-client":"Descargar Cozy Drive para ordenador","btn-client-web":"Descargar Cozy","btn-client-mobile":"Descargar Cozy Drive en su celular","banner-txt-client":"Descargue Cozy Drive para ordenador y sincronice sus archivos con toda seguridad para que les puedan ser accesibles todo el tiempo.","banner-btn-client":"Descargar","link-client":"https://cozy.io/es/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/\n","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it\n"},"breadcrumb":{"title_drive":"Drive","title_recent":"Recientes","title_sharings":"Compartidos","title_shared":"Mis archivos compartidos","title_activity":"Actividad","title_trash":"Papelera"},"Toolbar":{"more":"Ms"},"toolbar":{"item_upload":"Subir","menu_upload":"Subir archivos","item_more":"Ms","menu_new_folder":"Nueva carpeta","menu_select":"Seleccionar los items","menu_download_folder":"Descargar carpeta","menu_download_file":"Descargar este archivo","menu_open_cozy":"Abrir en mi Cozy","empty_trash":"Vaciar la papelera","share":"Compartir","trash":"Suprimir","leave":"Salir de la carpeta compartida & borrarla"},"Share":{"status":{"owner":"Propietario","pending":"Pendiente","ready":"Aceptado","refused":"Rechazado","error":"Error","unregistered":"Error","mail-not-sent":"Pendiente","revoked":"Error"},"type":{"one-way":"Puede consultarlo","two-way":"Puede cambiarlo","desc":{"one-way":"\"Les contacts peuvent consulter, tlcharger, et ajouter le contenu  leur Cozy. En cas dajout  leur Cozy, ils recevront vos modifications sur le contenu mais ils ne pourront pas le modifier.\",","two-way":"Les contacts peuvent modifier, supprimer et ajouter le contenu  leur Cozy. Les modifications sur le contenu seront rpercutes automatiquement entre vos Cozy."}},"locked-type-file":"Bientt : vous pourrez changer la permission donne sur le fichier.\",\n \"locked-type-folder\": \"Bientt : vous pourrez changer la permission donne sur le dossier.\",\n \"recipients","locked-type-folder":"Bientt : vous pourrez changer la permission donne sur le fichier.\",\n \"locked-type-folder\": \"Bientt : vous pourrez changer la permission donne sur le dossier.\",\n \"recipients","recipients":{"you":"Usted","accessCount":"%{count} personas tienen acceso"},"create-cozy":"Crear mi cozy","members":{"count":"1 miembro |||| %{smart_count} miembros","others":"y 1 persona ms |||| y %{smart_count} personas ms","otherContacts":"otro contacto |||| otros contactos"},"contacts":{"permissionRequired":{"title":"Guardar sus contactos en su Cozy?","desc":"Autoriza a la aplicacin a acceder a sus contactos en Cozy: usted podr seleccionarlos dentro de poco tiempo.","action":"Autorizar el acceso","success":"La aplicacin ha accedido a sus contactos"}}},"Sharings":{"unavailable":{"title":"Encantado de volver a verle!!","message":"Conctese a Internet para que pueda ver la lista de sus recientes elementos compartidos. "}},"Files":{"share":{"cta":"Compartir","title":"Compartir","details":{"title":"Detalles de lo compartido","createdAt":"El  %{date}","ro":"Puede leerlo","rw":"Puede cambiar","desc":{"ro":"Usted puede consultar, descargar y aadir el contenido a su Coz. Recibir las modificaciones que el propietario haga, pero usted no podr modificarlo. ","rw":"Usted puede consultar, modificar y suprimir el contenido. Las modificaciones del contenido se repercutirn automaticamente entre sus Cozy."}},"sharedByMe":"Compartido por m","sharedWithMe":"Compartido conmigo","sharedBy":"Compartido por %{name}","shareByLink":{"subtitle":"Por enlace pblico","desc":"Quien disponga del enlace suministrado puede mirar y descargar sus archivos.","creating":"Creando el enlace...","copy":"Copiar el enlace","copied":"El enlace ha sido copiado en el portapapeles","failed":"No se puede copiar en el portapapeles"},"shareByEmail":{"subtitle":"Por correo electrnico","email":"Para:","emailPlaceholder":"Entre la direccin email o el nombre del destinatario","send":"Enviar","genericSuccess":"Usted enva una invitacin a %{count} contactos","success":"Ustad enva una invitacin a %{email}.","comingsoon":"Dentro de poco, podr compartir documentos y fotos en un solo clic con su familia, sus amigos e incluso sus compaeros de trabajo. No se preocupe, le avisaremos cuando est listo!","onlyByLink":"Este %{type} no se puede compartir con un enlace, ya que","type":{"file":"Archivo","folder":"carpeta"},"hasSharedParent":"se encuentra en una carpeta compartida","hasSharedChild":"contiene un elemento compartido"},"revoke":{"title":"Parar el intercambio","desc":"Su contacto conservar una copia pero los cambios que haga no se sincronizarn.","success":"Usted ha borrado este archivo compartido desde %{email}"},"revokeSelf":{"title":"Parar el intercambio","desc":"Usted conservar el contenido pero no se actualizar ms entre sus Cozy.","success":"Usted fue borrado desde este compartir"},"sharingLink":{"title":"Enlace a compartir","copy":"Copiar","copied":"Copiado"},"whoHasAccess":{"title":"1 persona accede |||| %{smart_count} personas acceden"},"protectedShare":{"title":"Vendr pronto!","desc":"Compartir algo por email con su familia y sus amigos!"},"close":"Cerrar","gettingLink":"Creacin del enlace...","error":{"generic":"Ha ocurrido un error al usted crear el link para compartir el archivo, por favor vuelva a ensayar.","revoke":"Epa, Ha ocurrido un error. Contactos para resolver el problema cuanto antes."},"specialCase":{"base":"ste %{type} no se puede compartir sino con un enlace como ste","isInSharedFolder":"est en una carpeta compartida","hasSharedFolder":"contiene una carpeta compartida"}},"viewer-fallback":"Si el archivo ha comenzado a descargarse, puede cerrar esta ventana..","dropzone":{"teaser":"Ponga los archivos para subirlos en:","noFolderSupport":"Por el momento, su navegador no acepta las funciones de arrastar-soltar de carpetas. Por favor, suba los archivos manualmente."}},"table":{"head_name":"Nombre","head_update":"Ultima actualizacin","head_size":"Tamao","head_status":"Estatuto","head_thumbnail_size":"Cambiar el tamao de las miniaturas","row_update_format":"MMM D, AAAA","row_update_format_full":"MMM D, AAAA","row_read_only":"Compartido (slo en lectura)","row_read_write":"Compartido (Lectura & Escritura)","row_size_symbols":{"B":"o","KB":"Ko","MB":"Mo","GB":"Go","TB":"To","PB":"Po","EB":"Eo","ZB":"Zo","YB":"Yo"},"load_more":"Cargar ms archivos","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"El ms viejo primero","head_updated_at_desc":"El ms reciente primero","head_size_asc":"El ms liviano primero","head_size_desc":"El ms pesado primero"}},"SelectionBar":{"selected_count":"item seleccionado |||| items seleccionados","share":"Compartir","download":"Descargar","trash":"Borrar","destroy":"Borrar definitivamente","rename":"Cambiar el nombre","restore":"Restaurar","close":"Cerrar","openWith":"Abir con","moveto":"Trasladar a...","phone-download":"Hacerla disponible cuando est desconectado","qualify":"Categorize"},"deleteconfirmation":{"title":"Suprimir este elemento? |||| Suprimir estos elementos?","trash":"Ser desplazado a la Papelera. ||| Sern desplazados a la Papelera.","restore":"Usted puede restaurarlo cuando lo desee. ||| Usted puede restaurarlos cuando lo desee.","shared":"El siguiente contacto con quien usted ha compartido podr conservar una copia pero los cambios que usted haga no se sincronizarn. |||| Los siguientes contactos con quienes usted ha compartido podrn conservar una copia pero los cambios que usted haga no se sincronizarn","referenced":"Algunos de los archivos incluidos en la seleccin se refieren a un lbum de fotos. Se borrarn si usted procede a enviarlos a la papelera.","cancel":"Anular","delete":"Suprimir"},"emptytrashconfirmation":{"title":"Suprimir definitivamente?","forbidden":"Usted no podr acceder ms a estos archivos.","restore":"Usted no podr recuperar estos archivos si no ha hecho una copia de seguridad.","cancel":"Anular","delete":"Suprimir definitivamente"},"destroyconfirmation":{"title":"Suprimir definitivamente?","forbidden":"Usted no podr acceder ms a este archivo. ||| Usted no podr acceder ms a estos archivos.","restore":"Usted no podr recuperar este archivo si no ha hecho una copia de seguridad. ||| Usted no podr recuperar estos archivos si no ha hecho una copia de seguridad.","cancel":"Anular","delete":"Suprimir definitivamente"},"quotaalert":{"title":"Su espacio disco est lleno :(","desc":"Por favor, suprimir archivos y vaciar la Papelera antes de subir nuevos archivos.","confirm":"OK"},"loading":{"message":"Cargando"},"empty":{"title":"No hay archivos en esta carpeta.","text":"Haga clic en el botn \"subir\" para aadir archivos a esta carpeta.","trash_title":"Usted no tiene ningn archivo borrado.","trash_text":"Los archivos que no necesita ms chelos a la Papelera y suprmalos definitivamente para liberar espacio de almacenamiento."},"error":{"open_folder":"Algo ha fallado al abrir la carpeta.","button":{"reload":"Actualizar ahora"},"download_file":{"offline":"Usted debe estar conectado para descargar este archivo","missing":"Este archivo no existe"}},"Error":{"public_unshared_title":"Lo sentimos, este enlace ya no es vlido.","public_unshared_text":"Este enlace ha caducado o ha sido eliminado por su propietario. Hgale saber a l o ella que lo ha perdido!"},"alert":{"could_not_open_file":"El archivo no se puede abrir","try_again":"Ha ocurrido un error, por favor ensaye ms tarde.","restore_file_success":"La seleccin ha sido restaurada con xito.","trash_file_success":"La seleccin ha sido desplazada a la Papelera.","destroy_file_success":"Se ha suprimido definitivamente la seleccin.","empty_trash_progress":"Su papelera se est vaciando. Esto puede tomar poco tiempo.","empty_trash_success":"La papelera ha sido vaciada.","folder_name":"El elemento %{folderName} ya existe, por favor escoger otro nombre.","folder_generic":"Ha ocurrido un error, por favor vuelva a ensayar.","folder_abort":"Se requiere poner un nombre a la nueva carpeta si desea guardarla. Su informacin no ha sido guardada.","offline":"Esta funcin no esta disponible cuando usted est desconectado.","preparing":"Preparando sus archivos..."},"mobile":{"onboarding":{"welcome":{"title":"Bienvenid(o)a a Cozy Drive","desc":"Crear o conectarse en su Cozy para acceder a los servicios de Cozy Drive","button":"Iniciar sesin","no_account_link":"No tengo una Cozy","create_my_cozy":"Crear mi Cozy"},"server_selection":{"title":"Iniciar sesin","lostpwd":"[He olvidado la direccin de mi Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Direccin de mi Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.midominio.com","domain_cozy":".mycozy.cloud","domain_custom":"otro","button":"Siguiente","wrong_address_with_email":"Escribi una direccin de correo electrnico. Para conectarse a su cozy debe escribir su url, algo as como https://camilorincon.mycozy.cloud","wrong_address_v2":"Usted ha entrado la direccin de la vieja versin de Cozy. Esta aplicacin es slo compatible con la ltima versin. [Por favor vaya a nuestra pgina para una mayor informacin.}\n(https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=es)","wrong_address":"Esta direccin no parece ser la de una cozy. Por favor, cheque la direccin de su proveedor.","wrong_address_cosy":"Woops, la direccin no es correcta. Pruebe con \"cozy\" con \"z\"!"},"files":{"title":"Acceder a sus archivos","description":"Para guardar sus archivos Cozy en su perifrico, la aplicacin debe poder acceder a sus archivos."},"photos":{"title":"Hacer una copia de seguridad de sus fotos y sus vdeos","description":"Haga automticamente una copia de seguridad de las fotos que usted toma con su telfono en su Cozy, as nunca se perdern."},"contacts":{"title":"Sincronizar sus contactos","description":"Guardar los contactos de su telfono en su Cozy - esto le facilitar compartir archivos con ellos."},"step":{"button":"Activar ahora","skip":"Ms tarde","next":"Siguiente"},"analytics":{"title":"Aydenos a mejorar Cozy","description":"La aplicacin enviar automticamente informacin (principalmente errores) a Cozy Cloud. Esto permitir resolver problemas ms tarde."}},"settings":{"title":"Ajustes","about":{"title":"Acerca de","app_version":"Versin ","account":"Cuenta"},"unlink":{"title":"Salir de su Cozy","description":"Al desconectarse de su Cozy desde este dispositivo, no perder ningn dato de su Cozy. Esta accin suprimir de este dispositivo los archivos fuera de lnea referidos a su Cozy.","button":"Cerrar sesin"},"media_backup":{"media_folder":"Fotos","backup_folder":"Salvaguardadas de mi celular","legacy_backup_folder":"Salvaguardadas de mi celular","title":"Copia de seguridad de Medios","images":{"title":"Copia de seguridad de imgenes","label":"Cree automticamente una Copia de seguridad de sus imgenes en Cozy, as nunca se perdern y podr compartirlas fcilmente."},"launch":"Lanzar Copia de Seguridad","stop":"Parar la Copia de Seguridad","wifi":{"title":"Copia de seguridad slo con WIFI","label":"Si la opcin est activada, su perifrico slo har una copia de seguridad de las fotos cuando haya WIFI disponible."},"media_upload":"%{smart_count} imagen restante |||| %{smart_count} imgenes restantes","media_uptodate":"Copia de seguridad actualizada","preparing":"Buscando un perifrico para guardar una copia de seguridad","no_wifi":"Por favor, conctese a un WIFI","quota":"Usted se acerca al limite de almacenamiento","quota_contact":"Administre su espacio de almacenamiento"},"support":{"title":"Asistencia","analytics":{"title":"Aydenos a mejorar Cozy","label":"La aplicacin enviar automticamente informacin (principalmente errores) a Cozy Cloud. Esto permitir resolver problemas ms tarde."},"feedback":{"title":"Ayudar a mejorar Cozy Drive","description":"Enve sus comentarios para ayudarnos a mejorar Cozy Drive. Haga clic en el botn de abajo, explique el problema o haga una sugerencia y envelo. Y es todo!","button":"dejar comentarios"},"logs":{"title":"Aydenos a entender su problema","description":"Envenos el log de la aplicacin para ayudarnos a mejorar su calidad y estabilidad.","button":"Enviar mis logs","success":"Gracias, investigaremos su problema y le contactaremos pronto.","error":"Ha ocurrido un problema, los logs no podrn enviarse, por favor vuelva a ensayar ms tarde"}},"contacts":{"title":"Contactos","subtitle":"Importar contactos","text":"Importar los contactos de su aparato a su Cozy para as poder compartir contenidos con ellos."}},"error":{"open_with":{"offline":"Para abrir este archivo usted debe estar conectado","noapp":"Ninguna aplicacin puede abrir este archivo"},"make_available_offline":{"offline":"Para abrir este archivo usted debe estar conectado","noapp":"No existe una aplicacin para abrir este archivo"}},"revoked":{"title":"Acceso revocado","description":"Parece que usted ha desconectado este perifrico de su Cozy. Si no es as, hganoslo saber a contact@cozycloud.cc.  Todos sus datos locales relacionados con su Cozy sern borrados.","loginagain":"Iniciar sesin de nuevo","logout":"Desconectarse"},"rating":{"enjoy":{"title":"Disfruta usted de Cozy Drive?","yes":"S!","no":"Realmente no"},"rate":{"title":"Le importara que lo evaluaremos?","yes":"Hagmoslo pues!","no":"No, gracias","later":"Quizs ms tarde"},"feedback":{"title":"Podra usted hacernos algunos comentarios para mejorar?","yes":"Enviar","no":"No, gracias"},"email":{"subject":"Comentarios sobre Cozy Drive","placeholder":"Hola, pienso que Cozy Drive sera mejor si..."},"alert":{"rated":"Gracias! Usted es ","declined":"Impresionante. Le gustarn las funciones que vienen. Permanezca en Cozy!","later":"No hay problema, ya le preguntaremos ms tarde.","feedback":"Gracias por sus comentarios. Trabajamos precisamente en ello!"}},"first_sync":{"title":"Est a punto de empezar su primera copia de seguridad de sus  fotos ","tips":"Consejos","tip_bed":"Abra Cozy Drive antes de irse a la cama o cuando no use el telfono.","tip_wifi":"Conecte Wi-Fi para preservar sus datos","tip_lock":"Desactive su bloqueo de pantalla.","result":"En la maana, todas sus fotos estarn guardadasen un lugar seguro y protegido.","button":"Logrado!"},"notifications":{"backup_paused":"La copia de seguridad de sus fotos est en pausa. Mantenga la aplicacin abierta y evite que la pantalla se quede inactiva para poder completar la copia de seguridad."}},"upload":{"alert":{"success":"%{smart_count} archivo subido con xito |||| %{smart_count} archivos subido con xito.","success_conflicts":"%{smart_count} archivo subido con %{conflictNumber} conflicto(s). |||| %{smart_count} archivos subidos con %{conflictNumber} conflicto(s).","success_updated":"%{smart_count} archivo subido y  %{updatedCount} actualizado. |||| %{smart_count} archivos cargados y  %{updatedCount} actualizados.","success_updated_conflicts":"%{smart_count} archivo cargado, %{updatedCount} actualizado y %{conflictCount} conflicto(s). |||| %{smart_count} archivos cargados, %{updatedCount} actualizados y %{conflictCount} conflicto(s).","updated":"%{smart_count} archivo actualizado. |||| %{smart_count} archivos actualizados.","updated_conflicts":"%{smart_count} archivo actualizado con  %{conflictCount} conflicto(s). |||| %{smart_count} archivos actualizados con %{conflictCount} conflicto(s).","errors":"Han ocurrido errores al subir el archivo.","network":"Usted no dispone de una conexin internet. Vuelva a ensayar cuando disponga de una."}},"intents":{"alert":{"error":"La recuperacin del archivo ha fallado. Sbalo manualmente con ayuda del men de Cozy."},"picker":{"select":"Seleccionar","cancel":"Anular","new_folder":"Nueva carpeta","instructions":"Seleccionar un blanco"}},"UploadQueue":{"header":"Subiendo %{smart_count} foto a Cozy Drive |||| Subiendo %{smart_count} fotos a Cozy Drive","header_mobile":"Subiendo %{done} de %{total}","header_done":"Subidos %{done} de %{total} con xito","close":"cerrar","item":{"pending":"Pendiente"}},"Viewer":{"close":"Cerrar","noviewer":{"download":"Descargar este archivo","openWith":"Abir con...","cta":{"saveTime":"Gane tiempo!","installDesktop":"Instale la herramienta de sincronizacin para su ordenador","accessFiles":"Acceda a sus archivos directamente desde su ordenador"}},"actions":{"download":"Descargar"},"loading":{"error":"Este archivo no se puede cargar. Tienes alguna conexin a Internet funcionando ahora?","retry":"Reintntelo"},"error":{"noapp":"No se encontr ninguna aplicacin para manejar este archivo.","generic":"Se ha producido un error al abrir este archivo, por favor intntelo de nuevo.","noNetwork":"Actualmente usted est desconectado."}},"Move":{"to":"Trasladar a:","action":"Trasladar","cancel":"Anular","modalTitle":"Trasladar","title":"%{smart_count} elemento |||| %{smart_count} elementos","success":"%{subject} ha sido desplazado a %{target}. |||| %{smart_count} elementos han sido desplazados a %{target}.","error":"Ha ocurrido un error al desplazar este elemento, por favor vuelva a ensayar. |||| Ha ocurrido un error al desplazar estos elementos, por favor vuelva a ensayar.","cancelled":"%{subject} ha sido devuelto a su carpeta de origen. |||| %{smart_count} elementos han sido devueltos a sus carpetas de origen.","cancelledWithRestoreErrors":"%{subject} ha sido desplazado a su ubicacin original pero hubo un error al restaurar el archivo de la papelera. |||| %{smart_count} elementos han sido desplazados a su ubicacin original pero hubo  %{restoreErrorsCount} error(es) al  restaurar los archivos de la papelera.","cancelled_error":"Lo sentimos, ha ocurrido un error al anular el desplazamiento. |||| Lo sentimos, un error ha ocurrido al anular los desplazamientos."},"FileOpenerExternal":{"fileNotFoundError":"Error: archivo no encontrado"},"TOS":{"updated":{"title":"Lo nuevo en el RGPD","detail":"En el marco de la Reglamento General de Proteccin de Datos (RGPD), [nuestras CGU se han actualizado](%{link}) y se aplicarn a partir del 25 de mayo de 2018.","cta":"Aceptar CGU y continuar","disconnect":"Rechazar y desconectarse","error":"Algo ha fallado, vuelva a ensayar ms tarde"}},"manifest":{"permissions":{"contacts":{"description":"Necesario para compartir archivos con sus contactos"},"groups":{"description":"Necesario para compartir archivos con sus grupos"}}},"models":{"contact":{"defaultDisplayName":"Annimo"}},"Scan":{"scan_a_doc":"Escanear un doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"Usted est actualmente fuera de lnea y no puede utilizar esta funcionalidad. Vuelva a ensayarlo ms tarde","uploading":"Ya est cargando un archivo. Espere hasta el final de la carga e intntelo de nuevo.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}}};

/***/ })

/******/ });
//# sourceMappingURL=drive.js.map