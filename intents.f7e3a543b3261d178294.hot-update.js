webpackHotUpdate("intents",{

/***/ "./src/drive/web/modules/services/components/SuggestionProvider.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module, __webpack_provided_cozy_dot_client) {/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/objectSpread.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _FuzzyPathSearch__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./src/drive/web/modules/services/FuzzyPathSearch.js\");\n/* harmony import */ var drive_lib_getFileMimetype__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./src/drive/lib/getFileMimetype.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\n\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n/* global cozy */\n\n\n\n\nvar TYPE_DIRECTORY = 'directory';\n\nvar SuggestionProvider = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(SuggestionProvider, _React$Component);\n\n  var _super = _createSuper(SuggestionProvider);\n\n  function SuggestionProvider() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, SuggestionProvider);\n\n    return _super.apply(this, arguments);\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(SuggestionProvider, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this = this;\n\n      var intent = this.props.intent;\n      this.hasIndexedFiles = false; // re-attach the message listener for the intent to receive the suggestion requests\n\n      window.addEventListener('message', function (event) {\n        if (event.origin !== intent.attributes.client) return null;\n        var _event$data = event.data,\n            query = _event$data.query,\n            id = _event$data.id; // sometimes we get messages with undefined query & id, no idea why\n\n        if (query && id) {\n          _this.provideSuggestions(query, id, intent);\n        }\n      });\n    }\n  }, {\n    key: \"provideSuggestions\",\n    value: function () {\n      var _provideSuggestions = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(query, id, intent) {\n        var searchResults;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.hasIndexedFiles) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.indexFiles();\n\n              case 3:\n                searchResults = this.fuzzyPathSearch.search(query);\n                window.parent.postMessage({\n                  type: \"intent-\".concat(intent._id, \":data\"),\n                  id: id,\n                  suggestions: searchResults.map(function (result) {\n                    return {\n                      id: result.id,\n                      title: result.name,\n                      subtitle: result.path,\n                      term: result.name,\n                      onSelect: 'open:' + result.url,\n                      icon: result.icon\n                    };\n                  })\n                }, intent.attributes.client);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function provideSuggestions(_x, _x2, _x3) {\n        return _provideSuggestions.apply(this, arguments);\n      }\n\n      return provideSuggestions;\n    }() // fetches pretty much all the files and preloads FuzzyPathSearch\n\n  }, {\n    key: \"indexFiles\",\n    value: function () {\n      var _indexFiles = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee4() {\n        var _this2 = this;\n\n        var client;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                client = this.props.client;\n                return _context4.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n                  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(resolve) {\n                    var resp, files, folders, notInTrash, notOrphans, normalizedFilesPrevious, normalizedFiles;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {\n                      while (1) {\n                        switch (_context3.prev = _context3.next) {\n                          case 0:\n                            _context3.next = 2;\n                            return __webpack_provided_cozy_dot_client.fetchJSON('GET', \"/data/io.cozy.files/_all_docs?include_docs=true\");\n\n                          case 2:\n                            resp = _context3.sent;\n                            files = resp.rows.filter(function (row) {\n                              return !row.doc.hasOwnProperty('views');\n                            }).map(function (row) {\n                              return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({\n                                id: row.id\n                              }, row.doc);\n                            });\n                            folders = files.filter(function (file) {\n                              return file.type === TYPE_DIRECTORY;\n                            });\n\n                            notInTrash = function notInTrash(file) {\n                              return !file.trashed && !/^\\/\\.cozy_trash/.test(file.path);\n                            };\n\n                            notOrphans = function notOrphans(file) {\n                              return folders.find(function (folder) {\n                                return folder._id === file.dir_id;\n                              }) !== undefined;\n                            };\n\n                            normalizedFilesPrevious = files.filter(notInTrash).filter(notOrphans);\n                            _context3.next = 10;\n                            return Promise.all(normalizedFilesPrevious.map( /*#__PURE__*/function () {\n                              var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(file) {\n                                var isDir, dirId, urlToFolder, path, url, parentDir;\n                                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n                                  while (1) {\n                                    switch (_context2.prev = _context2.next) {\n                                      case 0:\n                                        isDir = file.type === TYPE_DIRECTORY;\n                                        dirId = isDir ? file._id : file.dir_id;\n                                        urlToFolder = \"\".concat(window.location.origin, \"/#/folder/\").concat(dirId);\n\n                                        if (!isDir) {\n                                          _context2.next = 8;\n                                          break;\n                                        }\n\n                                        path = file.path;\n                                        url = urlToFolder;\n                                        _context2.next = 17;\n                                        break;\n\n                                      case 8:\n                                        parentDir = folders.find(function (folder) {\n                                          return folder._id === file.dir_id;\n                                        });\n                                        path = parentDir && parentDir.path ? parentDir.path : '';\n\n                                        if (!cozy_client__WEBPACK_IMPORTED_MODULE_11__[\"models\"].file.isNote(file)) {\n                                          _context2.next = 16;\n                                          break;\n                                        }\n\n                                        _context2.next = 13;\n                                        return cozy_client__WEBPACK_IMPORTED_MODULE_11__[\"models\"].note.fetchURL(client, file);\n\n                                      case 13:\n                                        url = _context2.sent;\n                                        _context2.next = 17;\n                                        break;\n\n                                      case 16:\n                                        url = \"\".concat(urlToFolder, \"/file/\").concat(file._id);\n\n                                      case 17:\n                                        return _context2.abrupt(\"return\", {\n                                          id: file._id,\n                                          name: file.name,\n                                          path: path,\n                                          url: url,\n                                          icon: getIconUrl(file)\n                                        });\n\n                                      case 18:\n                                      case \"end\":\n                                        return _context2.stop();\n                                    }\n                                  }\n                                }, _callee2);\n                              }));\n\n                              return function (_x5) {\n                                return _ref2.apply(this, arguments);\n                              };\n                            }()));\n\n                          case 10:\n                            normalizedFiles = _context3.sent;\n                            _this2.fuzzyPathSearch = new _FuzzyPathSearch__WEBPACK_IMPORTED_MODULE_9__[\"default\"](normalizedFiles);\n                            _this2.hasIndexedFiles = true;\n                            resolve();\n\n                          case 14:\n                          case \"end\":\n                            return _context3.stop();\n                        }\n                      }\n                    }, _callee3);\n                  }));\n\n                  return function (_x4) {\n                    return _ref.apply(this, arguments);\n                  };\n                }()));\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function indexFiles() {\n        return _indexFiles.apply(this, arguments);\n      }\n\n      return indexFiles;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return SuggestionProvider;\n}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component);\n\nvar iconsContext = __webpack_require__(\"./src/drive/assets/icons sync icon-type-.*.svg$\");\n\nvar icons = iconsContext.keys().reduce(function (acc, item) {\n  acc[item.replace(/\\.\\/icon-type-(.*)\\.svg/, '$1')] = iconsContext(item);\n  return acc;\n}, {});\n\nfunction getIconUrl(file) {\n  var keyIcon = file.type === TYPE_DIRECTORY ? 'folder' : cozy_client__WEBPACK_IMPORTED_MODULE_11__[\"models\"].file.isNote(file) ? 'note' : Object(drive_lib_getFileMimetype__WEBPACK_IMPORTED_MODULE_10__[\"getFileMimetype\"])(icons)(file.mime, file.name) || 'files';\n  var icon = icons[keyIcon].default;\n  return \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='\".concat(icon.viewBox, \"'>\").concat(icon.content, \"<use href='#\").concat(icon.id, \"' x='0' y='0' width='32' height='32'/></svg>\").replace(/#/g, '%23');\n}\n\nvar _default = Object(cozy_client__WEBPACK_IMPORTED_MODULE_11__[\"withClient\"])(SuggestionProvider);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(TYPE_DIRECTORY, \"TYPE_DIRECTORY\", \"/Users/quentinvalmori/Sites/cozy-drive/src/drive/web/modules/services/components/SuggestionProvider.jsx\");\n  reactHotLoader.register(SuggestionProvider, \"SuggestionProvider\", \"/Users/quentinvalmori/Sites/cozy-drive/src/drive/web/modules/services/components/SuggestionProvider.jsx\");\n  reactHotLoader.register(iconsContext, \"iconsContext\", \"/Users/quentinvalmori/Sites/cozy-drive/src/drive/web/modules/services/components/SuggestionProvider.jsx\");\n  reactHotLoader.register(icons, \"icons\", \"/Users/quentinvalmori/Sites/cozy-drive/src/drive/web/modules/services/components/SuggestionProvider.jsx\");\n  reactHotLoader.register(getIconUrl, \"getIconUrl\", \"/Users/quentinvalmori/Sites/cozy-drive/src/drive/web/modules/services/components/SuggestionProvider.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/quentinvalmori/Sites/cozy-drive/src/drive/web/modules/services/components/SuggestionProvider.jsx\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module), __webpack_require__(\"./node_modules/cozy-client-js/dist/cozy-client.min.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZHJpdmUvd2ViL21vZHVsZXMvc2VydmljZXMvY29tcG9uZW50cy9TdWdnZXN0aW9uUHJvdmlkZXIuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2RyaXZlL3dlYi9tb2R1bGVzL3NlcnZpY2VzL2NvbXBvbmVudHMvU3VnZ2VzdGlvblByb3ZpZGVyLmpzeD8xZWQ5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBjb3p5ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgRnV6enlQYXRoU2VhcmNoIGZyb20gJy4uL0Z1enp5UGF0aFNlYXJjaCdcbmltcG9ydCB7IGdldEZpbGVNaW1ldHlwZSB9IGZyb20gJ2RyaXZlL2xpYi9nZXRGaWxlTWltZXR5cGUnXG5pbXBvcnQgeyB3aXRoQ2xpZW50LCBtb2RlbHMgfSBmcm9tICdjb3p5LWNsaWVudCdcblxuY29uc3QgVFlQRV9ESVJFQ1RPUlkgPSAnZGlyZWN0b3J5J1xuXG5jbGFzcyBTdWdnZXN0aW9uUHJvdmlkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCB7IGludGVudCB9ID0gdGhpcy5wcm9wc1xuICAgIHRoaXMuaGFzSW5kZXhlZEZpbGVzID0gZmFsc2VcblxuICAgIC8vIHJlLWF0dGFjaCB0aGUgbWVzc2FnZSBsaXN0ZW5lciBmb3IgdGhlIGludGVudCB0byByZWNlaXZlIHRoZSBzdWdnZXN0aW9uIHJlcXVlc3RzXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBldmVudCA9PiB7XG4gICAgICBpZiAoZXZlbnQub3JpZ2luICE9PSBpbnRlbnQuYXR0cmlidXRlcy5jbGllbnQpIHJldHVybiBudWxsXG4gICAgICBjb25zdCB7IHF1ZXJ5LCBpZCB9ID0gZXZlbnQuZGF0YVxuICAgICAgLy8gc29tZXRpbWVzIHdlIGdldCBtZXNzYWdlcyB3aXRoIHVuZGVmaW5lZCBxdWVyeSAmIGlkLCBubyBpZGVhIHdoeVxuICAgICAgaWYgKHF1ZXJ5ICYmIGlkKSB7XG4gICAgICAgIHRoaXMucHJvdmlkZVN1Z2dlc3Rpb25zKHF1ZXJ5LCBpZCwgaW50ZW50KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBhc3luYyBwcm92aWRlU3VnZ2VzdGlvbnMocXVlcnksIGlkLCBpbnRlbnQpIHtcbiAgICBpZiAoIXRoaXMuaGFzSW5kZXhlZEZpbGVzKSB7XG4gICAgICBhd2FpdCB0aGlzLmluZGV4RmlsZXMoKVxuICAgIH1cblxuICAgIGNvbnN0IHNlYXJjaFJlc3VsdHMgPSB0aGlzLmZ1enp5UGF0aFNlYXJjaC5zZWFyY2gocXVlcnkpXG5cbiAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKFxuICAgICAge1xuICAgICAgICB0eXBlOiBgaW50ZW50LSR7aW50ZW50Ll9pZH06ZGF0YWAsXG4gICAgICAgIGlkLFxuICAgICAgICBzdWdnZXN0aW9uczogc2VhcmNoUmVzdWx0cy5tYXAocmVzdWx0ID0+ICh7XG4gICAgICAgICAgaWQ6IHJlc3VsdC5pZCxcbiAgICAgICAgICB0aXRsZTogcmVzdWx0Lm5hbWUsXG4gICAgICAgICAgc3VidGl0bGU6IHJlc3VsdC5wYXRoLFxuICAgICAgICAgIHRlcm06IHJlc3VsdC5uYW1lLFxuICAgICAgICAgIG9uU2VsZWN0OiAnb3BlbjonICsgcmVzdWx0LnVybCxcbiAgICAgICAgICBpY29uOiByZXN1bHQuaWNvblxuICAgICAgICB9KSlcbiAgICAgIH0sXG4gICAgICBpbnRlbnQuYXR0cmlidXRlcy5jbGllbnRcbiAgICApXG4gIH1cblxuICAvLyBmZXRjaGVzIHByZXR0eSBtdWNoIGFsbCB0aGUgZmlsZXMgYW5kIHByZWxvYWRzIEZ1enp5UGF0aFNlYXJjaFxuICBhc3luYyBpbmRleEZpbGVzKCkge1xuICAgIGNvbnN0IHsgY2xpZW50IH0gPSB0aGlzLnByb3BzXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIHJlc29sdmUgPT4ge1xuICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGNvenkuY2xpZW50LmZldGNoSlNPTihcbiAgICAgICAgJ0dFVCcsXG4gICAgICAgIGAvZGF0YS9pby5jb3p5LmZpbGVzL19hbGxfZG9jcz9pbmNsdWRlX2RvY3M9dHJ1ZWBcbiAgICAgIClcbiAgICAgIGNvbnN0IGZpbGVzID0gcmVzcC5yb3dzXG4gICAgICAgIC5maWx0ZXIocm93ID0+ICFyb3cuZG9jLmhhc093blByb3BlcnR5KCd2aWV3cycpKVxuICAgICAgICAubWFwKHJvdyA9PiAoeyBpZDogcm93LmlkLCAuLi5yb3cuZG9jIH0pKVxuXG4gICAgICBjb25zdCBmb2xkZXJzID0gZmlsZXMuZmlsdGVyKGZpbGUgPT4gZmlsZS50eXBlID09PSBUWVBFX0RJUkVDVE9SWSlcblxuICAgICAgY29uc3Qgbm90SW5UcmFzaCA9IGZpbGUgPT5cbiAgICAgICAgIWZpbGUudHJhc2hlZCAmJiAhL15cXC9cXC5jb3p5X3RyYXNoLy50ZXN0KGZpbGUucGF0aClcbiAgICAgIGNvbnN0IG5vdE9ycGhhbnMgPSBmaWxlID0+XG4gICAgICAgIGZvbGRlcnMuZmluZChmb2xkZXIgPT4gZm9sZGVyLl9pZCA9PT0gZmlsZS5kaXJfaWQpICE9PSB1bmRlZmluZWRcblxuICAgICAgY29uc3Qgbm9ybWFsaXplZEZpbGVzUHJldmlvdXMgPSBmaWxlc1xuICAgICAgICAuZmlsdGVyKG5vdEluVHJhc2gpXG4gICAgICAgIC5maWx0ZXIobm90T3JwaGFucylcblxuICAgICAgY29uc3Qgbm9ybWFsaXplZEZpbGVzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIG5vcm1hbGl6ZWRGaWxlc1ByZXZpb3VzLm1hcChhc3luYyBmaWxlID0+IHtcbiAgICAgICAgICBjb25zdCBpc0RpciA9IGZpbGUudHlwZSA9PT0gVFlQRV9ESVJFQ1RPUllcbiAgICAgICAgICBjb25zdCBkaXJJZCA9IGlzRGlyID8gZmlsZS5faWQgOiBmaWxlLmRpcl9pZFxuICAgICAgICAgIGNvbnN0IHVybFRvRm9sZGVyID0gYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vIy9mb2xkZXIvJHtkaXJJZH1gXG5cbiAgICAgICAgICBsZXQgcGF0aCwgdXJsXG4gICAgICAgICAgaWYgKGlzRGlyKSB7XG4gICAgICAgICAgICBwYXRoID0gZmlsZS5wYXRoXG4gICAgICAgICAgICB1cmwgPSB1cmxUb0ZvbGRlclxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnREaXIgPSBmb2xkZXJzLmZpbmQoZm9sZGVyID0+IGZvbGRlci5faWQgPT09IGZpbGUuZGlyX2lkKVxuICAgICAgICAgICAgcGF0aCA9IHBhcmVudERpciAmJiBwYXJlbnREaXIucGF0aCA/IHBhcmVudERpci5wYXRoIDogJydcblxuICAgICAgICAgICAgaWYgKG1vZGVscy5maWxlLmlzTm90ZShmaWxlKSkge1xuICAgICAgICAgICAgICB1cmwgPSBhd2FpdCBtb2RlbHMubm90ZS5mZXRjaFVSTChjbGllbnQsIGZpbGUpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB1cmwgPSBgJHt1cmxUb0ZvbGRlcn0vZmlsZS8ke2ZpbGUuX2lkfWBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IGZpbGUuX2lkLFxuICAgICAgICAgICAgbmFtZTogZmlsZS5uYW1lLFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgIGljb246IGdldEljb25VcmwoZmlsZSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIHRoaXMuZnV6enlQYXRoU2VhcmNoID0gbmV3IEZ1enp5UGF0aFNlYXJjaChub3JtYWxpemVkRmlsZXMpXG4gICAgICB0aGlzLmhhc0luZGV4ZWRGaWxlcyA9IHRydWVcbiAgICAgIHJlc29sdmUoKVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5jb25zdCBpY29uc0NvbnRleHQgPSByZXF1aXJlLmNvbnRleHQoXG4gICdkcml2ZS9hc3NldHMvaWNvbnMvJyxcbiAgZmFsc2UsXG4gIC9pY29uLXR5cGUtLiouc3ZnJC9cbilcblxuY29uc3QgaWNvbnMgPSBpY29uc0NvbnRleHQua2V5cygpLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7XG4gIGFjY1tpdGVtLnJlcGxhY2UoL1xcLlxcL2ljb24tdHlwZS0oLiopXFwuc3ZnLywgJyQxJyldID0gaWNvbnNDb250ZXh0KGl0ZW0pXG4gIHJldHVybiBhY2Ncbn0sIHt9KVxuXG5mdW5jdGlvbiBnZXRJY29uVXJsKGZpbGUpIHtcbiAgY29uc3Qga2V5SWNvbiA9XG4gICAgZmlsZS50eXBlID09PSBUWVBFX0RJUkVDVE9SWVxuICAgICAgPyAnZm9sZGVyJ1xuICAgICAgOiBtb2RlbHMuZmlsZS5pc05vdGUoZmlsZSlcbiAgICAgICAgPyAnbm90ZSdcbiAgICAgICAgOiBnZXRGaWxlTWltZXR5cGUoaWNvbnMpKGZpbGUubWltZSwgZmlsZS5uYW1lKSB8fCAnZmlsZXMnXG4gIGNvbnN0IGljb24gPSBpY29uc1trZXlJY29uXS5kZWZhdWx0XG5cbiAgcmV0dXJuIGBkYXRhOmltYWdlL3N2Zyt4bWw7dXRmOCw8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzMyJyBoZWlnaHQ9JzMyJyB2aWV3Qm94PScke1xuICAgIGljb24udmlld0JveFxuICB9Jz4ke2ljb24uY29udGVudH08dXNlIGhyZWY9JyMke1xuICAgIGljb24uaWRcbiAgfScgeD0nMCcgeT0nMCcgd2lkdGg9JzMyJyBoZWlnaHQ9JzMyJy8+PC9zdmc+YC5yZXBsYWNlKC8jL2csICclMjMnKVxufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoQ2xpZW50KFN1Z2dlc3Rpb25Qcm92aWRlcilcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFFQTs7Ozs7O0FBQ0E7Ozs7OztBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFBQTtBQUhBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FBZUE7QUFDQTs7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQURBO0FBQ0E7QUFFQTtBQWhCQTtBQUFBO0FBcUJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQU1BO0FBQ0E7QUFSQTtBQUFBO0FBQ0E7QUFEQTtBQVVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFaQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFjQTtBQWRBO0FBQUE7QUFDQTtBQURBO0FBZ0JBO0FBQ0E7QUFqQkE7QUFBQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFDQTtBQXJCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQXRCQTtBQW9CQTtBQStCQTtBQUNBO0FBQ0E7QUFDQTtBQXREQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF3REE7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQXRHQTtBQUNBO0FBd0dBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQURBOzs7Ozs7Ozs7O0FBdElBO0FBRUE7QUF5R0E7QUFNQTtBQUtBOzs7Ozs7Ozs7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/drive/web/modules/services/components/SuggestionProvider.jsx\n");

/***/ })

})